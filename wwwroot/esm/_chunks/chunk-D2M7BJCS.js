import{D as c,E as h,F as P}from"./chunk-TXZZYEY4.js";import{b as D}from"./chunk-J32UWVCU.js";import{a as I}from"./chunk-DNINIZJD.js";import{c as g,g as v,h as y,k as u}from"./chunk-L3ECGIWB.js";var s=v(I(),1);var m=v(u(),1),E=v(u(),1),S=v(u(),1);var p=class extends s.EntityDialog{constructor(){super(...arguments);this.form=new c(this.idPrefix)}getFormKey(){return c.formKey}getRowDefinition(){return h}getService(){return P.baseUrl}onDialogOpen(){super.onDialogOpen(),this.deleteButton.hide();var t=this,l=document.getElementById(this.idPrefix+"TerminateLeaveDate"),d=document.getElementById(this.idPrefix+"TerminateDate"),f=document.getElementById(this.idPrefix+"NoticePeriod");s.EditorUtils.setReadonly(this.form.TerminateLeaveDate.element,!0),$("#"+this.idPrefix+"NoticePeriod").attr("placeholder","notice period in day"),$(f).on("change",function(T){if((0,m.isEmptyOrNull)($(f).val())){t.form.TerminateLeaveDate.value="";return}if((0,m.isEmptyOrNull)($(d).val())){t.form.TerminateLeaveDate.value="";return}let r=$(d).val(),a=r.split("/"),i=parseInt(a[0])-1,o=parseInt(a[1]),n=parseInt(a[2]),e=new Date(n,i,o);e.setDate(e.getDate()+t.form.NoticePeriod.value),i=(e.getMonth()+1).toString().padStart(2,"0"),o=e.getDate().toString().padStart(2,"0"),n=e.getFullYear(),r=`${i}/${o}/${n}`,$(l).val(r)}),$(d).on("change",function(T){if((0,m.isEmptyOrNull)($(f).val())){t.form.TerminateLeaveDate.value="";return}if((0,m.isEmptyOrNull)($(d).val())){t.form.TerminateLeaveDate.value="";return}let r=$(d).val(),a=r.split("/"),i=parseInt(a[0])-1,o=parseInt(a[1]),n=parseInt(a[2]),e=new Date(n,i,o);e.setDate(e.getDate()+t.form.NoticePeriod.value),i=(e.getMonth()+1).toString().padStart(2,"0"),o=e.getDate().toString().padStart(2,"0"),n=e.getFullYear(),r=`${i}/${o}/${n}`,$(l).val(r)})}save_submitHandler(t){var l=this;if((0,m.isEmptyOrNull)(l.form.TerminateDate.value)){(0,S.alertDialog)("Please make sure the terminate date is correct");return}(0,E.confirm)("Are you sure to terminate this employee?",()=>{D.Update({EntityId:l.entityId,Entity:{Terminated:1}}),l.readOnly=!0,super.save_submitHandler(t)})}};g(p,"TerminateEmployeeDialog"),p=y([s.Decorators.registerClass("HRMSoftware.EmployeeProfile.TerminateEmployeeDialog")],p);export{p as a};
//# sourceMappingURL=chunk-D2M7BJCS.js.map
