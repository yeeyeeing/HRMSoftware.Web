{
  "version": 3,
  "sources": ["../../../Modules/HumanResource/PayrollSettings/Payroll/PayrollDialog.ts", "../../../Modules/HumanResource/PayrollSettings/PayrollGeneratingWizard/PayrollGeneratingWizardDialog.ts"],
  "sourcesContent": ["import {  Criteria, Decorators, EditorUtils, EntityDialog, RetrieveResponse, Select2Editor } from '@serenity-is/corelib';\nimport { EmployeeAllowanceRow, EmployeeAllowanceService, EmployeeProfileService, EmployeeType, EPFClass, FixedDeductionRow, FixedDeductionService, MaritalStatus } from '../../../ServerTypes/EmployeeProfile';\nimport { EisSubjectionService, EmployerContributionsRow, EpfSubjectionService, HrdfSubjectionService, NoPaidLeaveRow, NoPaidLeaveService, PayrollDeductionsRow, PayrollDeductionsService, PayrollEarningsRow, PayrollEarningsService, PayrollForm, PayrollRow, PayrollService, PayslipDeductedOneTimeDeductionsRow, PayslipPaidMoneyClaimingRow, PayslipPaidOneTimeAllowanceRow, PcbSubjectionService, SocsoSubjectionService } from '../../../ServerTypes/PayrollSettings';\nimport { ListResponse, serviceCall, Authorization } from '@serenity-is/corelib/q';\nimport { OTApplicationRow, OTApplicationService } from '../../../ServerTypes/OTApplication';\nimport { alertDialog, isEmptyOrNull } from '@serenity-is/corelib/q';\nimport { MoneyClaimApplicationRow, MoneyClaimApplicationService } from '../../../ServerTypes/MoneyClaimApplication';\nimport { data } from 'jquery';\nimport { EmployeeEarlyLeavingRow, EmployeeEarlyLeavingService } from '../../../ServerTypes/EmployeeEarlyLeaving';\nimport { CompanySettingsService } from '../../../ServerTypes/CompanySettings';\nimport { EmployeeLateRow, EmployeeLateService } from '../../../ServerTypes/EmployeeLate';\nimport { LeaveApplicationRow, LeaveApplicationService } from '../../../ServerTypes/LeaveApplication';\nimport { confirmDialog, confirm, notifySuccess, notifyError, notifyInfo } from '@serenity-is/corelib/q';\nimport { PermissionKeys } from '../../../ServerTypes/Administration';\nimport { AnnouncementWizardService } from '../../../ServerTypes/Announcement';\n\nexport interface Subjection {\n    id: number;\n    name: string;\n    subjection: number;\n}\n/*\nsubjection format\n(X,X,X,X)\n(EPF,EIS,HRDF,SOCSO)\nExample:(0,1,1,0)\nThe external earning subjected to eis and socso\n*/\n@Decorators.registerClass('HRMSoftware.PayrollSettings.PayrollDialog')\nexport class PayrollDialog extends EntityDialog<PayrollRow, any> {\n    protected getFormKey() { return PayrollForm.formKey; }\n    protected getRowDefinition() { return PayrollRow; }\n    protected getService() { return PayrollService.baseUrl; }\n\n    protected form = new PayrollForm(this.idPrefix);\n    public ExternalEarnings: string[] = [];\n    public ExternalDeductions: string[] = [];\n    public ExternalEarning: string;\n    public ExternalDeduction: string;\n    public EarningsString: string[] = []\n    public DeductionsString: string[] = []\n    public FinalEarnings: string[] = []\n    public FinalDeductions: string[] = []\n    public EmployerContributions: string[] = []\n\n\n    public EmployeeType: number; // check whether local or not\n    public EpfSubjection: number;\n\n    public NettDeductions: number;\n    public NettEarnings: number;\n    public NettEmployerContributions: number;\n\n    public EmployeeRowId: number;\n\n    public ListOfEpfSubjection: Subjection[] = [];\n    public ListOfEisSubjection: Subjection[] = [];\n    public ListOfHrdfSubjection: Subjection[] = [];\n    public ListOfSocsoSubjection: Subjection[] = [];\n    public ListOfPcbSubjection: Subjection[] = [];\n\n    public EpfAmount: number;\n    public EisAmount: number;\n    public PcbAmount: number;\n    public SocsoAmount: number;\n    public HrdfAmount: number;\n\n\n    public EmployeeEpf: number;\n    public EmployeeEis: number;\n    public EmployeePcb: number;\n    public EmployeeSocso: number;\n\n\n\n    public EmployerEpf: number;\n    public EmployerEis: number;\n    public EmployerSocso: number;\n    public EmployerHrdf: number;\n\n\n    public ListOfCriteria: string[] = [];\n\n\n\n    public NoPaidLeaveId: number[] = [];\n    public MoneyClaimingId: number[] = [];\n    public OtPayId: number[] = [];\n    public LateArrivalId: number[] = [];\n    public EarlyLeavingId: number[] = [];\n\n\n\n\n    public ReadOnly: boolean;\n    public PayDate: number;\n\n    public DeductEarlyLeaving: boolean;\n    public DeductLateArrival: boolean;\n\n    public listOfDicts: Item[] = [];\n    public dateString: string;\n    public AllowanceId: number[] = [];\n    public DeductionId: number[] = [];\n    public WizEmployeeRowId: number;\n    public PayYear: number;\n    public PayMonth: number;\n    public PayDateWiz: string;\n    public PayPeriodStart: string;\n    public PayPeriodEnd: string;\n\n\n    constructor(Wiz,WizEmployeeRowId, PayYear, PayMonth, PayDateWiz, PayPeriodStart, PayPeriodEnd) {\n        super();\n        this.Wiz = Wiz\n        this.WizEmployeeRowId = WizEmployeeRowId\n        this.PayYear = PayYear\n        this.PayMonth = PayMonth\n        this.PayDateWiz = PayDateWiz\n        this.PayPeriodStart = PayPeriodStart\n        this.PayPeriodEnd = PayPeriodEnd\n\n        this.ReadOnly = false\n\n    }\n\n    public dialogClose(): void {\n\n        $(\"#NewEarningsCategory\").remove();\n        super.dialogClose()\n    }\n  \n    protected getDialogOptions() {\n        let opt = super.getDialogOptions()\n        opt.width = opt.width + 550\n        return opt\n    }\n    public ResetTable(): void {\n        console.log('reset  table')\n        $('#AllowanceDeductionBody, #EarningDeductionBody, #MoneyClaimingBody').empty()\n        $(`#EarlyLeavingRate, #LateArrivalRate, #EarlyLeavingSubtotal, #LateArrivalSubtotal,\n        #NplDayRate, #totalOt, #NplHrRate, #AbsentDayRate`).text(0)\n        var ot = document.getElementById(\"Ot1.0x\")\n        if (ot)\n            ot.textContent = \"0\"\n\n        ot = document.getElementById(\"Ot1.5x\")\n        if (ot)\n            ot.textContent = \"0\"\n\n        ot = document.getElementById(\"Ot2.0x\")\n        if (ot)\n            ot.textContent = \"0\"\n        \n        ot = document.getElementById(\"Ot1.0xValueTotal\")\n        if (ot)\n            ot.textContent = \"0\"\n        ot = document.getElementById(\"Ot1.5xValueTotal\")\n        if (ot)\n            ot.textContent = \"0\"\n        ot = document.getElementById(\"Ot2.0xValueTotal\")\n        if (ot)\n            ot.textContent = \"0\"\n        $(`#OtOnePointFiveTime, #OtTwoTime, #OtOneTime, #TotalSOCSO, #TotalEPF, #Deduction,\n        #Allowance, #TotalEIS, #TotalHRD, #TotalTaxableWage, #GrossWage, #EmployerEPF, #EmployeeEPF,\n        #EmployerSOCSO, #EmployeeSOCSO, #EmployerEIS, #EmployeeEIS, #HRD, #PCB, #TotalAllowance, #TotalDeduction,\n        #EarlyLeavingMinutes,  #LateArrivalMinutes, #GrossWage, #NettWage, #GrossWage, #totalEmployerContribution,\n        #totalEmployeeContribution`).val(0)\n\n    }\n    public Setup(): void {\n        var self = this\n        var tabId = this.idPrefix + \"PropertyGrid\"\n        var node3 = document.getElementById(tabId);\n        console.log(node3)\n        var divNode = document.createElement('DIV')\n        divNode.classList.add('category-title')\n        divNode.setAttribute(\"id\", \"PayRoll-Description\")\n        divNode.style.display = 'flex'; // Make the container a flex container to display tables side by side\n        node3.appendChild(divNode)\n        var node4 = document.createElement(\"a\");\n        node4.classList.add(\"category-anchor\");\n        var textnode = document.createTextNode(\"Employee Payroll\");\n        node4.appendChild(textnode);\n        document.getElementById(\"PayRoll-Description\").append(node4);\n        var node5 = document.getElementById(\"PayRoll-Description\");\n        node5.insertAdjacentHTML('afterend', '<div class=\"DataGrid\" id=\"PayRollGrid\"></div>');\n        var PayRollGrid = document.getElementById(\"PayRollGrid\");\n        PayRollGrid.style.display = 'flex'; // Make the container a flex container to display tables side by side\n\n        var TableNode = document.createElement('TABLE');\n        TableNode.style.width = \"66%\";\n        TableNode.id = 'PayrollTable'\n        TableNode.className = 'table'\n\n        var TableHead = document.createElement('thead');\n        TableHead.className = \"thead-dark\"\n        TableHead.id = 'PayrollTableHeader'\n\n        var TableBody = document.createElement('tbody')\n        TableBody.id = 'PayrollTableBody'\n\n        var theadnode = document.createElement('tr')\n        var TableFoot = document.createElement('tfoot')\n        TableFoot.id = 'PayrollTableFoot'\n\n\n\n\n        var header1 = document.createElement('TH');\n        var header2 = document.createElement('TH');\n        var header3 = document.createElement('TH');\n        var header4 = document.createElement('TH');\n        header1.style.width = \"25%\";\n        header2.style.width = \"25%\";\n        header3.style.width = \"25%\";\n        header4.style.width = \"25%\";\n        var textnode1 = document.createTextNode(\"Description\");\n        var textnode2 = document.createTextNode(\"Earnings\");\n        var textnode3 = document.createTextNode(\"Description\");\n        var textnode4 = document.createTextNode(\"Deductions\");\n        header1.appendChild(textnode1);\n        header2.appendChild(textnode2);\n        header3.appendChild(textnode3);\n        header4.appendChild(textnode4);\n\n        var EmployerContributionsNode = document.createElement('TABLE');\n        //EmployerContributionsNode.style.width = \"33%\";\n        EmployerContributionsNode.style.height = \"55%\";\n        EmployerContributionsNode.id = 'EmployerContributionsTable'\n\n        var EmployerContributionsTableHead = document.createElement('thead');\n        EmployerContributionsTableHead.className = \"thead-dark\"\n        EmployerContributionsTableHead.id = 'EmployerContributionsHeader'\n\n        var EmployerContributionsTableBody = document.createElement('tbody')\n        EmployerContributionsTableBody.id = 'EmployerContributionsBody'\n\n        var EmployerContributionsTableFoot = document.createElement('tfoot')\n        EmployerContributionsTableFoot.id = 'EmployerContributionsFoot'\n\n\n\n\n\n\n        var EmployerContributionsDescriptionNode = document.createElement('TR');\n        var EmployerContributionsHeader1 = document.createElement('TH');\n        var EmployerContributionsHeader2 = document.createElement('TH');\n\n        EmployerContributionsHeader1.style.width = \"50%\";\n        EmployerContributionsHeader2.style.width = \"50%\";\n        var EmployerContributionstextnode1 = document.createTextNode(\"Description\");\n        var EmployerContributionstextnode2 = document.createTextNode(\"Employer Contributions\");\n        EmployerContributionsHeader1.appendChild(EmployerContributionstextnode1);\n        EmployerContributionsHeader2.appendChild(EmployerContributionstextnode2);\n\n\n        theadnode.appendChild(header1)\n        theadnode.appendChild(header2)\n        theadnode.appendChild(header3)\n        theadnode.appendChild(header4)\n\n        TableHead.appendChild(theadnode)\n        TableNode.appendChild(TableHead)\n        TableNode.appendChild(TableBody)\n        TableNode.appendChild(TableFoot)\n\n        EmployerContributionsDescriptionNode.appendChild(EmployerContributionsHeader1)\n        EmployerContributionsDescriptionNode.appendChild(EmployerContributionsHeader2)\n        EmployerContributionsTableHead.appendChild(EmployerContributionsDescriptionNode)\n\n\n        EmployerContributionsNode.appendChild(EmployerContributionsTableHead)\n        EmployerContributionsNode.appendChild(EmployerContributionsTableBody)\n        EmployerContributionsNode.appendChild(EmployerContributionsTableFoot)\n\n\n        var div1 = document.createElement('div')\n        div1.className = 'col-md-6'\n        div1.id = 'left'\n        var NplAbsentTableContainer = document.createElement('div')\n        NplAbsentTableContainer.id = 'NplAbsentTableContainer'\n        div1.appendChild(NplAbsentTableContainer)\n        var OvertimeTableContainer = document.createElement('div')\n        OvertimeTableContainer.id = 'OvertimeTableContainer'\n        div1.appendChild(OvertimeTableContainer)\n\n        var EarlyLeavingTableContainer = document.createElement('div')\n        EarlyLeavingTableContainer.id = 'EarlyLeavingTableContainer'\n        div1.appendChild(EarlyLeavingTableContainer)\n\n\n\n\n        var NplAbsentTable = document.createElement(\"table\");\n        NplAbsentTable.id = 'NplAbsentTable'\n\n        var NplAbsentTableHead = document.createElement(\"thead\");\n        NplAbsentTableHead.innerHTML = `\n      <tr>\n        <th rowspan=\"2\">NPL/Absent</th>\n        <th colspan=\"3\" id=\"totalNplAbsentDeduction\">\n            <span>Total:</span> <span id=\"totalNplAbsent\">0</span>\n        </th>\n      </tr>\n      `;\n        NplAbsentTable.appendChild(NplAbsentTableHead);\n        var tableData = [\n            { label: \"NPL Day\", id: \"NplDayRate\", inputId: \"NplDay\", valueId: \"NplDayValue\", value: 0, total: 0, adjustment: 0 },\n            { label: \"NPL Hourly\", id: \"NplHrRate\", inputId: \"NplHr\", valueId: \"NplHrValue\", value: 0, total: 0, adjustment: 0 },\n            { label: \"Absent Day\", id: \"AbsentDayRate\", inputId: \"AbsentDay\", valueId: \"AbsentDayValue\", value: 0, total: 0, adjustment: 0 },\n        ];\n\n        const NplAbsentTableBody = document.createElement(\"tbody\");\n        NplAbsentTableBody.id = 'NplAbsentTableBody'\n        tableData.forEach(row => {\n            const tr = document.createElement(\"tr\");\n            tr.innerHTML = `\n        <td class=\"Description\">${row.label}</td>\n        <td class=\"rates\"> <span class=\"ratesValue\" id = ${row.id} > ${row.value} </span> </td>\n        <td class =\"numberInputContainer\"> <input id = ${row.inputId} min=\"0\" class=\"nplDates numberInput\" type=\"number\" value=\"${row.total.toFixed(2)}\" ></td>\n        <td class =\"subTotalContainer\">  <span id = ${row.valueId} class=\"subTotal\">0.00</span> </td>\n      `;\n            NplAbsentTableBody.appendChild(tr);\n        });\n        NplAbsentTable.appendChild(NplAbsentTableBody);\n        NplAbsentTableContainer.appendChild(NplAbsentTable);\n\n\n\n\n\n\n\n\n\n        var OvertimeTable = document.createElement(\"table\");\n        OvertimeTable.id = 'OvertimeTable'\n\n        var OvertimeTableHead = document.createElement(\"thead\");\n        OvertimeTableHead.innerHTML = `\n      <tr>\n        <th rowspan=\"2\">Overtime</th>\n        <th colspan=\"3\" id=\"OvertimeAddition\">\n            <span>Total:</span> <span id=\"totalOt\">0</span>\n        </th>\n      </tr>\n      `;\n\n        OvertimeTable.appendChild(OvertimeTableHead);\n        var OtData = [\n            { label: \"OT1.0x\", descId:\"flatOtDesc\",id: \"Ot1.0x\", valueId: \"Ot1.0xValue\", inputId: \"OtOneTime\", value: 0, total: 0, adjustment: 0 },\n            { label: \"OT1.5x\", descId: \"OnePointFiveOtDesc\",id: \"Ot1.5x\", valueId: \"Ot1.5xValue\", inputId: \"OtOnePointFiveTime\", value: 0, total: 0, adjustment: 0 },\n            { label: \"OT2.0x\", descId: \"TwoOtDesc\",id: \"Ot2.0x\", valueId: \"Ot2.0xValue\", inputId: \"OtTwoTime\", value: 0, total: 0, adjustment: 0 },\n        ];\n\n\n        const OvertimeTableBody = document.createElement(\"tbody\");\n        OvertimeTableBody.id = 'OvertimeTableBody'\n        OtData.forEach(row => {\n            const tr = document.createElement(\"tr\");\n            tr.innerHTML = `\n        <td class=\"Description\" id=${row.descId}>${row.label}</td>\n        <td class=\"rates\"> <span class=\"ratesValue\" id=${row.id}> ${row.value} </span> </td>\n        <td class =\"numberInputContainer\"> <input id=${row.inputId} min=\"0\" class=\"overtime numberInput\" type=\"number\" value=\"${row.total.toFixed(2)}\" ></td>\n        <td>  <span class=\"subTotal\" id=${row.valueId}Total>0.00</span> </td>\n      `;\n            OvertimeTableBody.appendChild(tr);\n        });\n        OvertimeTable.appendChild(OvertimeTableBody);\n        OvertimeTableContainer.appendChild(OvertimeTable);\n\n\n\n\n\n\n\n\n\n\n\n\n        var EarlyLeavingTable = document.createElement(\"table\");\n        EarlyLeavingTable.id = 'EarlyLeavingTable'\n\n        var EarlyLeavingTableHead = document.createElement(\"thead\");\n        EarlyLeavingTableHead.innerHTML = `\n      <tr>\n        <th rowspan=\"2\">Time Deduction</th>\n        <th colspan=\"3\" id=\"ShiftAddition\">\n            <span>Total:</span> <span id=\"totalTimeDeduction\">0</span>\n        </th>\n      </tr>\n      `;\n\n        EarlyLeavingTable.appendChild(EarlyLeavingTableHead);\n        var ShiftData = [\n            { label: \"Early Leaving\", Minutes: \"EarlyLeavingMinutes\", RateId: \"EarlyLeavingRate\", SubtotalId: \"EarlyLeavingSubtotal\", total: 0, adjustment: 0 },\n            { label: \"Late Arrival\", Minutes: \"LateArrivalMinutes\", RateId: \"LateArrivalRate\", SubtotalId: \"LateArrivalSubtotal\", total: 0, adjustment: 0 }\n        ];\n\n        const EarlyLeavingTableBody = document.createElement(\"tbody\");\n        EarlyLeavingTableBody.id = 'EarlyLeavingTableBody'\n        ShiftData.forEach(row => {\n            const tr = document.createElement(\"tr\");\n            tr.innerHTML = `\n        <td class=\"Description\">${row.label}</td>\n        <td class=\"rates\"> <span id=${row.RateId} class=\"ratesValue\">0</span> </td>\n        <td class =\"numberInputContainer\"> <input min=\"0\" id=${row.Minutes} class=\"time numberInput\" type=\"number\" value=\"${row.total.toString()}\" ></td>\n        <td>  <span class=\"subTotal\"  id=${row.SubtotalId} >0.00</span> </td>\n      `;\n            EarlyLeavingTableBody.appendChild(tr);\n        });\n        EarlyLeavingTable.appendChild(EarlyLeavingTableBody);\n        EarlyLeavingTableContainer.appendChild(EarlyLeavingTable);\n\n\n\n\n\n\n\n\n\n\n        var div2 = document.createElement('div')\n        div2.className = 'col-md-4'\n        div2.id = 'center'\n        var AllowanceDeductionContainer = document.createElement('div')\n        AllowanceDeductionContainer.id = 'AllowanceDeductionContainer'\n        div2.appendChild(AllowanceDeductionContainer)\n\n        var AllowanceDeductionTable = document.createElement(\"table\");\n        AllowanceDeductionTable.id = 'AllowanceDeductionTable'\n\n        var AllowanceDeductionHead = document.createElement(\"thead\");\n        AllowanceDeductionHead.innerHTML = `\n      <tr>\n        <th colspan=\"3\">Allowance/Deduction</th>\n      </tr>\n      <tr>\n        <th>Code</th>\n        <th>Description</th>\n        <th>Amount</th>\n      </tr>\n      `;\n\n        AllowanceDeductionTable.appendChild(AllowanceDeductionHead);\n\n        const AllowanceDeductionBody = document.createElement(\"tbody\");\n        AllowanceDeductionBody.id = 'AllowanceDeductionBody'\n        AllowanceDeductionTable.appendChild(AllowanceDeductionBody);\n        AllowanceDeductionContainer.appendChild(AllowanceDeductionTable);\n\n\n\n\n\n\n\n\n\n\n\n\n        var MoneyClaimingContainer = document.createElement('div')\n        MoneyClaimingContainer.id = 'MoneyClaimingContainer'\n        div2.appendChild(MoneyClaimingContainer)\n\n        var MoneyClaimingTable = document.createElement(\"table\");\n        MoneyClaimingTable.id = 'MoneyClaimingTable'\n\n        var MoneyClaimingHead = document.createElement(\"thead\");\n        MoneyClaimingHead.innerHTML = `\n      <tr>\n        <th colspan=\"3\">Money Claiming</th>\n      </tr>\n      <tr>\n        <th>Category</th>\n        <th>Description</th>\n        <th>Amount</th>\n      </tr>\n      `;\n\n        MoneyClaimingTable.appendChild(MoneyClaimingHead);\n        const MoneyClaimingBody = document.createElement(\"tbody\");\n        MoneyClaimingBody.id = 'MoneyClaimingBody'\n        MoneyClaimingTable.appendChild(MoneyClaimingBody);\n        MoneyClaimingContainer.appendChild(MoneyClaimingTable);\n\n\n\n\n\n\n\n\n\n\n\n        var EarningDeductionContainer = document.createElement('div')\n        EarningDeductionContainer.id = 'EarningDeductionContainer'\n        div2.appendChild(EarningDeductionContainer)\n\n        var EarningDeductionTable = document.createElement(\"table\");\n        EarningDeductionTable.id = 'EarningDeductionTable'\n\n        var EarningDeductionHead = document.createElement(\"thead\");\n        EarningDeductionHead.innerHTML = `\n      <tr>\n        <th colspan=\"3\">Extra Earnings/Deductions</th>\n      </tr>\n      <tr>\n        <th>Code</th>\n        <th>Description</th>\n        <th>Amount</th>\n      </tr>\n      `;\n\n        EarningDeductionTable.appendChild(EarningDeductionHead);\n        const EarningDeductionBody = document.createElement(\"tbody\");\n        EarningDeductionBody.id = 'EarningDeductionBody'\n        EarningDeductionTable.appendChild(EarningDeductionBody);\n        EarningDeductionContainer.appendChild(EarningDeductionTable);\n\n\n\n\n\n\n\n\n\n\n\n\n        var div3 = document.createElement('div')\n        div3.className = 'col-md-2 section'\n        div3.id = 'right'\n        const htmlContent1 = `\n      <h3>Statutory Contribution</h3>\n      <table class = \"StatutoryContribution\">\n\n        <tr>\n          <td></td>\n          <td>Employer</td>\n          <td>Employee</td>\n        </tr>\n\n        <tr>\n          <td>EPF</td>\n          <td><input class=\"govPayment\" id=\"EmployerEPF\" type=\"number\" value=\"0.0\" ></td>\n          <td><input class=\"govPayment\" id=\"EmployeeEPF\" type=\"number\" value=\"0.0\" ></td>\n        </tr>\n\n        \n        <tr>\n          <td>SOCSO </td>\n          <td><input class=\"govPayment\" id=\"EmployerSOCSO\" type=\"number\" value=\"0.0\" ></td>\n          <td><input class=\"govPayment\" id=\"EmployeeSOCSO\" type=\"number\" value=\"0.0\" ></td>\n        </tr>\n\n        <tr>\n          <td>EIS </td>\n          <td><input class=\"govPayment\" id=\"EmployerEIS\" type=\"number\" value=\"0.0\" ></td>\n          <td><input class=\"govPayment\" id=\"EmployeeEIS\" type=\"number\" value=\"0.0\" ></td>\n        </tr>\n\n        <tr>\n          <td>HRD</td>\n          <td><input class=\"govPayment\" id=\"HRD\" type=\"number\" value=\"0.0\" ></td>\n          <td></td>\n        </tr>\n\n        <tr>\n          <td>PCB</td>\n           <td></td>\n          <td><input class=\"govPayment\" id=\"PCB\" type=\"number\" value=\"0.0\" ></td>\n        </tr>\n\n        <tr>\n          <td>Total</td>\n          <td><input class=\"govPayment\" id=\"totalEmployerContribution\" type=\"number\" value=\"0.0\" readonly></td>\n          <td><input class=\"govPayment\" id=\"totalEmployeeContribution\" type=\"number\" value=\"0.0\" readonly></td>\n        </tr>\n\n\n      </table>\n    `;\n        const htmlContent2 = `\n      <h3>Total Wages</h3>\n      <table class = \"TotalWages\" >\n        <tr>\n          <td>Total Allowance</td>\n          <td><input id=\"TotalAllowance\" type=\"number\" value=\"0.0\" readonly></td>\n        </tr>\n        <tr>\n          <td>Total Deduction</td>\n          <td><input id=\"TotalDeduction\" type=\"number\" value=\"0.00\" readonly></td>\n        </tr>\n        <tr>\n          <td>EPF Wage</td>\n          <td><input id=\"TotalEPF\" type=\"number\" value=\"0.0\" readonly></td>\n        </tr>\n        <tr>\n          <td>HRD Wage</td>\n          <td><input id=\"TotalHRD\" type=\"number\" value=\"0.0\" readonly></td>\n        </tr>\n\n\n\n        <tr>\n          <td>SOCSO Wage</td>\n          <td><input id=\"TotalSOCSO\" type=\"number\" value=\"0.0\" readonly></td>\n        </tr>\n        <tr>\n          <td>EIS Wage</td>\n          <td><input id=\"TotalEIS\" type=\"number\" value=\"0.0\" readonly></td>\n        </tr>\n        <tr>\n          <td>Total Taxable Wage</td>\n          <td><input id=\"TotalTaxableWage\" type=\"number\" value=\"0.0\" readonly></td>\n        </tr>\n        <tr>\n          <td>Gross Wage</td>\n          <td><input id=\"GrossWage\"  type=\"number\" value=\"0.0\" readonly></td>\n        </tr>\n        <tr>\n          <td>Nett Wage</td>\n          <td><input id=\"NettWage\" type=\"number\" value=\"0.0\" readonly></td>\n        </tr>\n      </table>\n    `\n\n        var AllowanceDeductionContainer = document.createElement('div')\n        AllowanceDeductionContainer.id = 'AllowanceDeductionContainer'\n        AllowanceDeductionContainer.className = 'section'\n        AllowanceDeductionContainer.innerHTML = htmlContent1\n        div3.appendChild(AllowanceDeductionContainer)\n\n\n        var Container2 = document.createElement('div')\n        Container2.id = 'Container2'\n        Container2.className = 'section'\n        Container2.innerHTML = htmlContent2\n        div3.appendChild(Container2)\n\n\n        document.getElementById(\"PayRollGrid\").append(div1);\n        document.getElementById(\"PayRollGrid\").append(div2);\n        document.getElementById(\"PayRollGrid\").append(div3);\n\n\n        var govPayment = document.getElementsByClassName('govPayment');\n        $(govPayment).on('change', async function (e) {\n            self.updateWages()\n        })\n\n\n        var nplDates = document.getElementsByClassName('numberInput');\n        $(nplDates).on('change', async function (e) {\n            self.updateTotals()\n        })\n\n    }\n    public onDialogOpen() {\n        super.onDialogOpen()\n        var self = this\n        PcbSubjectionService.List({\n        }, response => {\n        \n            for (var index in response.Entities) {\n                if (response.Entities[index].IsActive == 1) {\n                    var dict = response.Entities[index]\n                    var keys = Object.keys(dict);\n                    for (var j = 0; j < keys.length; j++) {\n                        var key = keys[j];\n                        if (key.toLowerCase() == 'id' || key.toLowerCase() == 'isactive')\n                            continue\n                        if (dict[key] != true && dict[key] != false && dict[key] !== undefined)\n                            continue\n                        var NewKey = key.replace(/([A-Z])/g, ' $1').trim();\n                        // Access each key here\n                        this.ListOfPcbSubjection.push({\n                            id: j,\n                            name: NewKey,\n                            subjection: dict[key],\n                        })\n                    }\n                    break\n                }\n            }\n            EpfSubjectionService.List({\n            }, response => {\n                for (var index in response.Entities) {\n                    if (response.Entities[index].IsActive == 1) {\n                        var dict = response.Entities[index]\n                        var keys = Object.keys(dict);\n                        for (var j = 0; j < keys.length; j++) {\n                            var key = keys[j];\n                            if (key.toLowerCase() == 'id' || key.toLowerCase() == 'isactive')\n                                continue\n                            if (dict[key] != true && dict[key] != false && dict[key] !== undefined)\n                                continue\n                            var NewKey = key.replace(/([A-Z])/g, ' $1').trim();\n\n                            // Access each key here\n                            this.ListOfEpfSubjection.push({\n                                id: j,\n                                name: NewKey,\n                                subjection: dict[key],\n                            })\n                        }\n                        break\n                    }\n                }\n                var BufferDict = this.ListOfEpfSubjection\n                var keys = Object.keys(BufferDict);\n                for (var j = 0; j < keys.length; j++) {\n                    var key = keys[j];\n                    this.ListOfCriteria.push(BufferDict[key].name)\n                }\n                EisSubjectionService.List({\n                }, response => {\n                    for (var index in response.Entities) {\n                        if (response.Entities[index].IsActive == 1) {\n                            var dict = response.Entities[index]\n                            var keys = Object.keys(dict);\n\n                            for (var j = 0; j < keys.length; j++) {\n                                var key = keys[j];\n                                if (key.toLowerCase() == 'id' || key.toLowerCase() == 'isactive')\n                                    continue\n                                if (dict[key] != true && dict[key] != false && dict[key] !== undefined)\n                                    continue\n                                // Access each key here\n                                var NewKey = key.replace(/([A-Z])/g, ' $1').trim();\n\n                                this.ListOfEisSubjection.push({\n                                    id: j,\n                                    name: NewKey,\n                                    subjection: dict[key],\n                                })\n                            }\n                            break\n                        }\n                    }\n                    HrdfSubjectionService.List({\n                    }, response => {\n                        for (var index in response.Entities) {\n                            if (response.Entities[index].IsActive == 1) {\n                                var dict = response.Entities[index]\n                                var keys = Object.keys(dict);\n                                for (var j = 0; j < keys.length; j++) {\n                                    var key = keys[j];\n                                    if (key.toLowerCase() == 'id' || key.toLowerCase() == 'isactive')\n                                        continue\n                                    if (dict[key] != true && dict[key] != false && dict[key] !== undefined)\n                                        continue\n                                    // Access each key here\n                                    var NewKey = key.replace(/([A-Z])/g, ' $1').trim();\n\n                                    this.ListOfHrdfSubjection.push({\n                                        id: j,\n                                        name: NewKey,\n                                        subjection: dict[key],\n                                    })\n                                }\n                                break\n                            }\n                        }\n                        SocsoSubjectionService.List({\n                        }, response => {\n                            for (var index in response.Entities) {\n                                if (response.Entities[index].IsActive == 1) {\n                                    var dict = response.Entities[index]\n                                    var keys = Object.keys(dict);\n                                    for (var j = 0; j < keys.length; j++) {\n                                        var key = keys[j];\n                                        if (key.toLowerCase() == 'id' || key.toLowerCase() == 'isactive')\n                                            continue\n\n                                        if (dict[key] != true && dict[key] != false && dict[key] !== undefined)\n                                            continue\n\n                                        // Access each key here\n                                        var NewKey = key.replace(/([A-Z])/g, ' $1').trim();\n\n                                        this.ListOfSocsoSubjection.push({\n                                            id: j,\n                                            name: NewKey,\n                                            subjection: dict[key],\n                                        })\n                                    }\n                                    break\n                                }\n                            }\n\n\n                            if (this.isNew()) {\n                                var Overtime = 'Overtime Payments'\n                                var Eis = this.CheckSubjection(this.ListOfEisSubjection, Overtime)\n                                var Epf = this.CheckSubjection(this.ListOfEpfSubjection, Overtime)\n                                var Hrdf = this.CheckSubjection(this.ListOfHrdfSubjection, Overtime)\n                                var Pcb = this.CheckSubjection(this.ListOfPcbSubjection, Overtime)\n                                var Socso = this.CheckSubjection(this.ListOfSocsoSubjection, Overtime)\n                                self.form.OtSubjectEis.value = Eis == 1 ? true : false\n                                self.form.OtSubjectEpf.value = Epf == 1 ? true : false\n                                self.form.OtSubjectHrdf.value = Hrdf == 1 ? true : false\n                                self.form.OtSubjectPcb.value = Pcb == 1 ? true : false\n                                self.form.OtSubjectSocso.value = Socso == 1 ? true : false\n\n                                $('#totalOt').attr('eis', Eis)\n                                $('#totalOt').attr('epf', Epf)\n                                $('#totalOt').attr('hrdf', Hrdf)\n                                $('#totalOt').attr('pcb', Pcb)\n                                $('#totalOt').attr('socso', Socso)\n                            }\n\n                        });\n\n                    });\n\n                });\n\n            });\n\n        });\n\n    }\n    public WeekdayMultiplier: number;\n    public WeekendMultiplier: number;\n    public PublicHolidayMultiplier: number;\n    public calculateAge(): number {\n        const today = new Date(this.dateString);\n        const birthday = new Date(this.form.BirthDay.value);\n        const age = today.getFullYear() - birthday.getFullYear();\n        const lastBirthday = new Date(today.getFullYear(), birthday.getMonth(), birthday.getDate());\n        if (today < lastBirthday) \n            lastBirthday.setFullYear(lastBirthday.getFullYear() - 1);\n        const timeSinceLastBirthday = today.getTime() - lastBirthday.getTime();\n        const nextBirthday = new Date(lastBirthday);\n        nextBirthday.setFullYear(nextBirthday.getFullYear() + 1);\n        const yearLengthInMilliseconds = nextBirthday.getTime() - lastBirthday.getTime();\n        const fractionalAge = timeSinceLastBirthday / yearLengthInMilliseconds;\n        return age + fractionalAge;\n    }\n    public dialogOpen(asPanel?: boolean): void {\n        $('.field.BasicPay, .field.DailyPay, .field.DailyRate, .field.DaysWorked, .field.HourlyRate, .field.BirthDay, .field.Age').addClass('col-md-2');\n        $(` .field.WorkingSpouse`).addClass('col-md-1');\n        $(`.field.HrdfClass`).addClass('col-md-2');\n\n        $(` .field.ChildrenUnderEighteen, .field.ChildrenInUniversity, .field.DisabledChildInUniversity, .field.DisabledChild`).addClass('col-md-2');\n        $(`.field.MaritalStatus`).addClass('col-md-3');\n        $(`.field.MaritalStatus label.caption, .field.WorkingSpouse label.caption, .field.ChildrenUnderEighteen label.caption, .field.ChildrenInUniversity label.caption,\n        .field.DisabledChildInUniversity label.caption, .field.DisabledChild label.caption, .field.Age label.caption, .field.BirthDay label.caption, .field.HrdfClass label.caption`).removeClass('caption');\n \n        this.ResetTable()    \n        $('.field.EisClass').addClass('col-md-2');\n        $('.field.SocsoClass').addClass('col-md-6');\n        $('.field.EpfClass').addClass('col-md-3');\n        $('.field.TaxClass').addClass('col-md-1');\n        $(`.field.BasicPay label.caption, .field.DailyPay label.caption, .field.DailyRate label.caption, .field.DaysWorked label.caption,\n        .field.HourlyRate label.caption, .field.EisClass label.caption, .field.SocsoClass label.caption, .field.EpfClass label.caption, .field.TaxClass label.caption `).removeClass('caption');\n        EditorUtils.setReadonly(this.form.BasicPay.element, true);\n        EditorUtils.setReadonly(this.form.DaysWorked.element, true);\n        EditorUtils.setReadonly(this.form.HourlyRate.element, true);\n        EditorUtils.setReadonly(this.form.DailyRate.element, true);\n        EditorUtils.setReadonly(this.form.TaxClass.element, true);\n        EditorUtils.setReadonly(this.form.Age.element, true);\n        EditorUtils.setReadonly(this.form.BirthDay.element, true);\n        this.form.EpfClass.value = EPFClass.Class_1.valueOf().toString()\n        $(`.DeductedEarlyLeavingList, .OneTimeDeductionList, .DeductedNoPaidLeaveList,\n        .DeductedLateArrivalList, .OneTimeAllowanceList, .PaidMoneyClaimingList, .PaidOtList, .EarlyLeavingRate, .LateArrivalRate, .EarlyLeaving,\n        .LateArrival, .FlatOt, .OtOne, .OtOnePointFive, .OtTwo, .NPLHourlyRate, .NPLDailyRate, .NPLHourly, .NPLDaily, .AbsentDailyRate, .AbsentDaily,\n        .OtSubjectEpf, .OtSubjectEis, .OtSubjectPcb, .OtSubjectSocso, .OtSubjectHrdf, .AllowanceList, .DeductionList, .OtOnePointFiveRate, .OtTwoRate, .HrdfClass`).hide()\n        function isValidDate(dateStr: string): string {\n            const date = new Date(dateStr);\n            if (!isNaN(date.getTime()))// not valid\n            {\n                date.setDate(28)\n                const year = date.getFullYear();\n                const month = ('0' + (date.getMonth() + 1)).slice(-2); // Months are zero based\n                const day = ('0' + date.getDate()).slice(-2);\n                return `${year}-${month}-${day}`\n            }\n            else\n                return dateStr\n        }\n        var self = this\n        var gettingDatestring = true\n        serviceCall<ListResponse<any>>({\n            service: AnnouncementWizardService.baseUrl + '/GetTodayDateTime',\n            method: \"GET\",\n            data: {\n            },\n            async: false,\n            onSuccess: (response) => {\n                self.dateString = response\n                gettingDatestring = false\n            }\n        })\n\n        while (gettingDatestring == true);\n\n        CompanySettingsService.List({\n        }, response => {\n            for (var index in response.Entities) {\n                if (response.Entities[index].IsActive == 1) {\n                    this.DeductEarlyLeaving = response.Entities[index].DeductSalaryIfEarlyLeaving\n                    this.DeductLateArrival = response.Entities[index].DeductSalaryIfLate\n                    this.PayDate = response.Entities[index].PayDay\n                    self.PublicHolidayMultiplier = (response.Entities[index].PublicHolidayOnePointFive == true ? 1.5 : 2)\n                    self.WeekendMultiplier = (response.Entities[index].WeekendOnePointFive == true ? 1.5 : 2)\n                    self.WeekdayMultiplier = (response.Entities[index].WeekdayOnePointFive == true ? 1.5 : 2)\n                    break\n                }\n            }\n            var today = new Date(self.dateString)\n            var todayMonth = today.getMonth()\n            var todayYear = today.getFullYear()\n            var dateFormat = todayYear.toString() + '-' + todayMonth.toString().padStart(2, '0') + '-' + this.PayDate.toString().padStart(2, '0')\n            dateFormat = isValidDate(dateFormat)\n            var DateObj = new Date(todayYear, todayMonth, this.PayDate)\n            var DateObjYear = DateObj.getFullYear().toString()\n            var DateObjMonth = (DateObj.getMonth() + 1).toString()\n            var DateObjDay = DateObj.getDate().toString()\n\n\n            var LastMonth = new Date(todayYear, todayMonth, this.PayDate)\n            LastMonth.setMonth(LastMonth.getMonth() - 1);\n            LastMonth.setDate(LastMonth.getDate() - 1);\n            var LastMonthObjYear = LastMonth.getFullYear().toString()\n            var LastMonthObjMonth = (LastMonth.getMonth() + 1).toString()\n            var LastMonthObjDay = LastMonth.getDate().toString()\n\n            var LatestDateFormat = DateObjMonth.padStart(2, '0') + '/' + DateObjDay.padStart(2, '0') + '/' + DateObjYear\n            var LastMonthFormat = LastMonthObjMonth.padStart(2, '0') + '/' + LastMonthObjDay.padStart(2, '0') + '/' + LastMonthObjYear\n\n            if (this.isNew()) {\n                self.form.PayDate.value = LatestDateFormat\n                self.form.PayPeriodEnd.value = LatestDateFormat\n                self.form.PayPeriodStart.value = LastMonthFormat\n            }\n\n        });\n\n        super.dialogOpen(asPanel);\n        \n        if (self.isNew())\n        this.applyChangesButton.hide()\n        EditorUtils.setReadonly(this.form.EmployeeName.element, true);\n        var EmployeeRowIdValue = this.form.EmployeeRowId.value\n        let ElementsArray: string[] = ['Deduction', 'Earnings', 'Nett', 'EmployeeEIS', 'EmployeeEPF', 'EmployeeSOCSO', 'EmployeePCB', 'PayrollTable', 'EmployerTable', 'EmployerHRDF', 'EmployerEPF', 'EmployerEIS', 'EmployerSOCSO']\n        for (var index in ElementsArray)\n            $('.' + ElementsArray[index]).hide();\n        this.Setup()\n        EmployeeProfileService.List({\n        }, response => {\n            var PayPeriodStartElement = document.getElementById(this.idPrefix + 'PayPeriodStart')\n            var PayPeriodEndElement = document.getElementById(this.idPrefix + 'PayPeriodEnd')\n\n            var EmployeeRowIdElement = document.getElementById(this.idPrefix + 'EmployeeRowId')\n            var PayMonthElement = document.getElementById(this.idPrefix + 'PayMonth')\n            var PayYearElement = document.getElementById(this.idPrefix + 'PayYear')\n\n            var HrdfClass = document.getElementById(this.idPrefix + 'HrdfClass')\n\n            var EisClass = document.getElementById(this.idPrefix + 'EisClass')\n            var SocsoClass = document.getElementById(this.idPrefix + 'SocsoClass')\n            var EpfClass = document.getElementById(this.idPrefix + 'EpfClass')\n            var MaritalStatusElement = document.getElementById(this.idPrefix + 'MaritalStatus')\n            var WorkingSpouse = document.getElementById(this.idPrefix + 'WorkingSpouse')\n            var ChildrenUnderEighteen = document.getElementById(this.idPrefix + 'ChildrenUnderEighteen')\n            var ChildrenInUniversity = document.getElementById(this.idPrefix + 'ChildrenInUniversity')\n            var DisabledChild = document.getElementById(this.idPrefix + 'DisabledChild')\n            var DisabledChildInUniversity = document.getElementById(this.idPrefix + 'DisabledChildInUniversity')\n\n            let PayMonthEditor = new Select2Editor($(PayMonthElement))\n            let PayYearEditor = new Select2Editor($(PayYearElement))\n            const months: string[] = [\n                'January',   // 0\n                'February',  // 1\n                'March',     // 2\n                'April',     // 3\n                'May',       // 4\n                'June',      // 5\n                'July',      // 6\n                'August',    // 7\n                'September', // 8\n                'October',   // 9\n                'November',  // 10\n                'December'   // 11\n            ];\n            var today = new Date(self.dateString)\n            var todayYear = today.getFullYear()\n\n            var todayMonth = today.getMonth()\n            // Example usage:\n            for (let i = 0; i < months.length; i++)\n                PayMonthEditor.addItem({ id: (i).toString(), text: (months[i]).toString(), }); // 8am - 6pm , will consider lates\n\n            if (self.isNew())\n                PayMonthEditor.set_value(todayMonth.toString())\n            for (let i = -1; i < 2; i++)\n                PayYearEditor.addItem({ id: (todayYear + i).toString(), text: (todayYear + i).toString(), }); // 8am - 6pm , will consider lates\n\n            if (self.isNew())\n                PayYearEditor.set_value(todayYear.toString())\n            let EmployeeRowIdEditor = new Select2Editor($(EmployeeRowIdElement))\n            interface Item {\n                id: number;\n                name: string;\n                BasicPay: number;\n                Allowance: number;\n                type: number;\n                EisClass: number;\n                EpfClass: number;\n                SocsoClass: number;\n                HrdfClass: number;\n                MaritalStatus: number;\n                WorkingSpouse: boolean;\n                ChildrenUnderEighteen: number;\n                ChildrenInUniversity: number;\n                DisabledChildInUniversity: number;\n                DisabledChild: number;\n                Birthday: string;\n            }\n\n\n            let listOfDicts: Item[] = [];\n            for (var index in response.Entities) {\n                EmployeeRowIdEditor.addItem({ id: (response.Entities[index].Id).toString(), text: (response.Entities[index].EmployeeID).toString(), }); // 8am - 6pm , will consider lates\n                listOfDicts.push({\n                    id: response.Entities[index].Id, name: response.Entities[index].EmployeeName, BasicPay:\n                        response.Entities[index].BasicSalary, Allowance: response.Entities[index].Allowance, type: response.Entities[index].EmployeeType,\n                    'EisClass': response.Entities[index].EisClass,\n                    'EpfClass': response.Entities[index].EpfClass, 'SocsoClass': response.Entities[index].SocsoClass,\n                    'MaritalStatus': response.Entities[index].MaritalStatus, 'WorkingSpouse': response.Entities[index].WorkingSpouse,\n                    'ChildrenUnderEighteen': response.Entities[index].ChildrenUnderEighteen, 'ChildrenInUniversity': response.Entities[index].ChildrenInUniversity,\n                    'DisabledChildInUniversity': response.Entities[index].DisabledChildInUniversity, 'DisabledChild': response.Entities[index].DisabledChild,\n                    'Birthday': response.Entities[index].Birthday, 'HrdfClass': response.Entities[index].HRDFClass\n                });\n            }\n            this.listOfDicts = listOfDicts\n            if (self.isNew())\n            $(EmployeeRowIdElement).on('change', async function (e) {\n                e.stopImmediatePropagation()\n                self.GeneratePayrollTable(1)\n            })\n\n            if (self.Wiz!=1)\n            { \n            $(EisClass).on('change', async function (e) {\n                e.stopImmediatePropagation()\n                self.updatePayroll()\n            })\n\n            $(SocsoClass).on('change', async function (e) {\n                e.stopImmediatePropagation()\n                self.updatePayroll()\n            })\n            $(HrdfClass).on('change', async function (e) {\n                e.stopImmediatePropagation()\n                self.updatePayroll()\n            })\n\n            $(EpfClass).on('change', async function (e) {\n                e.stopImmediatePropagation()\n                self.updatePayroll()\n            })\n\n            $(WorkingSpouse).on('change', async function (e) {\n                console.log('haha')\n                e.stopImmediatePropagation()\n                self.updatePayroll()\n            })\n            $(ChildrenUnderEighteen).on('change', async function (e) {\n                e.stopImmediatePropagation()\n                self.updatePayroll()\n            })\n            $(MaritalStatusElement).on('change', async function (e) {\n                console.log('hhaa')\n                if (parseInt(self.form.MaritalStatus.value) == MaritalStatus.Married.valueOf())\n                    $('.WorkingSpouse, .ChildrenUnderEighteen, .ChildrenInUniversity, .DisabledChild, .DisabledChildInUniversity').show()\n\n                else if (parseInt(self.form.MaritalStatus.value) == MaritalStatus.Single.valueOf())\n                    $('.WorkingSpouse, .ChildrenUnderEighteen, .ChildrenInUniversity, .DisabledChild, .DisabledChildInUniversity').hide()\n\n            })\n            $(ChildrenInUniversity).on('change', async function (e) {\n                e.stopImmediatePropagation()\n                self.updatePayroll()\n            })\n\n            $(DisabledChild).on('change', async function (e) {\n                e.stopImmediatePropagation()\n                self.updatePayroll()\n            })\n            $(DisabledChildInUniversity).on('change', async function (e) {\n                e.stopImmediatePropagation()\n                self.updatePayroll()\n            })\n        }\n            if (this.isNew()) {\n\n                $(PayMonthElement).on('change', async function (e) {\n                    e.stopImmediatePropagation()\n                    self.GeneratePayrollTable(1)\n                })\n                $(PayYearElement).on('change', async function (e) {\n                    e.stopImmediatePropagation()\n                    self.GeneratePayrollTable(1)\n                })\n                $(PayPeriodStartElement).on('change', async function (e) {\n                    if (self.form.PayPeriodStart.valueAsDate > self.form.PayPeriodEnd.valueAsDate) {\n                        alertDialog('Pay period start cannot be ahead of pay period end')\n                        self.form.PayPeriodStart.value = ''\n                        return\n                    }\n                    self.GeneratePayrollTable(0)\n\n                })\n                $(PayPeriodEndElement).on('change', async function (e) {\n                    if (self.form.PayPeriodStart.valueAsDate > self.form.PayPeriodEnd.valueAsDate) {\n                        alertDialog('Pay period start cannot be ahead of pay period end')\n                        self.form.PayPeriodEnd.value = ''\n                        return\n                    }\n                    self.GeneratePayrollTable(0)\n                })\n                $(`.field.MaritalStatus, .field.WorkingSpouse, .field.ChildrenUnderEighteen, .field.ChildrenInUniversity,\n        .field.DisabledChildInUniversity, .field.DisabledChild,  .field.DaysWorked, .field.BasicPay, .field.DailyRate,\n        .field.HourlyRate, .field.EisClass, .field.SocsoClass, .field.EpfClass, .field.TaxClass, .field.addEarnings, .field.addDeductions,\n        .field.BirthDay, .field.Age,  .addEarnings, .addDeductions`).hide();\n               \n            }\n            else if (!this.isNew()) {\n                EditorUtils.setReadonly(this.form.PayMonth.element, true);\n                EditorUtils.setReadonly(this.form.PayYear.element, true);\n                EditorUtils.setReadonly(this.form.PayDate.element, true);\n                EditorUtils.setReadonly(this.form.PayPeriodEnd.element, true);\n                EditorUtils.setReadonly(this.form.PayPeriodStart.element, true);\n                $(PayYearElement).val(this.form.PayYear.value).trigger('change')\n                $(PayMonthElement).val(this.form.PayMonth.value).trigger('change')\n                for (var index in listOfDicts) {\n                    if (listOfDicts[index].id == parseInt(EmployeeRowIdValue))\n                        this.EmployeeType = listOfDicts[index].type\n                }\n                $(EmployeeRowIdElement).val(EmployeeRowIdValue.toString()).trigger('change');\n                EditorUtils.setReadonly(this.form.EmployeeRowId.element, true);\n                $(\"#PCB\").val(this.form.EmployeePCB.value)\n                $(\"#EmployeeEIS\").val(this.form.EmployeeEIS.value)\n                $(\"#EmployeeEPF\").val(this.form.EmployeeEPF.value) \n                $(\"#EmployeeSOCSO\").val(this.form.EmployeeSOCSO.value) \n                $(\"#EmployerEIS\").val(this.form.EmployerEIS.value) \n                $(\"#EmployerEPF\").val(this.form.EmployerEPF.value) \n                $(\"#HRD\").val(this.form.EmployerHRDF.value) \n                $(\"#EmployerSOCSO\").val(this.form.EmployerSOCSO.value) \n                $(\"#NplDayRate\").text(this.form.NPLDailyRate.value)\n                $(\"#NplHrRate\").text(this.form.NPLHourlyRate.value) \n                $(\"#AbsentDayRate\").text(this.form.AbsentDailyRate.value) \n                $(\"#NplDay\").val(this.form.NPLDaily.value)\n                $(\"#NplHr\").val(this.form.NPLHourly.value)\n                $(\"#AbsentDay\").val(this.form.AbsentDaily.value)\n                // console.log((this.form.FlatOt.value * 1.5))\n                document.getElementById('Ot1.0x').textContent = this.form.FlatOt.value.toString()\n                document.getElementById('Ot1.5x').textContent = this.form.OtOnePointFiveRate.value.toString()\n                document.getElementById('Ot2.0x').textContent = this.form.OtTwoRate.value.toString()\n                $('#OtOneTime').val(this.form.OtOne.value)\n                $('#OtOnePointFiveTime').val(this.form.OtOnePointFive.value)\n                $('#OtTwoTime').val(this.form.OtTwo.value)\n                $(\"#EarlyLeavingRate\").text(this.form.EarlyLeavingRate.value)\n                $(\"#LateArrivalRate\").text(this.form.LateArrivalRate.value)\n                $('#EarlyLeavingMinutes').val(this.form.EarlyLeaving.value)\n                $('#LateArrivalMinutes').val(this.form.LateArrival.value)\n                $('#totalOt').attr('eis', self.form.OtSubjectEis.value.toString())\n                $('#totalOt').attr('epf', self.form.OtSubjectEpf.value.toString())\n                $('#totalOt').attr('hrdf', self.form.OtSubjectHrdf.value.toString())\n                $('#totalOt').attr('pcb', self.form.OtSubjectPcb.value.toString())\n                $('#totalOt').attr('socso', self.form.OtSubjectSocso.value.toString())\n                let i = 0;\n                for (i = 0; i < this.form.AllowanceList.value.length;i++) {\n                    var rowBuffer = document.createElement('tr')\n                    rowBuffer.innerHTML = `<td>${this.form.AllowanceList.value[i].code}</td><td>${this.form.AllowanceList.value[i].Description}</td>\n                                            <td class = \"AllowanceAmount\" eis =  ${this.form.AllowanceList.value[i].SubjectionEis.toString()} epf =  ${this.form.AllowanceList.value[i].SubjectionEpf.toString()}\n                                            hrdf =  ${this.form.AllowanceList.value[i].SubjectionHrdf.toString()} pcb =  ${this.form.AllowanceList.value[i].SubjectionPcb.toString()}\n                                                socso =  ${this.form.AllowanceList.value[i].SubjectionSocso.toString()} \n                                            >${this.form.AllowanceList.value[i].AllowanceAmount}</td>`\n                    $('#AllowanceDeductionBody').append(rowBuffer)\n                }\n                for (i = 0; i < this.form.DeductionList.value.length; i++) {\n                    var rowBuffer = document.createElement('tr')\n                    rowBuffer.innerHTML = `<td>${this.form.DeductionList.value[i].code}</td><td>${this.form.DeductionList.value[i].Description}</td><td class = \"DeductionAmount\">${this.form.DeductionList.value[i].DeductionAmount}</td>`\n                    $('#AllowanceDeductionBody').append(rowBuffer)\n                }\n                for (i = 0; i < this.form.PaidMoneyClaimingList.value.length; i++) {\n                    var rowBuffer = document.createElement('tr')\n                    rowBuffer.innerHTML = `<td>${this.form.PaidMoneyClaimingList.value[i].ClaimingCategory}</td><td>${this.form.PaidMoneyClaimingList.value[i].Description}</td>\n                                            <td  eis =  ${this.form.PaidMoneyClaimingList.value[i].SubjectionEis.toString()} epf =  ${this.form.PaidMoneyClaimingList.value[i].SubjectionEpf.toString()}\n                                            hrdf =  ${this.form.PaidMoneyClaimingList.value[i].SubjectionHrdf.toString()} pcb =  ${this.form.PaidMoneyClaimingList.value[i].SubjectionPcb.toString()}\n                                                socso =  ${this.form.PaidMoneyClaimingList.value[i].SubjectionSocso.toString()} \n                                            >${this.form.PaidMoneyClaimingList.value[i].ClaimAmount}</td>`\n                    $('#MoneyClaimingBody').append(rowBuffer)\n\n                }\n                for (i = 0; i < this.form.PayrollEarnings.value.length; i++) {\n                    var info = this.form.PayrollEarnings.value[i]\n                    var bufferRow = document.createElement('tr')\n                    var bufferRow = document.createElement('tr')\n                    bufferRow.innerHTML = `<td> <span>${info.EarningCode}</span>           <button class=\"remove\">\u00D7</button>\n                            </td><td>${info.Description}</td><td> <input class = numberInput type=\"number\" min=\"0\" eis = ${info.SubjectionToEis} epf = ${info.SubjectionToEpf} hrdf = ${info.SubjectionToHrdf}\n                             pcb = ${info.SubjectionToPcb} socso = ${info.SubjectionToSocso}  value = ${info.Amount} ></input>           </td>`\n                    $('#EarningDeductionBody').append(bufferRow)\n                }\n                for (i = 0; i < this.form.PayrollDeductions.value.length; i++) \n                {\n                    info = this.form.PayrollDeductions.value[i]\n                    var bufferRow = document.createElement('tr')\n                    bufferRow.innerHTML = `<td>${info.DeductionCode}  <button class=\"remove\">\u00D7</button>\n                            </td><td>${info.Description}</td><td> <input class = numberInput type=\"number\" max=\"0\"  value = \"${info.Amount}\" ></input>           </td>`\n                    $('#EarningDeductionBody').append(bufferRow)\n\n                }\n                $('.remove').on('click', async function (e) {\n                    $(this).closest('tr').remove(); // Remove the row\n                    self.updatePayroll()\n                })\n                $('.numberInput').on('change', async function (e) {\n                    self.updatePayroll()\n                })\n                self.updateTotals()\n                self.updatePayroll()\n            }\n            if (self.Wiz == 1) {\n                self.form.EmployeeRowId.value = self.WizEmployeeRowId.toString()\n                self.form.PayMonth.value = self.PayMonth\n                self.form.PayYear.value = self.PayYear\n                self.form.PayPeriodStart.value = self.PayPeriodStart\n                self.form.PayPeriodEnd.value = self.PayPeriodEnd\n                self.form.PayDate.value = self.PayDateWiz\n            }\n            /*\n            if (!isEmptyOrNull(self.WizEmployeeRowId)) {\n                self.form.EmployeeRowId.value = self.WizEmployeeRowId.toString()\n                self.form.PayMonth.value = self.PayMonth\n                self.form.PayYear.value = self.PayYear\n                self.form.PayPeriodStart.value = self.PayPeriodStart\n                self.form.PayPeriodEnd.value = self.PayPeriodEnd\n                self.form.PayDate.value = self.PayDateWiz\n                self.Wiz = 1\n                $(PayYearElement).val(this.form.PayYear.value).trigger('change')\n            }\n            */\n        });\n    }\n    public Wiz: number;\n    public extraEarningDeduction: number;\n    public updatePayroll(): void {\n        var self = this\n        this.extraEarningDeduction = 0\n        if (isEmptyOrNull(self.form.EpfClass.value) || isEmptyOrNull(self.form.EisClass.value) ||\n            isEmptyOrNull(self.form.SocsoClass.value) || isEmptyOrNull(self.form.WorkingSpouse.value) ||\n            isEmptyOrNull(self.form.ChildrenUnderEighteen.value) || isEmptyOrNull(self.form.ChildrenInUniversity.value) ||\n            isEmptyOrNull(self.form.DisabledChild.value) || isEmptyOrNull(self.form.DisabledChildInUniversity.value))\n            return\n\n        var BasicPay = this.form.BasicPay.value\n        var totalNplAbsent = parseFloat(document.getElementById('totalNplAbsent').innerHTML)\n        var totalTimeDeduction = parseFloat(document.getElementById('totalTimeDeduction').innerHTML)\n        var OtElement = document.getElementById('totalOt')\n        var totalOt = parseFloat(OtElement.innerHTML)\n        let totalNplTimeDeduction = totalNplAbsent + totalTimeDeduction\n        let totalAllowance = 0;\n        let totalDeductions = 0;\n\n        let subjectEis = 0;\n        let subjectEpf = 0;\n        let subjectHrdf = 0;\n        let subjectPcb = 0;\n        let subjectSocso = 0;\n        // Get the table body by its ID\n        let AllowanceDeductionBody = document.getElementById(\"AllowanceDeductionBody\");\n       if (AllowanceDeductionBody) {\n            Array.from(AllowanceDeductionBody.rows).forEach(row => {\n                let amountCell = row.cells[2];  // Third column: Allowance amount cell\n                let amount = parseFloat(amountCell.innerText.trim()) || 0; // Parse the amount\n                if (amount > 0)\n                    totalAllowance += amount\n                else if (amount < 0)\n                    totalDeductions += amount\n\n                if (amountCell.getAttribute(\"eis\") === \"true\") subjectEis += amount;\n                if (amountCell.getAttribute(\"epf\") === \"true\") subjectEpf += amount;\n                if (amountCell.getAttribute(\"hrdf\") === \"true\") subjectHrdf += amount;\n                if (amountCell.getAttribute(\"pcb\") === \"true\") subjectPcb += amount;\n                if (amountCell.getAttribute(\"socso\") === \"true\") subjectSocso += amount;\n            });\n        }\n\n        $('#TotalAllowance').val(totalAllowance)\n        $('#TotalDeduction').val(totalDeductions)\n        let MoneyClaimingBody = document.getElementById(\"MoneyClaimingBody\");\n        if (MoneyClaimingBody) {\n            Array.from(MoneyClaimingBody.rows).forEach(row => {\n                let amountCell = row.cells[2];  // Third column: Allowance amount cell\n                let amount = parseFloat(amountCell.innerText.trim()) || 0; // Parse the amount\n                self.extraEarningDeduction += amount\n                // Check and add the amount to respective sums if the attribute is \"true\"\n                if (amountCell.getAttribute(\"eis\") === \"true\") subjectEis += amount;\n                if (amountCell.getAttribute(\"epf\") === \"true\") subjectEpf += amount;\n                if (amountCell.getAttribute(\"hrdf\") === \"true\") subjectHrdf += amount;\n                if (amountCell.getAttribute(\"pcb\") === \"true\") subjectPcb += amount;\n                if (amountCell.getAttribute(\"socso\") === \"true\") subjectSocso += amount;\n            });\n        }\n\n        let EarningDeductionBody = document.getElementById('EarningDeductionBody')\n        if (EarningDeductionBody){\n            Array.from(EarningDeductionBody.rows).forEach(row => {\n                console.log(row)\n                let amountCell = row.querySelector('input.numberInput');  // Third column: Allowance amount cell\n                let amount = parseFloat(amountCell.value) || 0; // Parse the amount\n                self.extraEarningDeduction += amount\n                // Check and add the amount to respective sums if the attribute is \"true\"\n                if (amountCell.getAttribute(\"eis\") === \"true\") subjectEis += amount;\n                if (amountCell.getAttribute(\"epf\") === \"true\") subjectEpf += amount;\n                if (amountCell.getAttribute(\"hrdf\") === \"true\") subjectHrdf += amount;\n                if (amountCell.getAttribute(\"pcb\") === \"true\") subjectPcb += amount;\n                if (amountCell.getAttribute(\"socso\") === \"true\") subjectSocso += amount;\n            });\n        }\n\n        // Iterate through each row in the table body\n        if (OtElement.getAttribute(\"eis\") === \"true\") subjectEis += totalOt;\n        if (OtElement.getAttribute(\"epf\") === \"true\") subjectEpf += totalOt;\n        if (OtElement.getAttribute(\"hrdf\") === \"true\") subjectHrdf += totalOt;\n        if (OtElement.getAttribute(\"pcb\") === \"true\") subjectPcb += totalOt;\n        if (OtElement.getAttribute(\"socso\") === \"true\") subjectSocso += totalOt;\n        subjectEis += BasicPay;\n        subjectEpf += BasicPay;\n        subjectHrdf += BasicPay;\n        subjectPcb += BasicPay;\n        subjectSocso += BasicPay;\n        subjectEis -= totalNplTimeDeduction;\n        subjectEpf -= totalNplTimeDeduction;\n        subjectHrdf -= totalNplTimeDeduction;\n        subjectPcb -= totalNplTimeDeduction;\n        subjectSocso -= totalNplTimeDeduction;\n        $('#TotalEPF').val(subjectEpf.toFixed(2))\n        $('#TotalHRD').val(subjectHrdf.toFixed(2))\n        $('#TotalSOCSO').val(subjectSocso.toFixed(2))\n        $('#TotalEIS').val(subjectEis.toFixed(2))\n        $('#TotalTaxableWage').val(subjectPcb.toFixed(2))\n        \n        var WorkSpouse = self.form.WorkingSpouse.value == true? 1:0\n        serviceCall<ListResponse<any>>({\n            service: PayrollService.baseUrl + '/CalculateGovernmentPaymentSpecial',\n            method: \"GET\",\n            data: {\n                \"EisCategory\": self.form.EisClass.value,\n                \"EpfCategory\": self.form.EpfClass.value,\n                \"SocsoCategory\": self.form.SocsoClass.value,\n\n                \"HrdfCategory\": self.form.HrdfClass.value,\n                \"EpfAmount\": subjectEpf,\n                \"EisAmount\": subjectEis,\n                \"SocsoAmount\": subjectSocso,\n                \"PcbAmount\": subjectPcb,\n                \"HrdfAmount\": subjectHrdf,\n\n\n                \"WorkingSpouse\": WorkSpouse,\n                \"ChildrenUnderEighteen\": self.form.ChildrenUnderEighteen.value,\n                \"ChildrenInUniversity\": self.form.ChildrenInUniversity.value,\n                \"NumberOfDisabledChild\": self.form.DisabledChild.value,\n                \"NumberOfDisabledChildInUni\": self.form.DisabledChildInUniversity.value,\n            },\n            async: false,\n            onSuccess: (response) => {\n               // console.log(response)\n                self.EmployerContributions.length = 0\n                self.form.TaxClass.value = response.Entities[0].TaxClass\n                $('#EmployeeEPF').val(response.Entities[0].EmployeeEPF.toFixed(2))\n                $('#EmployeeEIS').val(response.Entities[0].EmployeeEIS.toFixed(2))\n                $('#PCB').val(response.Entities[0].EmployeePCB.toFixed(2))\n                $('#EmployeeSOCSO').val(response.Entities[0].EmployeeSOCSO.toFixed(2))\n                $('#EmployerEPF').val(response.Entities[0].EmployerEPF.toFixed(2))\n                $('#EmployerEIS').val(response.Entities[0].EmployerEIS.toFixed(2))\n                $('#HRD').val(response.Entities[0].EmployerHRDF.toFixed(2))\n                $('#EmployerSOCSO').val(response.Entities[0].EmployerSOCSO.toFixed(2))\n\n\n                /*\n                if (self.EmployeeType == EmployeeType.Local) {// if is local \n                    $('#EmployeeEPF').val(response.Entities[0].EmployeeEPF.toFixed(2))\n                    $('#EmployeeEIS').val(response.Entities[0].EmployeeEIS.toFixed(2))\n                    $('#PCB').val(response.Entities[0].EmployeePCB.toFixed(2))\n                    $('#EmployeeSOCSO').val(response.Entities[0].EmployeeSOCSO.toFixed(2))\n                    $('#EmployerEPF').val(response.Entities[0].EmployerEPF.toFixed(2))\n                    $('#EmployerEIS').val(response.Entities[0].EmployerEIS.toFixed(2))\n                    $('#HRD').val(response.Entities[0].EmployerHRDF.toFixed(2))\n                    $('#EmployerSOCSO').val(response.Entities[0].EmployerSOCSO.toFixed(2))\n                   \n                }\n                else if (self.EmployeeType == EmployeeType.Foreigner) {// if is foreigner \n                    self.EmployeeSocso = 0\n                    self.EmployerSocso = response.Entities[0].EmployerSOCSO\n                    $('#EmployerSOCSO').val(response.Entities[0].EmployerSOCSO)\n                    if (self.EpfSubjection) { // if volunteer for epf payments\n                        if (response.Entities[0].EmployeeEPF > 0) {\n                            $('#EmployeeEPF').val(response.Entities[0].EmployeeEPF)\n\n                        }\n                        if (response.Entities[0].EmployerEPF > 0) {\n                            $('#EmployerEPF').val(response.Entities[0].EmployerEPF)\n                        }\n                        self.EmployeeEpf = response.Entities[0].EmployeeEPF\n                        self.EmployerEpf = response.Entities[0].EmployerEPF\n                    }\n                    $('#PCB').val(response.Entities[0].EmployeePCB)\n\n                    self.EmployeePcb = response.Entities[0].EmployeePCB\n                    self.EmployeeEis = self.EmployerEis = 0\n                    self.EmployerHrdf = 0\n                }\n                */\n                self.updateWages()\n            }\n        })\n    }\n    public updateTotals() {\n    // NPL/Absent totals\n    const NplDayRate = parseFloat(document.getElementById('NplDayRate').textContent);\n    const NplHrRate = parseFloat(document.getElementById('NplHrRate').textContent);\n    const AbsentDayRate = parseFloat(document.getElementById('AbsentDayRate').textContent);\n\n    const NplDay = parseFloat(document.getElementById('NplDay').value) || 0;\n    const NplHr = parseFloat(document.getElementById('NplHr').value) || 0;\n    const AbsentDay = parseFloat(document.getElementById('AbsentDay').value) || 0;\n\n    // Calculate subtotal for each row\n    document.getElementById('NplDayValue').textContent = (NplDayRate * NplDay).toFixed(2);\n    document.getElementById('NplHrValue').textContent = (NplHrRate * NplHr).toFixed(2);\n    document.getElementById('AbsentDayValue').textContent = (AbsentDayRate * AbsentDay).toFixed(2);\n\n    // Update the total NPL/Absent\n    const totalNplAbsent = (NplDayRate * NplDay) + (NplHrRate * NplHr) + (AbsentDayRate * AbsentDay);\n    document.getElementById('totalNplAbsent').textContent = totalNplAbsent.toFixed(2);\n\n    // Overtime totals\n    const Ot1xRate = parseFloat(document.getElementById('Ot1.0x').textContent);\n    const Ot1_5xRate = parseFloat(document.getElementById('Ot1.5x').textContent);\n    const Ot2xRate = parseFloat(document.getElementById('Ot2.0x').textContent);\n\n    const OtOneTime = parseFloat(document.getElementById('OtOneTime').value) || 0;\n    const OtOnePointFiveTime = parseFloat(document.getElementById('OtOnePointFiveTime').value) || 0;\n    const OtTwoTime = parseFloat(document.getElementById('OtTwoTime').value) || 0;\n\n    // Calculate subtotal for each overtime row\n    document.getElementById('Ot1.0xValueTotal').textContent = (Ot1xRate * OtOneTime).toFixed(2);\n    document.getElementById('Ot1.5xValueTotal').textContent = (Ot1_5xRate * OtOnePointFiveTime).toFixed(2);\n    document.getElementById('Ot2.0xValueTotal').textContent = (Ot2xRate * OtTwoTime).toFixed(2);\n\n    // Update the total overtime\n    const totalOt = (Ot1xRate * OtOneTime) + (Ot1_5xRate * OtOnePointFiveTime) + (Ot2xRate * OtTwoTime);\n    document.getElementById('totalOt').textContent = totalOt.toFixed(2);\n\n    // Early Leaving/Late Arrival totals\n    const EarlyLeavingRate = parseFloat(document.getElementById('EarlyLeavingRate').textContent);\n    const LateArrivalRate = parseFloat(document.getElementById('LateArrivalRate').textContent);\n\n    const EarlyLeavingMinutes = parseFloat(document.getElementById('EarlyLeavingMinutes').value) || 0;\n    const LateArrivalMinutes = parseFloat(document.getElementById('LateArrivalMinutes').value) || 0;\n\n    // Calculate subtotal for each time deduction row\n    document.getElementById('EarlyLeavingSubtotal').textContent = (EarlyLeavingRate * EarlyLeavingMinutes).toFixed(2);\n    document.getElementById('LateArrivalSubtotal').textContent = (LateArrivalRate * LateArrivalMinutes).toFixed(2);\n\n    // Update the total time deduction\n    const totalTimeDeduction = (EarlyLeavingRate * EarlyLeavingMinutes) + (LateArrivalRate * LateArrivalMinutes);\n    document.getElementById('totalTimeDeduction').textContent = totalTimeDeduction.toFixed(2);\n}\n    public updateWages(): void {\n        var BasicPay = this.form.BasicPay.value\n        var TotalAllowance = parseFloat($('#TotalAllowance').val())\n        var TotalDeduction = parseFloat($('#TotalDeduction').val())\n        var TotalOt = parseFloat($('#totalOt').text())\n        var totalNplAbsent = 0;\n        if (document.getElementById('totalNplAbsent'))\n            totalNplAbsent = parseFloat(document.getElementById('totalNplAbsent').innerHTML);\n        var totalTimeDeduction = 0\n        if (document.getElementById('totalTimeDeduction'))\n            totalTimeDeduction = parseFloat(document.getElementById('totalTimeDeduction').innerHTML)\n\n        var GrossWages = BasicPay + TotalAllowance + TotalOt + this.extraEarningDeduction\n            - TotalDeduction - totalNplAbsent - totalTimeDeduction;\n        $('#GrossWage').val(GrossWages.toFixed(2))\n        let totalEmployeeContrib = parseFloat($('#EmployeeEPF').val()) + parseFloat($('#EmployeeSOCSO').val())\n            + parseFloat($('#EmployeeEIS').val()) + parseFloat($('#PCB').val())\n        let totalEmployerContrib = parseFloat($('#EmployerEPF').val()) + parseFloat($('#EmployerEIS').val()) + parseFloat($('#EmployerSOCSO').val())\n        $('#totalEmployeeContribution').val(totalEmployeeContrib.toFixed(2))\n        $('#totalEmployerContribution').val(totalEmployerContrib.toFixed(2))\n        let NettWage = GrossWages - totalEmployeeContrib\n        $('#NettWage').val(NettWage.toFixed(2))\n        if (this.Wiz == 1)\n            this.saveAndCloseButton.click()\n\n    }\n    public FixedOtRateOption: any;\n\n    public GeneratePayrollTable(setDate): void {\n        var self = this\n        if (self.Wiz != 1)\n        self.ResetTable()    \n        var PayrollEarningsNode = document.getElementById('PayrollTable')\n        var EmployeeRowIdElement = document.getElementById(this.idPrefix + 'EmployeeRowId')\n        var PayMonthElement = document.getElementById(this.idPrefix + 'PayMonth')\n        var PayYearElement = document.getElementById(this.idPrefix + 'PayYear')\n        var PersonNameElement = document.getElementById(this.idPrefix + 'EmployeeName')\n        var ExternalDeductions = this.ExternalDeductions\n        var ExternalEarnings = this.ExternalEarnings\n        var EarningsString = this.EarningsString\n        var DeductionsString = this.DeductionsString\n        var listOfDicts = self.listOfDicts\n\n        if (!isEmptyOrNull($(EmployeeRowIdElement).val())) {\n            for (var index in listOfDicts) {\n                if (listOfDicts[index].id == $(EmployeeRowIdElement).val())\n                    $(PersonNameElement).val(listOfDicts[index].name)\n            }\n        }\n        else \n            self.form.EmployeeName.value = ``\n        if (isEmptyOrNull($(EmployeeRowIdElement).val()) || isEmptyOrNull($(PayMonthElement).val()) || isEmptyOrNull($(PayYearElement).val())) {\n\n            $(`.field.MaritalStatus, .field.WorkingSpouse, .field.ChildrenUnderEighteen, .field.ChildrenInUniversity,\n        .field.DisabledChildInUniversity, .field.DisabledChild,  .field.DaysWorked, .field.BasicPay, .field.DailyRate,\n        .field.HourlyRate, .field.EisClass, .field.SocsoClass, .field.EpfClass, .field.TaxClass, .addEarnings, .addDeductions,\n        .field.BirthDay, .field.Age`).hide();\n            return\n        }\n        else {\n            if(setDate == 1)\n            { \n            var todayYear = self.form.PayYear.value\n            var todayMonth = self.form.PayMonth.value\n\n            var DateObj = new Date(todayYear, todayMonth, this.PayDate)\n            var DateObjYear = DateObj.getFullYear().toString()\n            var DateObjMonth = (DateObj.getMonth() + 1).toString()\n            var DateObjDay = DateObj.getDate().toString()\n\n\n            var LastMonth = new Date(todayYear, todayMonth, this.PayDate)\n            LastMonth.setMonth(LastMonth.getMonth() - 1);\n            LastMonth.setDate(LastMonth.getDate() - 1);\n            var LastMonthObjYear = LastMonth.getFullYear().toString()\n            var LastMonthObjMonth = (LastMonth.getMonth() + 1).toString()\n            var LastMonthObjDay = LastMonth.getDate().toString()\n\n            var LatestDateFormat = DateObjMonth.padStart(2, '0') + '/' + DateObjDay.padStart(2, '0') + '/' + DateObjYear\n            var LastMonthFormat = LastMonthObjMonth.padStart(2, '0') + '/' + LastMonthObjDay.padStart(2, '0') + '/' + LastMonthObjYear\n\n            self.form.PayDate.value = LatestDateFormat\n            self.form.PayPeriodEnd.value = LatestDateFormat\n            self.form.PayPeriodStart.value = LastMonthFormat\n        }\n\n            var FullAttendance = true\n            var HaveUnpaidLeave = false\n            var HaveHospitalisationLeave = false\n            var HaveSickLeave = false\n            var HaveAnnualLeave = false\n            var HaveMaternityLeave = false\n            var HavePaternityLeave = false\n            var HaveMarriageLeave = false\n            var HaveCompassionateLeave = false\n            var HaveEmergencyLeave = false\n            var HaveGatepassLeave = false\n\n            var NoLate = true\n            var NoAbsence = true\n            var NoEarlyLeaving = true\n\n            self.NoPaidLeaveId.length = 0\n            self.MoneyClaimingId.length = 0\n            self.OtPayId.length = 0\n            self.EmployerContributions.length = 0\n            ExternalDeductions.length = 0\n            ExternalEarnings.length = 0\n            EarningsString.length = 0\n            DeductionsString.length = 0\n            self.FinalDeductions.length = 0\n            self.FinalEarnings.length = 0\n            self.NettEarnings = 0\n            self.NettDeductions = 0\n\n            self.AllowanceId.length = 0\n            self.DeductionId.length = 0\n\n            if (isEmptyOrNull($(PayMonthElement).val()) && isEmptyOrNull($(PayYearElement).val())) {\n                self.form.PayPeriodEnd.valueAsDate = new Date(self.form.PayYear.value, self.form.PayMonth.value, self.PayDate)\n                self.form.PayDate.valueAsDate = new Date(self.form.PayYear.value, self.form.PayMonth.value, self.PayDate)\n                var LastMonth = self.form.PayPeriodEnd.valueAsDate\n                LastMonth.setMonth(LastMonth.getMonth() - 1);\n                LastMonth.setDate(LastMonth.getDate() - 1);\n                self.form.PayPeriodStart.valueAsDate = LastMonth\n            }\n            var PayrollDate = `${self.form.PayYear.value}/${self.form.PayMonth.value + 1}/${1}`\n            /*\n            serviceCall<ListResponse<any>>({\n                service: EmployeeProfileService.baseUrl + '/CalculateWorkingHourAndDayWithDate',\n                method: \"GET\",\n                data: {\n                    \"EmployeeRowID\": parseInt($(EmployeeRowIdElement).val()),\n                    \"Date\": PayrollDate\n                },\n                async: false,\n                onSuccess: (response) => {\n                    var totalWorkingHour = response.Entities[0].TotalWorkingTimeInMinutes/60\n                    var meanDailyWorkingHour = totalWorkingHour / self.form.DaysWorked.value\n                    self.meanDailyWorkingHour = meanDailyWorkingHour\n                }\n            })\n            */\n           var wait = 0\n            serviceCall<ListResponse<any>>({\n                service: PayrollService.baseUrl + '/CalculateNplAbsentOtSpecial',\n                method: \"GET\",\n                data: {\n                    \"EmployeeRowID\": parseInt($(EmployeeRowIdElement).val()),\n                    \"Date\": PayrollDate\n                },\n                async: false,\n                onSuccess: (response) => {\n                    wait = 1\n                    self.form.DaysWorked.value = response.Entities[0].NumberOfWorkingDays\n                    $(\"#NplDayRate\").html(response.Entities[0].NPLDaily.toFixed(2));\n                    $(\"#NplHrRate\").html(response.Entities[0].NPLHourly.toFixed(2));\n                    $(\"#AbsentDayRate\").html(response.Entities[0].AbsentDaily.toFixed(2));\n                    $(\"#EarlyLeavingRate\").html(response.Entities[0].EarlyLeavingRate.toFixed(2));\n                    $(\"#LateArrivalRate\").html(response.Entities[0].LateArrivalRate.toFixed(2));\n                    self.form.DailyRate.value = response.Entities[0].DailyRate.toFixed(2)\n                    self.form.HourlyRate.value = response.Entities[0].HourlyRate.toFixed(2)\n                    \n                }\n            })\n            while (wait == 0);\n            var criteria: any;\n            LeaveApplicationService.List({\n                    Criteria: Criteria.and(criteria, [[LeaveApplicationRow.Fields.Status], '=', '1'],\n                        [[LeaveApplicationRow.Fields.EmployeeRowId], '=', $(EmployeeRowIdElement).val()],\n                        [[LeaveApplicationRow.Fields.StartDate], '<=', self.form.PayPeriodEnd.get_value()],\n                        [[LeaveApplicationRow.Fields.EndDate], '>=', self.form.PayPeriodStart.get_value()],\n                    )\n                }, response => {\n                    response.Entities.length > 0 ? FullAttendance = false : ''\n                    var criteria: any;\n                    for (var res in response.Entities) {\n                        var leaveReasonId = response.Entities[res].LeaveReasonId;\n\n                        switch (leaveReasonId) {\n                            case 1:\n                                HaveUnpaidLeave = true;\n                                break;\n                            case 2:\n                                HaveHospitalisationLeave = true;\n                                break;\n                            case 3:\n                                HaveSickLeave = true;\n                                break;\n                            case 4:\n                                HaveAnnualLeave = true;\n                                break;\n                            case 5:\n                                HaveMaternityLeave = true;\n                                break;\n                            case 6:\n                                HavePaternityLeave = true;\n                                break;\n                            case 7:\n                                HaveMarriageLeave = true;\n                                break;\n                            case 8:\n                                HaveCompassionateLeave = true;\n                                break;\n                            case 10:\n                                HaveEmergencyLeave = true;\n                                break;\n                            case 11:\n                                HaveGatepassLeave = true;\n                                break;\n                        }\n                    }\n\n\n                    for (var index in listOfDicts) {\n                        if (listOfDicts[index].id == $(EmployeeRowIdElement).val()) {\n                            self.form.PayrollEarnings.value.length = 0\n                            self.form.PayrollDeductions.value.length = 0\n\n                            $('.addEarnings, .addDeductions').show()\n                            $(`.field.MaritalStatus, .field.WorkingSpouse, .field.ChildrenUnderEighteen, .field.ChildrenInUniversity,\n                            .field.DisabledChildInUniversity, .field.DisabledChild,  .field.DaysWorked, .field.BasicPay, .field.DailyRate,\n                            .field.HourlyRate, .field.EisClass, .field.SocsoClass, .field.EpfClass, .field.TaxClass, .field.BirthDay, .field.Age, .field.HrdfClass`).show();\n                            var wait = 0\n                            serviceCall<RetrieveResponse<any>>({\n                                service: EmployeeProfileService.baseUrl + '/CalculateOtRate',\n                                data: {\n                                    \"EmployeeRowID\": self.form.EmployeeRowId.value,\n                                    \"Date\": PayrollDate\n                                },\n                                method: \"GET\",\n                                async: false,\n                                onSuccess: (response) =>\n                                {\n                                    if (document.getElementById('PayRoll-Description').children.length == 0) \n                                        self.Setup()\n             \n                                    console.log(response.Entities[0])\n                                    self.FixedOtRateOption = response.Entities[0].FixedOtRateOption\n                                    if (self.FixedOtRateOption == false) {\n                                        self.form.FlatOt.value = response.Entities[0].OtRate\n                                        let roundedOtRate = parseFloat(response.Entities[0].OtRate.toFixed(2));\n                                        // Calculate 1.5x and 2.0x multipliers\n                                        let otRate1_5x = (roundedOtRate * 1.5).toFixed(2);\n                                        let otRate2_0x = (roundedOtRate * 2).toFixed(2);\n                                        document.getElementById(\"flatOtDesc\").innerHTML = \"OT1.0x\"\n                                        document.getElementById(\"OnePointFiveOtDesc\").innerHTML = \"OT1.5x\"\n                                        document.getElementById(\"TwoOtDesc\").innerHTML = \"OT2.0x\"\n\n                                        document.getElementById(\"Ot1.0x\").textContent = roundedOtRate.toFixed(2);\n                                        document.getElementById(\"Ot1.5x\").textContent = otRate1_5x\n                                        document.getElementById(\"Ot2.0x\").textContent = otRate2_0x\n                                    }\n                                    else {\n                                        document.getElementById(\"flatOtDesc\").innerHTML = \"Weekday\"\n                                        document.getElementById(\"OnePointFiveOtDesc\").innerHTML = \"Weekend\"\n                                        document.getElementById(\"TwoOtDesc\").innerHTML = \"Public Holiday\"\n\n                                        document.getElementById(\"Ot1.0x\").textContent = response.Entities[0].OtRateWeekday;\n                                        document.getElementById(\"Ot1.5x\").textContent = response.Entities[0].OtRateWeekend;\n                                        document.getElementById(\"Ot2.0x\").textContent = response.Entities[0].OtRatePublicHoliday\n\n\n                                    }\n                                    wait = 1\n                                }\n                            })\n                            while (wait == 0);\n                            self.form.BirthDay.value = listOfDicts[index].Birthday\n                            self.form.Age.value = self.calculateAge()\n                            self.form.MaritalStatus.value = listOfDicts[index].MaritalStatus.toString()\n                            self.form.WorkingSpouse.value = listOfDicts[index].WorkingSpouse\n                            self.form.ChildrenUnderEighteen.value = listOfDicts[index].ChildrenUnderEighteen\n                            self.form.ChildrenInUniversity.value = listOfDicts[index].ChildrenInUniversity\n                            self.form.DisabledChildInUniversity.value = listOfDicts[index].DisabledChildInUniversity\n                            self.form.DisabledChild.value = listOfDicts[index].DisabledChild\n\n                            self.form.BasicPay.value = listOfDicts[index].BasicPay\n                            self.EmployeeType = listOfDicts[index].type\n                            self.EpfSubjection = listOfDicts[index].EpfSubjection\n                            self.form.EisClass.value = listOfDicts[index].EisClass.toString()\n                            self.form.EpfClass.value = listOfDicts[index].EpfClass.toString()\n                            self.form.SocsoClass.value = listOfDicts[index].SocsoClass.toString()\n                            self.form.HrdfClass.value = listOfDicts[index].HrdfClass\n                            var EmployeeName = listOfDicts[index].name\n                            var criteria: any;\n                            EmployeeAllowanceService.List({\n                                Criteria: Criteria.and(criteria, [[EmployeeAllowanceRow.Fields.EmployeeRowId], '=', $(EmployeeRowIdElement).val()]\n                                    , [self.form.PayPeriodStart.get_value(), '>=', [EmployeeAllowanceRow.Fields.EffectiveFrom]])\n                            }, response => {\n                                console.log(response.Entities)\n                                $('#AllowanceDeductionBody').empty()\n                                var TotalAllowance = 0\n                                for (var index in response.Entities) {\n                                    if (!isEmptyOrNull(response.Entities[index].EffectiveUntil)) {\n                                        var timestamp = response.Entities[index].EffectiveUntil;\n                                        var date = new Date(timestamp);\n                                        if (self.form.PayPeriodStart.valueAsDate > date)\n                                            continue\n                                    }\n                                    \n                                    if (response.Entities[index].OneTime == true) {\n                                        if (response.Entities[index].PaidOneTime == true)\n                                            continue\n                                    }\n                                    if (response.Entities[index].FullAttendance == true) {\n                                        if (\n                                            response.Entities[index].ExemptAnnualLeave == false &&\n                                            response.Entities[index].ExemptCompassionateLeave == false &&\n                                            response.Entities[index].ExemptEmergencyLeave == false &&\n                                            response.Entities[index].ExemptUnpaidLeave == false &&\n                                            response.Entities[index].ExemptSickLeave == false &&\n                                            response.Entities[index].ExemptPaternityLeave == false &&\n                                            response.Entities[index].ExemptMaternityLeave == false &&\n                                            response.Entities[index].ExemptMarriageLeave == false &&\n                                            response.Entities[index].ExemptHospitalisationLeave == false &&\n                                            response.Entities[index].ExemptGatepassLeave == false\n                                        ) {\n                                            if (FullAttendance == false)\n                                                continue\n                                        }\n                                        else {\n                                            if (response.Entities[index].ExemptAnnualLeave == true && HaveAnnualLeave == true)\n                                                continue\n\n                                            if (response.Entities[index].ExemptCompassionateLeave == true && HaveCompassionateLeave == true)\n                                                continue\n\n                                            if (response.Entities[index].ExemptEmergencyLeave == true && HaveEmergencyLeave == true)\n                                                continue\n\n                                            if (response.Entities[index].ExemptUnpaidLeave == true && HaveUnpaidLeave == true)\n                                                continue\n                                            if (response.Entities[index].ExemptSickLeave == true && HaveSickLeave == true)\n                                                continue\n                                            if (response.Entities[index].ExemptPaternityLeave == true && HavePaternityLeave == true)\n                                                continue\n                                            if (response.Entities[index].ExemptMaternityLeave == true && HaveMaternityLeave == true)\n                                                continue\n                                            if (response.Entities[index].ExemptMarriageLeave == true && HaveMarriageLeave == true)\n                                                continue\n                                            if (response.Entities[index].ExemptHospitalisationLeave == true && HaveHospitalisationLeave == true)\n                                                continue\n                                            if (response.Entities[index].ExemptGatepassLeave == true && HaveGatepassLeave == true)\n                                                continue\n                                        }\n                                    }\n                                    else if (response.Entities[index].NoAbsence == true && NoAbsence == false)\n                                        continue\n                                    else if (response.Entities[index].NoEarlyLeaving == true && NoEarlyLeaving == false)\n                                        continue\n                                    else if (response.Entities[index].NoLate == true && NoLate == false)\n                                        continue\n                                    var rowBuffer = document.createElement('tr')\n\n                                    rowBuffer.innerHTML = `<td>${response.Entities[index].AllowanceCode}</td><td>${response.Entities[index].Description}</td>\n                                            <td class = \"AllowanceAmount\" eis =  ${response.Entities[index].SubjectionEis.toString()} epf =  ${response.Entities[index].SubjectionEpf.toString()}\n                                            hrdf =  ${response.Entities[index].SubjectionHrdf.toString()} pcb =  ${response.Entities[index].SubjectionPcb.toString()}\n                                                socso =  ${response.Entities[index].SubjectionSocso.toString()} \n                                            >${response.Entities[index].Amount}</td>`\n                                    $('#AllowanceDeductionBody').append(rowBuffer)\n                                    self.AllowanceId.push(response.Entities[index].Id)\n                                    TotalAllowance += response.Entities[index].Amount\n                                }\n                                $('#TotalAllowance').val(TotalAllowance)\n                                $(PersonNameElement).val(EmployeeName)\n                                if (PayrollEarningsNode) {\n                                    var rows = PayrollEarningsNode.getElementsByTagName('TR');\n                                    var numRows = rows.length;\n                                    for (var i = numRows - 1; i > 0; i--)\n                                        rows[i].parentNode.removeChild(rows[i]);\n                                }\n                                var criteria: any;\n\n                                OTApplicationService.List({\n                                    Criteria: Criteria.and(criteria, [[OTApplicationRow.Fields.Status], '=', '1'], [[OTApplicationRow.Fields.EmployeeRowId], '=', $(EmployeeRowIdElement).val() ],\n                                        [[OTApplicationRow.Fields.OtDate], '>=', self.form.PayPeriodStart.get_value()],\n                                        [[OTApplicationRow.Fields.OtDate], '<=', self.form.PayPeriodEnd.get_value()])\n                                }, response => {\n                                    let WeekendTime = 0\n                                    let WeekdayTime = 0\n                                    let PublicHolidayTime = 0\n                                    let TwoTimes = 0\n                                    let OnePointFiveTimes = 0\n                                    response.Entities.forEach(data => {\n                                        if (data.WeekendOt) \n                                            WeekendTime += data.OtMinute;\n                                        else if (data.WeekdayOt) \n                                            WeekdayTime += data.OtMinute;\n                                        else if (data.PublicHolidayOt) \n                                            PublicHolidayTime += data.OtMinute;\n                                    })\n                                    if (self.FixedOtRateOption == false) {\n                                        self.PublicHolidayMultiplier == 2.0 ? TwoTimes += PublicHolidayTime : OnePointFiveTimes += PublicHolidayTime\n                                        self.WeekendMultiplier == 2.0 ? TwoTimes += WeekendTime : OnePointFiveTimes += WeekendTime\n                                        self.WeekdayMultiplier == 2.0 ? TwoTimes += WeekdayTime : OnePointFiveTimes += WeekdayTime\n\n                                        TwoTimes = TwoTimes / 60\n                                        OnePointFiveTimes = OnePointFiveTimes / 60\n\n                                        $('#OtOnePointFiveTime').val(OnePointFiveTimes)\n                                        $('#OtTwoTime').val(TwoTimes)\n                                    }\n                                    else {\n                                        WeekdayTime = WeekdayTime / 60;\n                                        WeekendTime = WeekendTime / 60;\n                                        PublicHolidayTime = PublicHolidayTime / 60;\n\n                                        $('#OtOneTime').val(WeekdayTime)\n                                        $('#OtOnePointFiveTime').val(WeekendTime)\n                                        $('#OtTwoTime').val(PublicHolidayTime)\n                                    }\n                                    $('#OtTwoTime').trigger('change')\n                                   \n                                    var criteria: any;\n                                NoPaidLeaveService.List({\n                                    Criteria: Criteria.and(criteria, [[NoPaidLeaveRow.Fields.EmployeeRowId], '=', $(EmployeeRowIdElement).val()],\n                                        [[NoPaidLeaveRow.Fields.LeaveDate], '>=', self.form.PayPeriodStart.get_value()],\n                                        [[NoPaidLeaveRow.Fields.LeaveDate], '<=', self.form.PayPeriodEnd.get_value()]\n                                    )\n                                }, response => {\n                                    let NoPaidLeaveDays = 0\n\n                                    for (var index in response.Entities) {\n                                        if (!isEmptyOrNull(response.Entities[index].Deductions)) {\n                                            self.NoPaidLeaveId.push(response.Entities[index].Id)\n                                            NoPaidLeaveDays += response.Entities[index].HalfDay ? 0.5 : 1\n                                        }\n                                    }\n                                    var criteria: any;\n                                    FixedDeductionService.List({\n                                        Criteria: Criteria.and(criteria, [[FixedDeductionRow.Fields.EmployeeRowId], '=', $(EmployeeRowIdElement).val()]\n                                            , [self.form.PayPeriodStart.get_value(), '>=', [FixedDeductionRow.Fields.EffectiveFrom]])\n                                    }, response => {\n                                        var TotalDeductions = 0\n                                        for (var index in response.Entities) {\n                                            if (response.Entities[index].OneTime == true) {\n                                                if (response.Entities[index].DeductedOneTime == true)\n                                                    continue\n                                            }\n                                            if (!isEmptyOrNull(response.Entities[index].EffectiveUntil)) {\n                                                var timestamp = response.Entities[index].EffectiveUntil;\n                                                var date = new Date(timestamp);\n                                                if (self.form.PayPeriodStart.valueAsDate > date)\n                                                    continue\n                                            }\n                                            var row = document.createElement('tr')\n                                            row.innerHTML = `<td>${response.Entities[index].DeductionCode}</td><td>${response.Entities[index].Description}</td><td class = \"DeductionAmount\">-${response.Entities[index].Amount}</td>`\n\n\n                                            $('#AllowanceDeductionBody').append(row)\n                                            self.DeductionId.push(response.Entities[index].Id)\n                                            TotalDeductions += response.Entities[index].Amount\n                                        }\n                                        $('.remove').on('click', async function (e) {\n                                            console.log('haha')\n                                            $(this).closest('tr').remove(); // Remove the row\n                                            self.updatePayroll()\n                                        })\n                                        $('.numberInput').on('change', async function (e) {\n                                            self.updatePayroll()\n                                        })\n                                        $('#TotalDeduction').val(TotalDeductions)\n                                        var criteria: any;\n                                        MoneyClaimApplicationService.List({\n                                            Criteria: Criteria.and(criteria, [[MoneyClaimApplicationRow.Fields.EmployeeRowId], '=', $(EmployeeRowIdElement).val()]\n                                                , [[MoneyClaimApplicationRow.Fields.Paid], '=', '0'], [[MoneyClaimApplicationRow.Fields.Status], '=', '1'],\n                                                [[MoneyClaimApplicationRow.Fields.ClaimingDate], '>=', self.form.PayPeriodStart.get_value()],\n                                                [[MoneyClaimApplicationRow.Fields.ClaimingDate], '<=', self.form.PayPeriodEnd.get_value()])\n                                        }, response => {\n                                            $('#MoneyClaimingBody').empty()\n                                            for (var index in response.Entities) {\n                                                var rowBuffer = document.createElement('tr')\n                                                rowBuffer.innerHTML = `<td>${response.Entities[index].ClaimingCategory}</td><td>${response.Entities[index].Description}</td>\n                                            <td  eis =  ${response.Entities[index].SubjectionEis.toString()} epf =  ${response.Entities[index].SubjectionEpf.toString()}\n                                            hrdf =  ${response.Entities[index].SubjectionHrdf.toString()} pcb =  ${response.Entities[index].SubjectionPcb.toString()}\n                                                socso =  ${response.Entities[index].SubjectionSocso.toString()} \n                                            >${response.Entities[index].ClaimAmount}</td>`\n                                                $('#MoneyClaimingBody').append(rowBuffer)\n\n\n                                            }\n\n                                            var criteria: any;\n                                            EmployeeEarlyLeavingService.List({\n                                                Criteria: Criteria.and(criteria, [[EmployeeEarlyLeavingRow.Fields.EmployeeRowId], '=', $(EmployeeRowIdElement).val()],\n                                                    [[EmployeeEarlyLeavingRow.Fields.Date], '>=', self.form.PayPeriodStart.get_value()],\n                                                    [[EmployeeEarlyLeavingRow.Fields.Date], '<=', self.form.PayPeriodEnd.get_value()]\n                                                )\n\n                                            }, response => {\n                                                response.Entities.length > 0 ? NoEarlyLeaving = false : ''\n                                                let EarlyLeavingMinutes = 0\n                                                for (var index in response.Entities) {\n                                                    if (response.Entities[index].Deducted == 0) {\n                                                        EarlyLeavingMinutes += response.Entities[index].EarlyMins\n                                                        self.EarlyLeavingId.push(response.Entities[index].Id)\n                                                    }\n                                                }\n                                                $('#EarlyLeavingMinutes').val(EarlyLeavingMinutes)\n                                                var criteria: any;\n                                                EmployeeLateService.List({\n                                                    Criteria: Criteria.and(criteria, [[EmployeeLateRow.Fields.EmployeeRowId], '=', $(EmployeeRowIdElement).val()],\n                                                        [[EmployeeLateRow.Fields.Date], '>=', self.form.PayPeriodStart.get_value()],\n                                                        [[EmployeeLateRow.Fields.Date], '<=', self.form.PayPeriodEnd.get_value()]\n                                                    )\n                                                }, response => {\n                                                    var LateMinutes = 0\n                                                    response.Entities.length > 0 ? NoLate = false : ''\n                                                    for (var index in response.Entities) {\n                                                        if (response.Entities[index].Deducted == 0) {\n                                                            if (!isEmptyOrNull(response.Entities[index].Deductions)) {\n                                                                LateMinutes += response.Entities[index].LateMins\n                                                                self.LateArrivalId.push(response.Entities[index].Id)\n                                                            }\n                                                        }\n                                                    }\n                                                    $('#LateArrivalMinutes').val(LateMinutes)\n                                                    self.updatePayroll()\n                                                    //self.updateWages()\n\n                                                })\n                                            })\n\n\n                                        })\n\n                                    })\n\n\n                                })\n                                })\n                            })\n                            \n                            break\n                        }\n                    }\n\n                })\n          \n        }\n    }\n\n    public CheckSubjection(arrayOfDict, input): number {\n        var extractedText = input.match(/\\((.*?)\\)/);\n        var trimmedString;\n        // Check if text inside parentheses is found\n        if (extractedText && extractedText.length > 1)\n            trimmedString = extractedText[1]; // Extracted text is at index 1\n        else\n            trimmedString = input; // If no parentheses found, set trimmed string to original string\n\n        if (trimmedString == 'Others')\n            return 0\n        for (var i = 0; i < arrayOfDict.length; i++) {\n            var dict = arrayOfDict[i];\n            for (var key in dict) {\n                if (dict[key] == trimmedString)\n                    return dict['subjection']\n            }\n        }\n\n        return 0\n    }\n    protected getToolbarButtons() {\n        var buttons = super.getToolbarButtons();\n        var CssLink = document.createElement('style')\n        CssLink.textContent =\n            `\n\n    .section {\n      margin: 20px 0;\n      padding: 20px;\n      border: 1px solid #ccc;\n      background-color: #f9f9f9;\n      border-radius: 8px;\n    }\n\n    .section h3 {\n      margin-bottom: 15px;\n      font-size: 18px;\n      color: #333;\n    }\n\n    table {\n      width: 100%;\n      border-collapse: collapse;\n    }\n\n    table td {\n      padding: 8px;\n      text-align: left;\n      vertical-align: middle;\n    }\n\n    table td input[type=\"number\"] {\n      width: 100%;\n      text-align: right;\n      padding: 5px;\n      font-size: 14px;\n      border: 1px solid #ccc;\n      border-radius: 4px;\n      background-color: #f9f9f9;\n    }\n\n\n\n\n\n\n\n\n\n    table {\n      width: 100%;\n      border-collapse: collapse;\n      margin: 20px 0;\n    }\n\n    th, td {\n      border: 1px solid #ccc;\n      padding: 10px;\n      text-align: center;\n    }\n\n    th {\n      background-color: #d9e9f9; /* Light blue for headers */\n      font-weight: bold;\n    }\n\n    td:nth-child(3), td:nth-child(5) {\n      background-color: #fde8f1; /* Light pink for specific columns */\n    }\n\n    tr:nth-child(even) {\n      background-color: #f9f9f9; /* Alternating row colors */\n    }\n\n    tr {\n    position: sticky;\n    }\n        \n    tr:hover {\n      background-color: #f1f1f1; /* Hover effect for rows */\n    }\n\n    .numberInput {\n      text-align: right; /* Align text consistently */\n      width: 100%;\n      border: none;\n      background-color: transparent;\n    }\n\n    .Description {\n    text-align: left; /* Align text consistently */\n    width: 50px; /* Ensures consistent width for all spans */\n\n    }\n\n    .numberInputContainer {\n    text-align: left; /* Align text consistently */\n    width: 100px; /* Ensures consistent width for all spans */\n    }\n\n\n    .rates {\n    text-align: right; /* Align text consistently */\n    width: 100px; /* Ensures consistent width for all spans */\n    }\n    \n\n    #PayRollGrid {\n    display: flex;\n    gap: 5px; /* Adds a 20px gap between #left, #center, and #right */\n}\n\n#left,\n#center,\n#right {\n    flex: 1; /* Ensures each section takes equal space (optional) */\n}\n\n            `\n        document.head.appendChild(CssLink)\n\n\n        \n        // *** Create Dropdown-Button ***\n        var self = this\n\n        buttons.push(\n            {\n                title: \"Add Earnings\",\t// *** Get button text from translation\n                cssClass: 'text-bg-success p-2 addEarnings',\n                icon: 'fa-plus text-green',\n                onClick: () => {\n                    const addButton = $('.PayrollEarnings .add-button');\n                    addButton.click()\n                    var PrevLength = self.form.PayrollEarnings.value.length\n                    $('.s-HRMSoftware-PayrollSettings-PayrollEarningsEditDialog').on(\"dialogclose\", function () {\n                        if (PrevLength != self.form.PayrollEarnings.value.length) {\n                            var info = self.form.PayrollEarnings.value[self.form.PayrollEarnings.value.length - 1]\n                            var bufferRow = document.createElement('tr')\n                            bufferRow.innerHTML = `<td> <span>${info.EarningCode}</span>           <button class=\"remove\">\u00D7</button>\n                            </td><td>${info.Description}</td><td> <input class = numberInput type=\"number\" min=\"0\" eis = ${info.SubjectionToEis} epf = ${info.SubjectionToEpf} hrdf = ${info.SubjectionToHrdf}\n                             pcb = ${info.SubjectionToPcb} socso = ${info.SubjectionToSocso}  value = ${info.Amount} ></input>           </td>`\n                        \n                            $('#EarningDeductionBody').append(bufferRow)\n                            $('.remove').on('click', async function (e) {\n                                $(this).closest('tr').remove(); // Remove the row\n                                self.updatePayroll()\n                            })\n                            $('.numberInput').on('change', async function (e) {\n                                self.updatePayroll()\n                            })\n\n                            self.updatePayroll()\n                        }\n\n                    })\n                },\n            }\n        );\n        buttons.push(\n            {\n                title: \"Add Deductions\",\t// *** Get button text from translation\n                cssClass: 'text-bg-danger p-2 addDeductions',\n                icon: 'fa-minus text-red',\n                onClick: () => {\n                    const addButton = $('.PayrollDeductions .add-button');\n                    addButton.click()\n                    var PrevLength = self.form.PayrollDeductions.value.length\n                    $('.s-HRMSoftware-PayrollSettings-PayrollDeductionsEditDialog').on(\"dialogclose\", function () {\n                        if (PrevLength != self.form.PayrollDeductions.value.length) {\n                            var info = self.form.PayrollDeductions.value[self.form.PayrollDeductions.value.length - 1]\n                            var bufferRow = document.createElement('tr');\n                            bufferRow.innerHTML = `<td>   <span>${info.DeductionCode}</span>  <button class=\"remove\">\u00D7</button>\n                            </td><td>${info.Description}</td><td> <input class = numberInput type=\"number\" max=\"0\"  value = \"-${info.Amount}\" ></input>           </td>`\n                            $('#EarningDeductionBody').append(bufferRow)\n                            $('.remove').on('click', async function (e) {\n                                $(this).closest('tr').remove(); // Remove the row\n                                self.updatePayroll()\n                            })\n                            $('.numberInput').on('change', async function (e) {\n                                self.updatePayroll()\n                            })\n                            self.updatePayroll()\n\n                        }\n                    })\n                },\n            }\n        );\n        return buttons;\n    }\n    protected save_submitHandler(response): void {\n        let i = 0;\n        let ExtraEarningDeductionBody = document.getElementById(\"EarningDeductionBody\");\n        let ExtraEarningDeductionRows = ExtraEarningDeductionBody.querySelectorAll(\"tr\");\n        if (ExtraEarningDeductionRows.length) {\n            let ExtraEarningList: any[] = [];\n            let ExtraDeductionList: any[] = [];\n            let ExtraEarningDeductionData = Array.from(ExtraEarningDeductionRows).map(row => {\n                let cells = row.querySelectorAll(\"td\");\n                return {\n                    code: cells[0].querySelector(\"span\").textContent,          // e.g., \"111\"\n                    description: cells[1].innerText,    // e.g., \"Director Fee\"\n                    amount: cells[2].querySelector(\".numberInput\").value,       // e.g., \"100\"\n                    eis: cells[2].querySelector(\".numberInput\").getAttribute(\"eis\"), // e.g., \"false\"\n                    epf: cells[2].querySelector(\".numberInput\").getAttribute(\"epf\"), // e.g., \"false\"\n                    hrdf: cells[2].querySelector(\".numberInput\").getAttribute(\"hrdf\"), // e.g., \"false\"\n                    pcb: cells[2].querySelector(\".numberInput\").getAttribute(\"pcb\"), // e.g., \"false\"\n                    socso: cells[2].querySelector(\".numberInput\").getAttribute(\"socso\") // e.g., \"false\"\n                };\n            });\n            for (i = 0; i < ExtraEarningDeductionData.length; i++) {\n                var AllowanceDeductionRow\n                if (parseFloat(ExtraEarningDeductionData[i].amount) > 0) {\n                    AllowanceDeductionRow = new ConcretePayrollEarningsRow()\n                    AllowanceDeductionRow.Amount = parseFloat(ExtraEarningDeductionData[i].amount)\n                    AllowanceDeductionRow.Description = ExtraEarningDeductionData[i].description\n                    AllowanceDeductionRow.SubjectionToPcb = toBoolean(ExtraEarningDeductionData[i].pcb)\n                    AllowanceDeductionRow.SubjectionToEis = toBoolean(ExtraEarningDeductionData[i].eis)\n                    AllowanceDeductionRow.SubjectionToHrdf = toBoolean(ExtraEarningDeductionData[i].hrdf)\n                    AllowanceDeductionRow.SubjectionToSocso = toBoolean(ExtraEarningDeductionData[i].socso)\n                    AllowanceDeductionRow.SubjectionToEpf = toBoolean(ExtraEarningDeductionData[i].epf)\n                    AllowanceDeductionRow.EarningCode = ExtraEarningDeductionData[i].code\n\n                    ExtraEarningList.push(AllowanceDeductionRow)\n                }\n                else if (parseFloat(ExtraEarningDeductionData[i].amount) < 0) {\n                    AllowanceDeductionRow = new ConcretePayrollDeductionsRow()\n                    AllowanceDeductionRow.Amount = parseFloat(ExtraEarningDeductionData[i].amount)\n                    AllowanceDeductionRow.Description = ExtraEarningDeductionData[i].description\n                    AllowanceDeductionRow.DeductionCode = ExtraEarningDeductionData[i].code\n                    ExtraDeductionList.push(AllowanceDeductionRow)\n                }\n            }\n            this.form.PayrollEarnings.value = ExtraEarningList\n            this.form.PayrollDeductions.value = ExtraDeductionList\n        }\n\n        this.form.NPLDaily.value = $(\"#NplDay\").val()\n        this.form.NPLHourly.value = $(\"#NplHr\").val()\n        this.form.AbsentDaily.value = $(\"#AbsentDay\").val()\n        this.form.OtOne.value = $('#OtOneTime').val()\n        this.form.OtOnePointFive.value = $('#OtOnePointFiveTime').val()\n        this.form.OtTwo.value = $('#OtTwoTime').val()\n        this.form.EarlyLeaving.value = $('#EarlyLeavingMinutes').val()\n        this.form.LateArrival.value = $('#LateArrivalMinutes').val()\n        this.form.FlatOt.value = parseFloat(document.getElementById('Ot1.0x').textContent)\n        this.form.OtOnePointFiveRate.value = parseFloat(document.getElementById('Ot1.5x').textContent)\n        this.form.OtTwoRate.value = parseFloat(document.getElementById('Ot2.0x').textContent)\n\n        var self = this\n        function toBoolean(value) {\n            return value === \"true\";\n        }\n\n        this.form.EmployeePCB.value = $(\"#PCB\").val()\n        this.form.EmployeeEIS.value = $(\"#EmployeeEIS\").val()\n        this.form.EmployeeEPF.value = $(\"#EmployeeEPF\").val()\n        this.form.EmployeeSOCSO.value = $(\"#EmployeeSOCSO\").val()\n        this.form.EmployerEIS.value = $(\"#EmployerEIS\").val()\n        this.form.EmployerEPF.value = $(\"#EmployerEPF\").val()\n        this.form.EmployerHRDF.value = $(\"#HRD\").val()\n        this.form.EmployerSOCSO.value = $(\"#EmployerSOCSO\").val()\n        this.form.NPLDailyRate.value = parseFloat($(\"#NplDayRate\").text())\n        this.form.NPLHourlyRate.value = parseFloat($(\"#NplHrRate\").text())\n        this.form.AbsentDailyRate.value = parseFloat($(\"#AbsentDayRate\").text())\n\n\n\n        this.form.EarlyLeavingRate.value = parseFloat($(\"#EarlyLeavingRate\").text())\n        this.form.LateArrivalRate.value = parseFloat($(\"#LateArrivalRate\").text())\n\n\n        let MoneyClaimingBody = document.getElementById(\"MoneyClaimingBody\");\n        let MoneyClaimingRows = MoneyClaimingBody.querySelectorAll(\"tr\");\n        if (MoneyClaimingRows.length) {\n            let MoneyClaimingList: any[] = [];\n            let MoneyClaimingData = Array.from(MoneyClaimingRows).map(row => {\n                let cells = row.querySelectorAll(\"td\");\n                return {\n                    ClaimingCategory: cells[0].innerText,    // e.g., \"Director Fee\"\n                    description: cells[1].innerText,          // e.g., \"111\"\n                    amount: cells[2].innerText,       // e.g., \"100\"\n                    eis: cells[2].getAttribute(\"eis\"), // e.g., \"false\"\n                    epf: cells[2].getAttribute(\"epf\"), // e.g., \"false\"\n                    hrdf: cells[2].getAttribute(\"hrdf\"), // e.g., \"false\"\n                    pcb: cells[2].getAttribute(\"pcb\"), // e.g., \"false\"\n                    socso: cells[2].getAttribute(\"socso\") // e.g., \"false\"\n                };\n            });\n\n            for (i = 0; i < MoneyClaimingData.length; i++) {\n                var MoneyClaimingRow = new ConcreteMoneyClaimApplicationRow()\n                MoneyClaimingRow.ClaimAmount = parseFloat(MoneyClaimingData[i].amount)\n                MoneyClaimingRow.Description = MoneyClaimingData[i].description\n                MoneyClaimingRow.ClaimingCategory = MoneyClaimingData[i].ClaimingCategory\n                MoneyClaimingRow.SubjectionPcb = toBoolean(MoneyClaimingData[i].pcb)\n                MoneyClaimingRow.SubjectionEis = toBoolean(MoneyClaimingData[i].eis)\n                MoneyClaimingRow.SubjectionHrdf = toBoolean(MoneyClaimingData[i].hrdf)\n                MoneyClaimingRow.SubjectionSocso = toBoolean(MoneyClaimingData[i].socso)\n                MoneyClaimingRow.SubjectionEpf = toBoolean(MoneyClaimingData[i].epf)\n                MoneyClaimingList.push(MoneyClaimingRow)\n            }\n            this.form.PaidMoneyClaimingList.value = MoneyClaimingList\n\n        }\n\n        let AllowanceDeductionBody = document.getElementById(\"AllowanceDeductionBody\");\n        let AllowanceDeductionRows = AllowanceDeductionBody.querySelectorAll(\"tr\");\n        if (AllowanceDeductionRows.length) {\n            let AllowanceList: any[] = [];\n            let DeductionList: any[] = [];\n\n            let AllowanceDeductionData = Array.from(AllowanceDeductionRows).map(row => {\n                let cells = row.querySelectorAll(\"td\");\n                return {\n                    code: cells[0].innerText,          // e.g., \"111\"\n                    description: cells[1].innerText,    // e.g., \"Director Fee\"\n                    amount: cells[2].innerText,       // e.g., \"100\"\n                    eis: cells[2].getAttribute(\"eis\"), // e.g., \"false\"\n                    epf: cells[2].getAttribute(\"epf\"), // e.g., \"false\"\n                    hrdf: cells[2].getAttribute(\"hrdf\"), // e.g., \"false\"\n                    pcb: cells[2].getAttribute(\"pcb\"), // e.g., \"false\"\n                    socso: cells[2].getAttribute(\"socso\") // e.g., \"false\"\n                };\n            });\n            let allowanceIndex = 0, deductionIndex = 0\n            for (i = 0; i < AllowanceDeductionData.length; i++) {\n                var AllowanceDeductionRow\n                if (parseFloat(AllowanceDeductionData[i].amount) > 0) {\n                    AllowanceDeductionRow = new ConcreteEmployeeAllowanceRow()\n                    AllowanceDeductionRow.AllowanceId = self.AllowanceId[allowanceIndex]\n                    AllowanceDeductionRow.AllowanceAmount = parseFloat(AllowanceDeductionData[i].amount)\n                    AllowanceDeductionRow.Description = AllowanceDeductionData[i].description\n                    AllowanceDeductionRow.SubjectionPcb = toBoolean(AllowanceDeductionData[i].pcb)\n                    AllowanceDeductionRow.SubjectionEis = toBoolean(AllowanceDeductionData[i].eis)\n                    AllowanceDeductionRow.SubjectionHrdf = toBoolean(AllowanceDeductionData[i].hrdf)\n                    AllowanceDeductionRow.SubjectionSocso = toBoolean(AllowanceDeductionData[i].socso)\n                    AllowanceDeductionRow.SubjectionEpf = toBoolean(AllowanceDeductionData[i].epf)\n                    AllowanceDeductionRow.code = AllowanceDeductionData[i].code\n                    allowanceIndex+=1\n                    AllowanceList.push(AllowanceDeductionRow)\n                }\n                else if (parseFloat(AllowanceDeductionData[i].amount) < 0) {\n                    AllowanceDeductionRow = new ConcreteFixedDeductionRow()\n                    AllowanceDeductionRow.DeductionId = self.DeductionId[deductionIndex]\n\n                    AllowanceDeductionRow.DeductionAmount = parseFloat(AllowanceDeductionData[i].amount)\n                    AllowanceDeductionRow.Description = AllowanceDeductionData[i].description\n                    AllowanceDeductionRow.code = AllowanceDeductionData[i].code\n                    DeductionList.push(AllowanceDeductionRow)\n                    deductionIndex+=1\n                }\n            }\n            this.form.AllowanceList.value = AllowanceList\n            this.form.DeductionList.value = DeductionList\n        }\n        self.form.Nett.value = $('#NettWage').val()\n        self.form.Earnings.value = $('#GrossWage').val()\n        self.form.Deduction.value = self.form.Earnings.value - self.form.Nett.value \n\n        super.save_submitHandler(response)\n        \n    }\n\n}\n\nclass ConcreteMoneyClaimApplicationRow extends PayslipPaidMoneyClaimingRow {\n    constructor() {\n        super();\n    }\n}\n\nclass ConcretePayrollDeductionsRow extends PayrollDeductionsRow {\n    constructor() {\n        super();\n    }\n}\nclass ConcretePayrollEarningsRow extends PayrollEarningsRow {\n    constructor() {\n        super();\n    }\n}\nclass ConcreteEmployeeAllowanceRow extends PayslipPaidOneTimeAllowanceRow {\n    constructor() {\n        super();\n    }\n}\nclass ConcreteFixedDeductionRow extends PayslipDeductedOneTimeDeductionsRow {\n    constructor() {\n        super();\n    }\n}\n", "import { Decorators, EntityDialog, EditorUtils, ListResponse, Criteria } from '@serenity-is/corelib';\nimport { PayrollGeneratingWizardForm, PayrollGeneratingWizardRow, PayrollGeneratingWizardService, PayrollService } from '../../../ServerTypes/PayrollSettings';\nimport { alertDialog, isEmptyOrNull } from '@serenity-is/corelib/q';\nimport { confirm, serviceCall, notifySuccess, notifyError } from '@serenity-is/corelib/q';\nimport {  Select2Editor } from '@serenity-is/corelib';\nimport { EmployeeProfileRow, EmployeeProfileService } from '../../../ServerTypes/EmployeeProfile';\nimport { PayrollDialog } from '../Payroll/PayrollDialog';\nimport { PayrollWizDialog } from '../PayrollWiz/PayrollWizDialog';\nimport { PayrollWizardDialog } from '../PayrollWizard/PayrollWizardDialog';\nimport { CompanySettingsService } from '../../../ServerTypes/CompanySettings';\nimport { AnnouncementWizardService } from '../../../ServerTypes/Announcement';\n\n@Decorators.registerClass('HRMSoftware.PayrollSettings.PayrollGeneratingWizardDialog')\nexport class PayrollGeneratingWizardDialog extends EntityDialog<PayrollGeneratingWizardRow, any> {\n    protected getFormKey() { return PayrollGeneratingWizardForm.formKey; }\n    protected getRowDefinition() { return PayrollGeneratingWizardRow; }\n    protected getService() { return PayrollGeneratingWizardService.baseUrl; }\n    public EmployeeData: any[];\n    public PayrollData: any[];\n\n    public dateString: string;\n    constructor() {\n        super();\n        var criteria: any;\n\n        EmployeeProfileService.List({\n            Criteria: Criteria.and(criteria, [[EmployeeProfileRow.Fields.Retired], '=', '0'],\n                [[EmployeeProfileRow.Fields.Terminated], '=', '0'],\n                [[EmployeeProfileRow.Fields.Resigned], '=', '0']\n            )\n        }, response => {\n            this.EmployeeData = response.Entities\n        })\n\n\n\n    }\n    protected form = new PayrollGeneratingWizardForm(this.idPrefix);\n    public SearchCallback(): void {\n        var self = this\n        var PayMonthElement = document.getElementById(this.idPrefix + 'PayMonth');\n        var PayYearElement = document.getElementById(this.idPrefix + 'PayYear');\n        var OccupationListElement = document.getElementById(this.idPrefix + 'OccupationList');\n        var DepartmentListElement = document.getElementById(this.idPrefix + 'DepartmentList');\n        var DivisionListElement = document.getElementById(this.idPrefix + 'DivisionList');\n        var JobGradeListElement = document.getElementById(this.idPrefix + 'JobGradeList');\n        var SectionListElement = document.getElementById(this.idPrefix + 'SectionList');\n        if (isEmptyOrNull($(PayMonthElement).val()) || isEmptyOrNull($(PayYearElement).val())) {\n            this.form.EmployeeRowList.value = this.form.EmployeeRowListBuffer.value = ''\n            return\n        }\n        function parseListFromElement(element) {\n            const valueStr = $(element).val();\n            return valueStr.length\n                ? valueStr.split(',').map(number => parseInt(number, 10))\n                : [];\n        }\n        // Use the utility function for each list\n        const JobGradeList = parseListFromElement(JobGradeListElement);\n        const DivisionList = parseListFromElement(DivisionListElement);\n        const DepartmentList = parseListFromElement(DepartmentListElement);\n        const OccupationList = parseListFromElement(OccupationListElement);\n        const SectionList = parseListFromElement(SectionListElement);\n        // Convert the lists to Sets for faster lookup\n        const jobGradeSet = new Set(JobGradeList);\n        const divisionSet = new Set(DivisionList);\n        const departmentSet = new Set(DepartmentList);\n        const occupationSet = new Set(OccupationList);\n        const sectionSet = new Set(SectionList);\n\n        for (let employee of self.EmployeeData) {\n            const { JobGradeID, DivisionID, DepartmentID, OccupationID, SectionID, Id } = employee;\n\n            // Check if the employee matches any criteria\n            const found =\n                jobGradeSet.has(JobGradeID) ||\n                divisionSet.has(DivisionID) ||\n                departmentSet.has(DepartmentID) ||\n                occupationSet.has(OccupationID) ||\n                sectionSet.has(SectionID);\n\n            let employeeRowListBuffer = self.form.EmployeeRowListBuffer.value;\n            let employeeRowList = employeeRowListBuffer ? employeeRowListBuffer.split(',').map(Number) : [];\n\n            if (!found) {\n                // Remove employee if not found\n                employeeRowList = employeeRowList.filter(num => num !== Id);\n            } else {\n                // Add employee if not already present\n                if (!employeeRowList.includes(Id)) {\n                    employeeRowList.push(Id);\n                }\n            }\n            // Update the buffer value\n            self.form.EmployeeRowListBuffer.value = employeeRowList.join(',');\n        }\n    }\n    public counter: number;\n    public WaitingCounter: number;\n    public SearchEmployeeCallback(): void\n    {\n        var self = this\n        var EmployeeRowIdListElement = document.getElementById(this.idPrefix + 'EmployeeRowListBuffer');\n        var EmployeeRowIdString = $(EmployeeRowIdListElement).val()\n        let numbers = EmployeeRowIdString.split(',')\n        let EmployeeRowIdList = [];\n        if (EmployeeRowIdString.length)\n            numbers.forEach(number => {\n                EmployeeRowIdList.push(parseInt(number)); // Convert string to integer and push to numberList\n            })\n        var PayMonthElement = document.getElementById(this.idPrefix + 'PayMonth')\n        var PayYearElement = document.getElementById(this.idPrefix + 'PayYear')\n        var PayYear = $(PayYearElement).val()\n        var PayMonth = $(PayMonthElement).val()\n       \n        let EmployeeRowList = [];\n        var EmployeeRowString = self.form.EmployeeRowListBuffer.value\n        let EmployeeRowListBuffer = EmployeeRowString.split(',')\n        EmployeeRowListBuffer.forEach(number => {\n            EmployeeRowList.push(parseInt(number)); // Convert string to integer and push to numberList\n        })\n\n        PayrollService.List({\n        }, response => {\n\n            for (var index in response.Entities) {\n                var currentEmployeeRowId = response.Entities[index].EmployeeRowId\n                var currentPayMonth = response.Entities[index].PayMonth\n                var currentPayYear = response.Entities[index].PayYear\n                if (EmployeeRowIdList.indexOf(currentEmployeeRowId) !== -1 && currentPayMonth == PayMonth && currentPayYear == PayYear) {\n                    EmployeeRowString = self.form.EmployeeRowListBuffer.value\n                    if (EmployeeRowString != \"\") {\n                        let EmployeeRowListBuffer = EmployeeRowString.split(',')\n                        EmployeeRowListBuffer.forEach(number => {\n                            EmployeeRowList.push(parseInt(number)); // Convert string to integer and push to numberList\n                        })\n                        EmployeeRowList = EmployeeRowList.filter(number => number !== response.Entities[index].EmployeeRowId);\n                        self.form.EmployeeRowListBuffer.value = EmployeeRowList.join(',')\n                    }\n                }\n            }\n            self.form.EmployeeRowList.value = EmployeeRowList.join(',')\n        })\n    }\n    protected getToolbarButtons() {\n        var self = this;\n        var JobGradeListElement = document.getElementById(this.idPrefix + 'JobGradeList')\n        var buttons = super.getToolbarButtons();\n        $(`#${this.idPrefix}Toolbar`).addClass(\"ms-auto\")\n        buttons.push(\n            {\n                title: \"Generate Payslips\",\t// *** Get button text from translation\n                cssClass: 'text-bg-success p-2 ml-auto',\n                icon: 'fas fa-hat-wizard text-green',\n                onClick: () => {\n                    if (isEmptyOrNull(self.form.PayDate.value)) {\n                        notifyError('Please enter pay date');\n                        return\n                    }\n                    if (isEmptyOrNull(self.form.PayMonth.value)) {\n                        notifyError('Please enter pay Month');\n                        return\n                    }\n                    if (isEmptyOrNull(self.form.PayYear.value)) {\n                        notifyError('Please enter pay Year');\n                        return;\n                    }\n                    if (isEmptyOrNull(self.form.PayPeriodEnd.value)) {\n                        notifyError('Please enter pay period end');\n                        return\n                    }\n                    if (isEmptyOrNull(self.form.PayPeriodStart.value)) {\n                        notifyError('Please enter pay period start');\n                        return\n                    }\n                    var EmployeeRowIdString = self.form.EmployeeRowList.value\n                    let EmployeeRowIdList = [];\n                    let numbers = EmployeeRowIdString.split(',')\n                    if (EmployeeRowIdString.length)\n                        numbers.forEach(number => {\n                            EmployeeRowIdList.push(parseInt(number)); // Convert string to integer and push to numberList\n                        })\n                    self.counter = 0\n                    self.WaitingCounter = EmployeeRowIdList.length\n                    confirm(//  the user confirm dont want to download\n                        \"Are you sure to generate payslip of these employees?\",\n                        () => {\n                            function handleEmployee(EmployeeRowId) {\n                                return new Promise<void>((resolve) => {\n                                    let PayrollDlg = new PayrollDialog(\n                                        1,\n                                        EmployeeRowId,\n                                        self.form.PayYear.value,\n                                        self.form.PayMonth.value,\n                                        self.form.PayDate.value,\n                                        self.form.PayPeriodStart.value,\n                                        self.form.PayPeriodEnd.value\n                                    );\n                                    PayrollDlg.element.on(\"dialogopen\", function () {\n                                        $(\".s-PayrollDialog\").hide()\n                                    });\n                                    PayrollDlg.dialogOpen();\n                                    PayrollDlg.element.on(\"dialogclose\", function () {\n                                        self.counter += 1;\n                                        if (self.counter == EmployeeRowIdList.length)\n                                            notifySuccess(\"Payslip generated\")\n                                        resolve();\n                                    });\n                                });\n                            }\n                            function handleDownload() {\n                                return new Promise<void>((resolve) => {\n                                    var DownloadWiz = new PayrollWizardDialog(\n                                        EmployeeRowIdString,\n                                        self.form.PayMonth.value,\n                                        self.form.PayYear.value\n                                    );\n                                    DownloadWiz.dialogOpen();\n                                    DownloadWiz.element.on(\"dialogclose\", function () {\n                                        self.SearchCallback();\n                                        resolve();\n                                    });\n                                });\n                            }\n                            async function processEmployees(EmployeeRowIdList) {\n                                for (let index = 0; index < EmployeeRowIdList.length; index++) {\n                                   \n                                    await handleEmployee(EmployeeRowIdList[index]);\n                                }\n                                if (self.form.Download.value == true) \n                                    await handleDownload();\n                                 else \n                                    self.SearchCallback();\n                            }\n                            console.log(EmployeeRowIdList)\n                            processEmployees(EmployeeRowIdList)\n                     \n                            if (self.form.Download.value == true)\n                                notifySuccess(\"Payslip downloaded\")\n\n                            self.form.EmployeeRowListBuffer.value = self.form.EmployeeRowList.value = ''\n                            \n\n\n                        }\n                    )\n                },\n            }\n        );\n        return buttons\n    }\n    public dialogOpen(asPanel?: boolean): void {\n        super.dialogOpen();\n        var self = this;\n\n        serviceCall<ListResponse<any>>({\n            service: AnnouncementWizardService.baseUrl + '/GetTodayDateTime',\n            method: \"GET\",\n            data: {\n            },\n            async: false,\n            onSuccess: (response) => {\n                self.dateString = response\n                CompanySettingsService.List({\n                }, response => {\n                    var today = new Date(self.dateString)\n                    var todayMonth = today.getMonth()\n                    var todayYear = today.getFullYear()\n                    var PayDate = 0\n                    for (var index in response.Entities) {\n                        if (response.Entities[index].IsActive == 1) {\n                            PayDate = response.Entities[index].PayDay\n                            break\n                        }\n                    }\n                    var DateObj = new Date(todayYear, todayMonth, PayDate)\n                    var DateObjYear = DateObj.getFullYear().toString()\n                    var DateObjMonth = (DateObj.getMonth() + 1).toString()\n                    var DateObjDay = DateObj.getDate().toString()\n                    var LastMonth = new Date(todayYear, todayMonth, PayDate)\n                    LastMonth.setMonth(LastMonth.getMonth() - 1);\n                    LastMonth.setDate(LastMonth.getDate() - 1);\n                    var LastMonthObjYear = LastMonth.getFullYear().toString()\n                    var LastMonthObjMonth = (LastMonth.getMonth() + 1).toString()\n                    var LastMonthObjDay = LastMonth.getDate().toString()\n                    var LatestDateFormat = DateObjMonth.padStart(2, '0') + '/' + DateObjDay.padStart(2, '0') + '/' + DateObjYear\n                    var LastMonthFormat = LastMonthObjMonth.padStart(2, '0') + '/' + LastMonthObjDay.padStart(2, '0') + '/' + LastMonthObjYear\n                    if (this.isNew()) {\n                        self.form.PayDate.value = LatestDateFormat\n                        self.form.PayPeriodEnd.value = LatestDateFormat\n                        self.form.PayPeriodStart.value = LastMonthFormat\n                    }\n                })\n            }\n        })\n\n\n\n\n        this.saveAndCloseButton.hide()\n        this.editButton.hide()\n        this.applyChangesButton.hide()\n        this.deleteButton.hide()\n        this.localizationButton.hide()\n        this.cloneButton.hide()\n        this.undeleteButton.hide()\n        //EditorUtils.setReadonly(this.form.EmployeeRowList.element, true);\n    \n        var PayMonthElement = document.getElementById(this.idPrefix + 'PayMonth')\n        var PayYearElement = document.getElementById(this.idPrefix + 'PayYear')\n        let PayMonthEditor = new Select2Editor($(PayMonthElement))\n        let PayYearEditor = new Select2Editor($(PayYearElement))\n        const months: string[] = [\n            'January',   // 0\n            'February',  // 1\n            'March',     // 2\n            'April',     // 3\n            'May',       // 4\n            'June',      // 5\n            'July',      // 6\n            'August',    // 7\n            'September', // 8\n            'October',   // 9\n            'November',  // 10\n            'December'   // 11\n        ];\n        var today = new Date(self.dateString)\n        var todayYear = today.getFullYear()\n        var todayMonth = today.getMonth()\n        // Example usage:\n        for (let i = 0; i < months.length; i++) \n            PayMonthEditor.addItem({ id: (i).toString(), text: (months[i]).toString(), }); // 8am - 6pm , will consider lates\n        \n        PayMonthEditor.set_value(todayMonth.toString())\n        for (let i = -1; i < 2; i++) \n            PayYearEditor.addItem({ id: (todayYear + i).toString(), text: (todayYear + i).toString(), }); // 8am - 6pm , will consider lates\n        \n        PayYearEditor.set_value(todayYear.toString())\n\n\n        var SectionListElement = document.getElementById(this.idPrefix + 'SectionList');\n        var OccupationListElement = document.getElementById(this.idPrefix + 'OccupationList');\n        var DepartmentListElement = document.getElementById(this.idPrefix + 'DepartmentList');\n        var DivisionListElement = document.getElementById(this.idPrefix + 'DivisionList');\n        var JobGradeListElement = document.getElementById(this.idPrefix + 'JobGradeList');\n        var PayPeriodStartElement = document.getElementById(this.idPrefix + 'PayPeriodStart')\n        var PayPeriodEndElement = document.getElementById(this.idPrefix + 'PayPeriodEnd')\n        var EmployeeRowListElement = document.getElementById(this.idPrefix + 'EmployeeRowList')\n       \n        console.log(this.idPrefix)\n        $(`#s2id_${this.idPrefix}EmployeeRowList`).on('click', async function (e) {\n            $(`.select2-drop`).hide()\n            return\n\n        })\n\n\n        $(PayMonthElement).on('change', async function () {\n            if (isEmptyOrNull($(PayMonthElement).val()) || isEmptyOrNull($(PayYearElement).val())) \n                self.form.EmployeeRowList.value = \"\"\n            self.SearchCallback();\n            self.SearchEmployeeCallback();\n        })\n        $(PayYearElement).on('change', async function () {\n            if (isEmptyOrNull($(PayMonthElement).val()) || isEmptyOrNull($(PayYearElement).val())) \n                self.form.EmployeeRowList.value = \"\"\n            \n            self.SearchCallback();\n            self.SearchEmployeeCallback();\n        })\n        $(OccupationListElement).on('change', async function () {\n            self.SearchCallback()\n            self.SearchEmployeeCallback();\n\n        })\n        $(DivisionListElement).on('change', async function () {\n            self.SearchCallback();\n            self.SearchEmployeeCallback();\n\n        })\n        $(JobGradeListElement).on('change', async function () {\n            self.SearchCallback();\n            self.SearchEmployeeCallback();\n        })\n        $(DepartmentListElement).on('change', async function () {\n            self.SearchCallback();\n            self.SearchEmployeeCallback();\n        })\n        $(SectionListElement).on('change', async function () {\n            self.SearchCallback();\n            self.SearchEmployeeCallback();\n\n        })\n   \n        $(PayPeriodStartElement).on('change', async function () {\n            //                    self.GeneratePayrollTable()\n            if (self.form.PayPeriodStart.valueAsDate > self.form.PayPeriodEnd.valueAsDate) {\n                alertDialog('Pay period start cannot be ahead of pay period end')\n                self.form.PayPeriodStart.value = ''\n                return\n            }\n\n        })\n        $(PayPeriodEndElement).on('change', async function () {\n            // self.GeneratePayrollTable()\n            if (self.form.PayPeriodStart.valueAsDate > self.form.PayPeriodEnd.valueAsDate) {\n                alertDialog('Pay period start cannot be ahead of pay period end')\n                self.form.PayPeriodEnd.value = ''\n                return\n            }\n        })\n    }\n    protected getDialogOptions() {\n        let opt = super.getDialogOptions()\n        opt.width = opt.width + 100\n        return opt\n    }\n}"],
  "mappings": "mwBAAA,IAAAA,EAAkG,WAGlG,IAAAC,GAAyD,WAEzD,IAAAC,EAA2C,WAwBpC,IAAMC,GAAN,cAA4B,cAA8B,CAmF7D,YAAYC,EAAIC,EAAkBC,EAASC,EAAUC,EAAYC,EAAgBC,EAAc,CAC3F,MAAM,EA/EV,KAAU,KAAO,IAAIC,GAAY,KAAK,QAAQ,EAC9C,KAAO,iBAA6B,CAAC,EACrC,KAAO,mBAA+B,CAAC,EAGvC,KAAO,eAA2B,CAAC,EACnC,KAAO,iBAA6B,CAAC,EACrC,KAAO,cAA0B,CAAC,EAClC,KAAO,gBAA4B,CAAC,EACpC,KAAO,sBAAkC,CAAC,EAY1C,KAAO,oBAAoC,CAAC,EAC5C,KAAO,oBAAoC,CAAC,EAC5C,KAAO,qBAAqC,CAAC,EAC7C,KAAO,sBAAsC,CAAC,EAC9C,KAAO,oBAAoC,CAAC,EAsB5C,KAAO,eAA2B,CAAC,EAInC,KAAO,cAA0B,CAAC,EAClC,KAAO,gBAA4B,CAAC,EACpC,KAAO,QAAoB,CAAC,EAC5B,KAAO,cAA0B,CAAC,EAClC,KAAO,eAA2B,CAAC,EAWnC,KAAO,YAAsB,CAAC,EAE9B,KAAO,YAAwB,CAAC,EAChC,KAAO,YAAwB,CAAC,EAW5B,KAAK,IAAMP,EACX,KAAK,iBAAmBC,EACxB,KAAK,QAAUC,EACf,KAAK,SAAWC,EAChB,KAAK,WAAaC,EAClB,KAAK,eAAiBC,EACtB,KAAK,aAAeC,EAEpB,KAAK,SAAW,EAEpB,CA9FU,YAAa,CAAE,OAAOC,GAAY,OAAS,CAC3C,kBAAmB,CAAE,OAAOC,EAAY,CACxC,YAAa,CAAE,OAAOC,GAAe,OAAS,CA8FjD,aAAoB,CAEvB,EAAE,sBAAsB,EAAE,OAAO,EACjC,MAAM,YAAY,CACtB,CAEU,kBAAmB,CACzB,IAAIC,EAAM,MAAM,iBAAiB,EACjC,OAAAA,EAAI,MAAQA,EAAI,MAAQ,IACjBA,CACX,CACO,YAAmB,CACtB,QAAQ,IAAI,cAAc,EAC1B,EAAE,oEAAoE,EAAE,MAAM,EAC9E,EAAE;AAAA,0DACgD,EAAE,KAAK,CAAC,EAC1D,IAAIC,EAAK,SAAS,eAAe,QAAQ,EACrCA,IACAA,EAAG,YAAc,KAErBA,EAAK,SAAS,eAAe,QAAQ,EACjCA,IACAA,EAAG,YAAc,KAErBA,EAAK,SAAS,eAAe,QAAQ,EACjCA,IACAA,EAAG,YAAc,KAErBA,EAAK,SAAS,eAAe,kBAAkB,EAC3CA,IACAA,EAAG,YAAc,KACrBA,EAAK,SAAS,eAAe,kBAAkB,EAC3CA,IACAA,EAAG,YAAc,KACrBA,EAAK,SAAS,eAAe,kBAAkB,EAC3CA,IACAA,EAAG,YAAc,KACrB,EAAE;AAAA;AAAA;AAAA;AAAA,mCAIyB,EAAE,IAAI,CAAC,CAEtC,CACO,OAAc,CACjB,IAAIC,EAAO,KACPC,EAAQ,KAAK,SAAW,eACxBC,EAAQ,SAAS,eAAeD,CAAK,EACzC,QAAQ,IAAIC,CAAK,EACjB,IAAIC,EAAU,SAAS,cAAc,KAAK,EAC1CA,EAAQ,UAAU,IAAI,gBAAgB,EACtCA,EAAQ,aAAa,KAAM,qBAAqB,EAChDA,EAAQ,MAAM,QAAU,OACxBD,EAAM,YAAYC,CAAO,EACzB,IAAIC,EAAQ,SAAS,cAAc,GAAG,EACtCA,EAAM,UAAU,IAAI,iBAAiB,EACrC,IAAIC,EAAW,SAAS,eAAe,kBAAkB,EACzDD,EAAM,YAAYC,CAAQ,EAC1B,SAAS,eAAe,qBAAqB,EAAE,OAAOD,CAAK,EAC3D,IAAIE,EAAQ,SAAS,eAAe,qBAAqB,EACzDA,EAAM,mBAAmB,WAAY,+CAA+C,EACpF,IAAIC,EAAc,SAAS,eAAe,aAAa,EACvDA,EAAY,MAAM,QAAU,OAE5B,IAAIC,EAAY,SAAS,cAAc,OAAO,EAC9CA,EAAU,MAAM,MAAQ,MACxBA,EAAU,GAAK,eACfA,EAAU,UAAY,QAEtB,IAAIC,EAAY,SAAS,cAAc,OAAO,EAC9CA,EAAU,UAAY,aACtBA,EAAU,GAAK,qBAEf,IAAIC,EAAY,SAAS,cAAc,OAAO,EAC9CA,EAAU,GAAK,mBAEf,IAAIC,EAAY,SAAS,cAAc,IAAI,EACvCC,EAAY,SAAS,cAAc,OAAO,EAC9CA,EAAU,GAAK,mBAKf,IAAIC,EAAU,SAAS,cAAc,IAAI,EACrCC,EAAU,SAAS,cAAc,IAAI,EACrCC,EAAU,SAAS,cAAc,IAAI,EACrCC,EAAU,SAAS,cAAc,IAAI,EACzCH,EAAQ,MAAM,MAAQ,MACtBC,EAAQ,MAAM,MAAQ,MACtBC,EAAQ,MAAM,MAAQ,MACtBC,EAAQ,MAAM,MAAQ,MACtB,IAAIC,EAAY,SAAS,eAAe,aAAa,EACjDC,EAAY,SAAS,eAAe,UAAU,EAC9CC,EAAY,SAAS,eAAe,aAAa,EACjDC,EAAY,SAAS,eAAe,YAAY,EACpDP,EAAQ,YAAYI,CAAS,EAC7BH,EAAQ,YAAYI,CAAS,EAC7BH,EAAQ,YAAYI,CAAS,EAC7BH,EAAQ,YAAYI,CAAS,EAE7B,IAAIC,EAA4B,SAAS,cAAc,OAAO,EAE9DA,EAA0B,MAAM,OAAS,MACzCA,EAA0B,GAAK,6BAE/B,IAAIC,EAAiC,SAAS,cAAc,OAAO,EACnEA,EAA+B,UAAY,aAC3CA,EAA+B,GAAK,8BAEpC,IAAIC,EAAiC,SAAS,cAAc,OAAO,EACnEA,EAA+B,GAAK,4BAEpC,IAAIC,EAAiC,SAAS,cAAc,OAAO,EACnEA,EAA+B,GAAK,4BAOpC,IAAIC,EAAuC,SAAS,cAAc,IAAI,EAClEC,EAA+B,SAAS,cAAc,IAAI,EAC1DC,EAA+B,SAAS,cAAc,IAAI,EAE9DD,EAA6B,MAAM,MAAQ,MAC3CC,EAA6B,MAAM,MAAQ,MAC3C,IAAIC,EAAiC,SAAS,eAAe,aAAa,EACtEC,EAAiC,SAAS,eAAe,wBAAwB,EACrFH,EAA6B,YAAYE,CAA8B,EACvED,EAA6B,YAAYE,CAA8B,EAGvElB,EAAU,YAAYE,CAAO,EAC7BF,EAAU,YAAYG,CAAO,EAC7BH,EAAU,YAAYI,CAAO,EAC7BJ,EAAU,YAAYK,CAAO,EAE7BP,EAAU,YAAYE,CAAS,EAC/BH,EAAU,YAAYC,CAAS,EAC/BD,EAAU,YAAYE,CAAS,EAC/BF,EAAU,YAAYI,CAAS,EAE/Ba,EAAqC,YAAYC,CAA4B,EAC7ED,EAAqC,YAAYE,CAA4B,EAC7EL,EAA+B,YAAYG,CAAoC,EAG/EJ,EAA0B,YAAYC,CAA8B,EACpED,EAA0B,YAAYE,CAA8B,EACpEF,EAA0B,YAAYG,CAA8B,EAGpE,IAAIM,EAAO,SAAS,cAAc,KAAK,EACvCA,EAAK,UAAY,WACjBA,EAAK,GAAK,OACV,IAAIC,EAA0B,SAAS,cAAc,KAAK,EAC1DA,EAAwB,GAAK,0BAC7BD,EAAK,YAAYC,CAAuB,EACxC,IAAIC,EAAyB,SAAS,cAAc,KAAK,EACzDA,EAAuB,GAAK,yBAC5BF,EAAK,YAAYE,CAAsB,EAEvC,IAAIC,EAA6B,SAAS,cAAc,KAAK,EAC7DA,EAA2B,GAAK,6BAChCH,EAAK,YAAYG,CAA0B,EAK3C,IAAIC,EAAiB,SAAS,cAAc,OAAO,EACnDA,EAAe,GAAK,iBAEpB,IAAIC,EAAqB,SAAS,cAAc,OAAO,EACvDA,EAAmB,UAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAQ/BD,EAAe,YAAYC,CAAkB,EAC7C,IAAIC,GAAY,CACZ,CAAE,MAAO,UAAW,GAAI,aAAc,QAAS,SAAU,QAAS,cAAe,MAAO,EAAG,MAAO,EAAG,WAAY,CAAE,EACnH,CAAE,MAAO,aAAc,GAAI,YAAa,QAAS,QAAS,QAAS,aAAc,MAAO,EAAG,MAAO,EAAG,WAAY,CAAE,EACnH,CAAE,MAAO,aAAc,GAAI,gBAAiB,QAAS,YAAa,QAAS,iBAAkB,MAAO,EAAG,MAAO,EAAG,WAAY,CAAE,CACnI,EAEA,IAAMC,EAAqB,SAAS,cAAc,OAAO,EACzDA,EAAmB,GAAK,qBACxBD,GAAU,QAAQE,GAAO,CACrB,IAAMC,GAAK,SAAS,cAAc,IAAI,EACtCA,GAAG,UAAY;AAAA,kCACOD,EAAI;AAAA,2DACqBA,EAAI,QAAQA,EAAI;AAAA,yDAClBA,EAAI,qEAAqEA,EAAI,MAAM,QAAQ,CAAC;AAAA,sDAC/FA,EAAI;AAAA,QAE9CD,EAAmB,YAAYE,EAAE,CACrC,CAAC,EACDL,EAAe,YAAYG,CAAkB,EAC7CN,EAAwB,YAAYG,CAAc,EAUlD,IAAIM,GAAgB,SAAS,cAAc,OAAO,EAClDA,GAAc,GAAK,gBAEnB,IAAIC,GAAoB,SAAS,cAAc,OAAO,EACtDA,GAAkB,UAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAS9BD,GAAc,YAAYC,EAAiB,EAC3C,IAAIC,GAAS,CACT,CAAE,MAAO,SAAU,OAAO,aAAa,GAAI,SAAU,QAAS,cAAe,QAAS,YAAa,MAAO,EAAG,MAAO,EAAG,WAAY,CAAE,EACrI,CAAE,MAAO,SAAU,OAAQ,qBAAqB,GAAI,SAAU,QAAS,cAAe,QAAS,qBAAsB,MAAO,EAAG,MAAO,EAAG,WAAY,CAAE,EACvJ,CAAE,MAAO,SAAU,OAAQ,YAAY,GAAI,SAAU,QAAS,cAAe,QAAS,YAAa,MAAO,EAAG,MAAO,EAAG,WAAY,CAAE,CACzI,EAGA,IAAMC,GAAoB,SAAS,cAAc,OAAO,EACxDA,GAAkB,GAAK,oBACvBD,GAAO,QAAQJ,GAAO,CAClB,IAAMC,GAAK,SAAS,cAAc,IAAI,EACtCA,GAAG,UAAY;AAAA,qCACUD,EAAI,UAAUA,EAAI;AAAA,yDACEA,EAAI,OAAOA,EAAI;AAAA,uDACjBA,EAAI,qEAAqEA,EAAI,MAAM,QAAQ,CAAC;AAAA,0CACzGA,EAAI;AAAA,QAElCK,GAAkB,YAAYJ,EAAE,CACpC,CAAC,EACDC,GAAc,YAAYG,EAAiB,EAC3CX,EAAuB,YAAYQ,EAAa,EAahD,IAAII,EAAoB,SAAS,cAAc,OAAO,EACtDA,EAAkB,GAAK,oBAEvB,IAAIC,GAAwB,SAAS,cAAc,OAAO,EAC1DA,GAAsB,UAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QASlCD,EAAkB,YAAYC,EAAqB,EACnD,IAAIC,GAAY,CACZ,CAAE,MAAO,gBAAiB,QAAS,sBAAuB,OAAQ,mBAAoB,WAAY,uBAAwB,MAAO,EAAG,WAAY,CAAE,EAClJ,CAAE,MAAO,eAAgB,QAAS,qBAAsB,OAAQ,kBAAmB,WAAY,sBAAuB,MAAO,EAAG,WAAY,CAAE,CAClJ,EAEA,IAAMC,GAAwB,SAAS,cAAc,OAAO,EAC5DA,GAAsB,GAAK,wBAC3BD,GAAU,QAAQR,GAAO,CACrB,IAAMC,GAAK,SAAS,cAAc,IAAI,EACtCA,GAAG,UAAY;AAAA,kCACOD,EAAI;AAAA,sCACAA,EAAI;AAAA,+DACqBA,EAAI,yDAAyDA,EAAI,MAAM,SAAS;AAAA,2CACpGA,EAAI;AAAA,QAEnCS,GAAsB,YAAYR,EAAE,CACxC,CAAC,EACDK,EAAkB,YAAYG,EAAqB,EACnDd,EAA2B,YAAYW,CAAiB,EAWxD,IAAII,EAAO,SAAS,cAAc,KAAK,EACvCA,EAAK,UAAY,WACjBA,EAAK,GAAK,SACV,IAAIC,EAA8B,SAAS,cAAc,KAAK,EAC9DA,EAA4B,GAAK,8BACjCD,EAAK,YAAYC,CAA2B,EAE5C,IAAIC,GAA0B,SAAS,cAAc,OAAO,EAC5DA,GAAwB,GAAK,0BAE7B,IAAIC,GAAyB,SAAS,cAAc,OAAO,EAC3DA,GAAuB,UAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAWnCD,GAAwB,YAAYC,EAAsB,EAE1D,IAAMC,GAAyB,SAAS,cAAc,OAAO,EAC7DA,GAAuB,GAAK,yBAC5BF,GAAwB,YAAYE,EAAsB,EAC1DH,EAA4B,YAAYC,EAAuB,EAa/D,IAAIG,EAAyB,SAAS,cAAc,KAAK,EACzDA,EAAuB,GAAK,yBAC5BL,EAAK,YAAYK,CAAsB,EAEvC,IAAIC,EAAqB,SAAS,cAAc,OAAO,EACvDA,EAAmB,GAAK,qBAExB,IAAIC,EAAoB,SAAS,cAAc,OAAO,EACtDA,EAAkB,UAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAW9BD,EAAmB,YAAYC,CAAiB,EAChD,IAAMC,GAAoB,SAAS,cAAc,OAAO,EACxDA,GAAkB,GAAK,oBACvBF,EAAmB,YAAYE,EAAiB,EAChDH,EAAuB,YAAYC,CAAkB,EAYrD,IAAIG,GAA4B,SAAS,cAAc,KAAK,EAC5DA,GAA0B,GAAK,4BAC/BT,EAAK,YAAYS,EAAyB,EAE1C,IAAIC,GAAwB,SAAS,cAAc,OAAO,EAC1DA,GAAsB,GAAK,wBAE3B,IAAIC,GAAuB,SAAS,cAAc,OAAO,EACzDA,GAAqB,UAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAWjCD,GAAsB,YAAYC,EAAoB,EACtD,IAAMC,GAAuB,SAAS,cAAc,OAAO,EAC3DA,GAAqB,GAAK,uBAC1BF,GAAsB,YAAYE,EAAoB,EACtDH,GAA0B,YAAYC,EAAqB,EAa3D,IAAIG,GAAO,SAAS,cAAc,KAAK,EACvCA,GAAK,UAAY,mBACjBA,GAAK,GAAK,QACV,IAAMC,GAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAkDfC,GAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA6CrB,IAAId,EAA8B,SAAS,cAAc,KAAK,EAC9DA,EAA4B,GAAK,8BACjCA,EAA4B,UAAY,UACxCA,EAA4B,UAAYa,GACxCD,GAAK,YAAYZ,CAA2B,EAG5C,IAAIe,EAAa,SAAS,cAAc,KAAK,EAC7CA,EAAW,GAAK,aAChBA,EAAW,UAAY,UACvBA,EAAW,UAAYD,GACvBF,GAAK,YAAYG,CAAU,EAG3B,SAAS,eAAe,aAAa,EAAE,OAAOlC,CAAI,EAClD,SAAS,eAAe,aAAa,EAAE,OAAOkB,CAAI,EAClD,SAAS,eAAe,aAAa,EAAE,OAAOa,EAAI,EAGlD,IAAII,GAAa,SAAS,uBAAuB,YAAY,EAC7D,EAAEA,EAAU,EAAE,GAAG,SAAU,SAAgBC,EAAG,QAAAC,EAAA,sBAC1CnE,EAAK,YAAY,CACrB,GAAC,EAGD,IAAIoE,GAAW,SAAS,uBAAuB,aAAa,EAC5D,EAAEA,EAAQ,EAAE,GAAG,SAAU,SAAgBF,EAAG,QAAAC,EAAA,sBACxCnE,EAAK,aAAa,CACtB,GAAC,CAEL,CACO,cAAe,CAClB,MAAM,aAAa,EACnB,IAAIA,EAAO,KACXqE,GAAqB,KAAK,CAC1B,EAAGC,GAAY,CAEX,QAASC,KAASD,EAAS,SACvB,GAAIA,EAAS,SAASC,CAAK,EAAE,UAAY,EAAG,CAGxC,QAFIC,EAAOF,EAAS,SAASC,CAAK,EAC9BE,EAAO,OAAO,KAAKD,CAAI,EAClBE,EAAI,EAAGA,EAAID,EAAK,OAAQC,IAAK,CAClC,IAAIC,EAAMF,EAAKC,CAAC,EAChB,GAAI,EAAAC,EAAI,YAAY,GAAK,MAAQA,EAAI,YAAY,GAAK,aAElD,EAAAH,EAAKG,CAAG,GAAK,IAAQH,EAAKG,CAAG,GAAK,IAASH,EAAKG,CAAG,IAAM,QAE7D,KAAIC,EAASD,EAAI,QAAQ,WAAY,KAAK,EAAE,KAAK,EAEjD,KAAK,oBAAoB,KAAK,CAC1B,GAAID,EACJ,KAAME,EACN,WAAYJ,EAAKG,CAAG,CACxB,CAAC,EACL,CACA,KACJ,CAEJE,GAAqB,KAAK,CAC1B,EAAGP,GAAY,CACX,QAASC,KAASD,EAAS,SACvB,GAAIA,EAAS,SAASC,CAAK,EAAE,UAAY,EAAG,CAGxC,QAFIC,EAAOF,EAAS,SAASC,CAAK,EAC9BE,EAAO,OAAO,KAAKD,CAAI,EAClBE,EAAI,EAAGA,EAAID,EAAK,OAAQC,IAAK,CAClC,IAAIC,EAAMF,EAAKC,CAAC,EAChB,GAAI,EAAAC,EAAI,YAAY,GAAK,MAAQA,EAAI,YAAY,GAAK,aAElD,EAAAH,EAAKG,CAAG,GAAK,IAAQH,EAAKG,CAAG,GAAK,IAASH,EAAKG,CAAG,IAAM,QAE7D,KAAIC,EAASD,EAAI,QAAQ,WAAY,KAAK,EAAE,KAAK,EAGjD,KAAK,oBAAoB,KAAK,CAC1B,GAAID,EACJ,KAAME,EACN,WAAYJ,EAAKG,CAAG,CACxB,CAAC,EACL,CACA,KACJ,CAIJ,QAFIG,EAAa,KAAK,oBAClBL,EAAO,OAAO,KAAKK,CAAU,EACxBJ,EAAI,EAAGA,EAAID,EAAK,OAAQC,IAAK,CAClC,IAAIC,EAAMF,EAAKC,CAAC,EAChB,KAAK,eAAe,KAAKI,EAAWH,CAAG,EAAE,IAAI,CACjD,CACAI,GAAqB,KAAK,CAC1B,EAAGT,GAAY,CACX,QAASC,KAASD,EAAS,SACvB,GAAIA,EAAS,SAASC,CAAK,EAAE,UAAY,EAAG,CAIxC,QAHIC,EAAOF,EAAS,SAASC,CAAK,EAC9BE,EAAO,OAAO,KAAKD,CAAI,EAElBE,EAAI,EAAGA,EAAID,EAAK,OAAQC,IAAK,CAClC,IAAIC,EAAMF,EAAKC,CAAC,EAChB,GAAI,EAAAC,EAAI,YAAY,GAAK,MAAQA,EAAI,YAAY,GAAK,aAElD,EAAAH,EAAKG,CAAG,GAAK,IAAQH,EAAKG,CAAG,GAAK,IAASH,EAAKG,CAAG,IAAM,QAG7D,KAAIC,EAASD,EAAI,QAAQ,WAAY,KAAK,EAAE,KAAK,EAEjD,KAAK,oBAAoB,KAAK,CAC1B,GAAID,EACJ,KAAME,EACN,WAAYJ,EAAKG,CAAG,CACxB,CAAC,EACL,CACA,KACJ,CAEJK,GAAsB,KAAK,CAC3B,EAAGV,GAAY,CACX,QAASC,KAASD,EAAS,SACvB,GAAIA,EAAS,SAASC,CAAK,EAAE,UAAY,EAAG,CAGxC,QAFIC,EAAOF,EAAS,SAASC,CAAK,EAC9BE,EAAO,OAAO,KAAKD,CAAI,EAClBE,EAAI,EAAGA,EAAID,EAAK,OAAQC,IAAK,CAClC,IAAIC,EAAMF,EAAKC,CAAC,EAChB,GAAI,EAAAC,EAAI,YAAY,GAAK,MAAQA,EAAI,YAAY,GAAK,aAElD,EAAAH,EAAKG,CAAG,GAAK,IAAQH,EAAKG,CAAG,GAAK,IAASH,EAAKG,CAAG,IAAM,QAG7D,KAAIC,EAASD,EAAI,QAAQ,WAAY,KAAK,EAAE,KAAK,EAEjD,KAAK,qBAAqB,KAAK,CAC3B,GAAID,EACJ,KAAME,EACN,WAAYJ,EAAKG,CAAG,CACxB,CAAC,EACL,CACA,KACJ,CAEJM,GAAuB,KAAK,CAC5B,EAAGX,GAAY,CACX,QAASC,KAASD,EAAS,SACvB,GAAIA,EAAS,SAASC,CAAK,EAAE,UAAY,EAAG,CAGxC,QAFIC,EAAOF,EAAS,SAASC,CAAK,EAC9BE,EAAO,OAAO,KAAKD,CAAI,EAClBE,EAAI,EAAGA,EAAID,EAAK,OAAQC,IAAK,CAClC,IAAIC,EAAMF,EAAKC,CAAC,EAChB,GAAI,EAAAC,EAAI,YAAY,GAAK,MAAQA,EAAI,YAAY,GAAK,aAGlD,EAAAH,EAAKG,CAAG,GAAK,IAAQH,EAAKG,CAAG,GAAK,IAASH,EAAKG,CAAG,IAAM,QAI7D,KAAIC,GAASD,EAAI,QAAQ,WAAY,KAAK,EAAE,KAAK,EAEjD,KAAK,sBAAsB,KAAK,CAC5B,GAAID,EACJ,KAAME,GACN,WAAYJ,EAAKG,CAAG,CACxB,CAAC,EACL,CACA,KACJ,CAIJ,GAAI,KAAK,MAAM,EAAG,CACd,IAAIO,EAAW,oBACXC,GAAM,KAAK,gBAAgB,KAAK,oBAAqBD,CAAQ,EAC7DE,GAAM,KAAK,gBAAgB,KAAK,oBAAqBF,CAAQ,EAC7DG,GAAO,KAAK,gBAAgB,KAAK,qBAAsBH,CAAQ,EAC/DI,GAAM,KAAK,gBAAgB,KAAK,oBAAqBJ,CAAQ,EAC7DK,EAAQ,KAAK,gBAAgB,KAAK,sBAAuBL,CAAQ,EACrElF,EAAK,KAAK,aAAa,MAAQmF,IAAO,EACtCnF,EAAK,KAAK,aAAa,MAAQoF,IAAO,EACtCpF,EAAK,KAAK,cAAc,MAAQqF,IAAQ,EACxCrF,EAAK,KAAK,aAAa,MAAQsF,IAAO,EACtCtF,EAAK,KAAK,eAAe,MAAQuF,GAAS,EAE1C,EAAE,UAAU,EAAE,KAAK,MAAOJ,EAAG,EAC7B,EAAE,UAAU,EAAE,KAAK,MAAOC,EAAG,EAC7B,EAAE,UAAU,EAAE,KAAK,OAAQC,EAAI,EAC/B,EAAE,UAAU,EAAE,KAAK,MAAOC,EAAG,EAC7B,EAAE,UAAU,EAAE,KAAK,QAASC,CAAK,CACrC,CAEJ,CAAC,CAEL,CAAC,CAEL,CAAC,CAEL,CAAC,CAEL,CAAC,CAEL,CAIO,cAAuB,CAC1B,IAAMC,EAAQ,IAAI,KAAK,KAAK,UAAU,EAChCC,EAAW,IAAI,KAAK,KAAK,KAAK,SAAS,KAAK,EAC5CC,EAAMF,EAAM,YAAY,EAAIC,EAAS,YAAY,EACjDE,EAAe,IAAI,KAAKH,EAAM,YAAY,EAAGC,EAAS,SAAS,EAAGA,EAAS,QAAQ,CAAC,EACtFD,EAAQG,GACRA,EAAa,YAAYA,EAAa,YAAY,EAAI,CAAC,EAC3D,IAAMC,EAAwBJ,EAAM,QAAQ,EAAIG,EAAa,QAAQ,EAC/DE,EAAe,IAAI,KAAKF,CAAY,EAC1CE,EAAa,YAAYA,EAAa,YAAY,EAAI,CAAC,EACvD,IAAMC,EAA2BD,EAAa,QAAQ,EAAIF,EAAa,QAAQ,EACzEI,EAAgBH,EAAwBE,EAC9C,OAAOJ,EAAMK,CACjB,CACO,WAAWC,EAAyB,CACvC,EAAE,uHAAuH,EAAE,SAAS,UAAU,EAC9I,EAAE,uBAAuB,EAAE,SAAS,UAAU,EAC9C,EAAE,kBAAkB,EAAE,SAAS,UAAU,EAEzC,EAAE,oHAAoH,EAAE,SAAS,UAAU,EAC3I,EAAE,sBAAsB,EAAE,SAAS,UAAU,EAC7C,EAAE;AAAA,oLAC0K,EAAE,YAAY,SAAS,EAEnM,KAAK,WAAW,EAChB,EAAE,iBAAiB,EAAE,SAAS,UAAU,EACxC,EAAE,mBAAmB,EAAE,SAAS,UAAU,EAC1C,EAAE,iBAAiB,EAAE,SAAS,UAAU,EACxC,EAAE,iBAAiB,EAAE,SAAS,UAAU,EACxC,EAAE;AAAA,uKAC6J,EAAE,YAAY,SAAS,EACtL,cAAY,YAAY,KAAK,KAAK,SAAS,QAAS,EAAI,EACxD,cAAY,YAAY,KAAK,KAAK,WAAW,QAAS,EAAI,EAC1D,cAAY,YAAY,KAAK,KAAK,WAAW,QAAS,EAAI,EAC1D,cAAY,YAAY,KAAK,KAAK,UAAU,QAAS,EAAI,EACzD,cAAY,YAAY,KAAK,KAAK,SAAS,QAAS,EAAI,EACxD,cAAY,YAAY,KAAK,KAAK,IAAI,QAAS,EAAI,EACnD,cAAY,YAAY,KAAK,KAAK,SAAS,QAAS,EAAI,EACxD,KAAK,KAAK,SAAS,SAAyB,QAAQ,EAAE,SAAS,EAC/D,EAAE;AAAA;AAAA;AAAA,kKAGwJ,EAAE,KAAK,EACjK,SAASC,EAAYC,EAAyB,CAC1C,IAAMC,EAAO,IAAI,KAAKD,CAAO,EAC7B,GAAK,MAAMC,EAAK,QAAQ,CAAC,EASrB,OAAOD,EARX,CACIC,EAAK,QAAQ,EAAE,EACf,IAAMC,EAAOD,EAAK,YAAY,EACxBE,GAAS,KAAOF,EAAK,SAAS,EAAI,IAAI,MAAM,EAAE,EAC9CG,GAAO,IAAMH,EAAK,QAAQ,GAAG,MAAM,EAAE,EAC3C,MAAO,GAAGC,KAAQC,KAASC,GAC/B,CAGJ,CAZSC,EAAAN,EAAA,eAaT,IAAIjG,EAAO,KACPwG,EAAoB,GAaxB,OAZA,gBAA+B,CAC3B,QAASC,GAA0B,QAAU,oBAC7C,OAAQ,MACR,KAAM,CACN,EACA,MAAO,GACP,UAAYnC,GAAa,CACrBtE,EAAK,WAAasE,EAClBkC,EAAoB,EACxB,CACJ,CAAC,EAEMA,GAAqB,IAAK,CAEjCE,GAAuB,KAAK,CAC5B,EAAGpC,GAAY,CACX,QAASC,KAASD,EAAS,SACvB,GAAIA,EAAS,SAASC,CAAK,EAAE,UAAY,EAAG,CACxC,KAAK,mBAAqBD,EAAS,SAASC,CAAK,EAAE,2BACnD,KAAK,kBAAoBD,EAAS,SAASC,CAAK,EAAE,mBAClD,KAAK,QAAUD,EAAS,SAASC,CAAK,EAAE,OACxCvE,EAAK,wBAA2BsE,EAAS,SAASC,CAAK,EAAE,2BAA6B,GAAO,IAAM,EACnGvE,EAAK,kBAAqBsE,EAAS,SAASC,CAAK,EAAE,qBAAuB,GAAO,IAAM,EACvFvE,EAAK,kBAAqBsE,EAAS,SAASC,CAAK,EAAE,qBAAuB,GAAO,IAAM,EACvF,KACJ,CAEJ,IAAIiB,EAAQ,IAAI,KAAKxF,EAAK,UAAU,EAChC2G,EAAanB,EAAM,SAAS,EAC5BoB,EAAYpB,EAAM,YAAY,EAC9BqB,EAAaD,EAAU,SAAS,EAAI,IAAMD,EAAW,SAAS,EAAE,SAAS,EAAG,GAAG,EAAI,IAAM,KAAK,QAAQ,SAAS,EAAE,SAAS,EAAG,GAAG,EACpIE,EAAaZ,EAAYY,CAAU,EACnC,IAAIC,EAAU,IAAI,KAAKF,EAAWD,EAAY,KAAK,OAAO,EACtDI,EAAcD,EAAQ,YAAY,EAAE,SAAS,EAC7CE,GAAgBF,EAAQ,SAAS,EAAI,GAAG,SAAS,EACjDG,EAAaH,EAAQ,QAAQ,EAAE,SAAS,EAGxCI,EAAY,IAAI,KAAKN,EAAWD,EAAY,KAAK,OAAO,EAC5DO,EAAU,SAASA,EAAU,SAAS,EAAI,CAAC,EAC3CA,EAAU,QAAQA,EAAU,QAAQ,EAAI,CAAC,EACzC,IAAIC,EAAmBD,EAAU,YAAY,EAAE,SAAS,EACpDE,GAAqBF,EAAU,SAAS,EAAI,GAAG,SAAS,EACxDG,EAAkBH,EAAU,QAAQ,EAAE,SAAS,EAE/CI,EAAmBN,EAAa,SAAS,EAAG,GAAG,EAAI,IAAMC,EAAW,SAAS,EAAG,GAAG,EAAI,IAAMF,EAC7FQ,EAAkBH,EAAkB,SAAS,EAAG,GAAG,EAAI,IAAMC,EAAgB,SAAS,EAAG,GAAG,EAAI,IAAMF,EAEtG,KAAK,MAAM,IACXnH,EAAK,KAAK,QAAQ,MAAQsH,EAC1BtH,EAAK,KAAK,aAAa,MAAQsH,EAC/BtH,EAAK,KAAK,eAAe,MAAQuH,EAGzC,CAAC,EAED,MAAM,WAAWvB,CAAO,EAEpBhG,EAAK,MAAM,GACf,KAAK,mBAAmB,KAAK,EAC7B,cAAY,YAAY,KAAK,KAAK,aAAa,QAAS,EAAI,EAC5D,IAAIwH,EAAqB,KAAK,KAAK,cAAc,MACjD,IAAIC,EAA0B,CAAC,YAAa,WAAY,OAAQ,cAAe,cAAe,gBAAiB,cAAe,eAAgB,gBAAiB,eAAgB,cAAe,cAAe,eAAe,EAC5N,QAASlD,KAASkD,EACd,EAAE,IAAMA,EAAclD,CAAK,CAAC,EAAE,KAAK,EACvC,KAAK,MAAM,EACXmD,GAAuB,KAAK,CAC5B,EAAGpD,GAAY,CACX,IAAIqD,EAAwB,SAAS,eAAe,KAAK,SAAW,gBAAgB,EAChFC,EAAsB,SAAS,eAAe,KAAK,SAAW,cAAc,EAE5EC,EAAuB,SAAS,eAAe,KAAK,SAAW,eAAe,EAC9EC,EAAkB,SAAS,eAAe,KAAK,SAAW,UAAU,EACpEC,EAAiB,SAAS,eAAe,KAAK,SAAW,SAAS,EAElEC,EAAY,SAAS,eAAe,KAAK,SAAW,WAAW,EAE/DC,EAAW,SAAS,eAAe,KAAK,SAAW,UAAU,EAC7DC,EAAa,SAAS,eAAe,KAAK,SAAW,YAAY,EACjEC,EAAW,SAAS,eAAe,KAAK,SAAW,UAAU,EAC7DC,EAAuB,SAAS,eAAe,KAAK,SAAW,eAAe,EAC9EC,EAAgB,SAAS,eAAe,KAAK,SAAW,eAAe,EACvEC,EAAwB,SAAS,eAAe,KAAK,SAAW,uBAAuB,EACvFC,EAAuB,SAAS,eAAe,KAAK,SAAW,sBAAsB,EACrFC,EAAgB,SAAS,eAAe,KAAK,SAAW,eAAe,EACvEC,EAA4B,SAAS,eAAe,KAAK,SAAW,2BAA2B,EAEnG,IAAIC,EAAiB,IAAI,gBAAc,EAAEZ,CAAe,CAAC,EACrDa,EAAgB,IAAI,gBAAc,EAAEZ,CAAc,CAAC,EACjDa,EAAmB,CACrB,UACA,WACA,QACA,QACA,MACA,OACA,OACA,SACA,YACA,UACA,WACA,UACJ,EACA,IAAIpD,EAAQ,IAAI,KAAKxF,EAAK,UAAU,EAChC4G,EAAYpB,EAAM,YAAY,EAE9BmB,EAAanB,EAAM,SAAS,EAEhC,QAAS,EAAI,EAAG,EAAIoD,EAAO,OAAQ,IAC/BF,EAAe,QAAQ,CAAE,GAAK,EAAG,SAAS,EAAG,KAAOE,EAAO,CAAC,EAAG,SAAS,CAAG,CAAC,EAE5E5I,EAAK,MAAM,GACX0I,EAAe,UAAU/B,EAAW,SAAS,CAAC,EAClD,QAAS,EAAI,GAAI,EAAI,EAAG,IACpBgC,EAAc,QAAQ,CAAE,IAAK/B,EAAY,GAAG,SAAS,EAAG,MAAOA,EAAY,GAAG,SAAS,CAAG,CAAC,EAE3F5G,EAAK,MAAM,GACX2I,EAAc,UAAU/B,EAAU,SAAS,CAAC,EAChD,IAAIiC,EAAsB,IAAI,gBAAc,EAAEhB,CAAoB,CAAC,EAqB/DiB,EAAsB,CAAC,EAC3B,QAASvE,KAASD,EAAS,SACvBuE,EAAoB,QAAQ,CAAE,GAAKvE,EAAS,SAASC,CAAK,EAAE,GAAI,SAAS,EAAG,KAAOD,EAAS,SAASC,CAAK,EAAE,WAAY,SAAS,CAAG,CAAC,EACrIuE,EAAY,KAAK,CACb,GAAIxE,EAAS,SAASC,CAAK,EAAE,GAAI,KAAMD,EAAS,SAASC,CAAK,EAAE,aAAc,SAC1ED,EAAS,SAASC,CAAK,EAAE,YAAa,UAAWD,EAAS,SAASC,CAAK,EAAE,UAAW,KAAMD,EAAS,SAASC,CAAK,EAAE,aACxH,SAAYD,EAAS,SAASC,CAAK,EAAE,SACrC,SAAYD,EAAS,SAASC,CAAK,EAAE,SAAU,WAAcD,EAAS,SAASC,CAAK,EAAE,WACtF,cAAiBD,EAAS,SAASC,CAAK,EAAE,cAAe,cAAiBD,EAAS,SAASC,CAAK,EAAE,cACnG,sBAAyBD,EAAS,SAASC,CAAK,EAAE,sBAAuB,qBAAwBD,EAAS,SAASC,CAAK,EAAE,qBAC1H,0BAA6BD,EAAS,SAASC,CAAK,EAAE,0BAA2B,cAAiBD,EAAS,SAASC,CAAK,EAAE,cAC3H,SAAYD,EAAS,SAASC,CAAK,EAAE,SAAU,UAAaD,EAAS,SAASC,CAAK,EAAE,SACzF,CAAC,EA8DL,GA5DA,KAAK,YAAcuE,EACf9I,EAAK,MAAM,GACf,EAAE6H,CAAoB,EAAE,GAAG,SAAU,SAAgB3D,EAAG,QAAAC,EAAA,sBACpDD,EAAE,yBAAyB,EAC3BlE,EAAK,qBAAqB,CAAC,CAC/B,GAAC,EAEGA,EAAK,KAAK,IAEd,EAAEiI,CAAQ,EAAE,GAAG,SAAU,SAAgB/D,EAAG,QAAAC,EAAA,sBACxCD,EAAE,yBAAyB,EAC3BlE,EAAK,cAAc,CACvB,GAAC,EAED,EAAEkI,CAAU,EAAE,GAAG,SAAU,SAAgBhE,EAAG,QAAAC,EAAA,sBAC1CD,EAAE,yBAAyB,EAC3BlE,EAAK,cAAc,CACvB,GAAC,EACD,EAAEgI,CAAS,EAAE,GAAG,SAAU,SAAgB9D,EAAG,QAAAC,EAAA,sBACzCD,EAAE,yBAAyB,EAC3BlE,EAAK,cAAc,CACvB,GAAC,EAED,EAAEmI,CAAQ,EAAE,GAAG,SAAU,SAAgBjE,EAAG,QAAAC,EAAA,sBACxCD,EAAE,yBAAyB,EAC3BlE,EAAK,cAAc,CACvB,GAAC,EAED,EAAEqI,CAAa,EAAE,GAAG,SAAU,SAAgBnE,EAAG,QAAAC,EAAA,sBAC7C,QAAQ,IAAI,MAAM,EAClBD,EAAE,yBAAyB,EAC3BlE,EAAK,cAAc,CACvB,GAAC,EACD,EAAEsI,CAAqB,EAAE,GAAG,SAAU,SAAgBpE,EAAG,QAAAC,EAAA,sBACrDD,EAAE,yBAAyB,EAC3BlE,EAAK,cAAc,CACvB,GAAC,EACD,EAAEoI,CAAoB,EAAE,GAAG,SAAU,SAAgBlE,EAAG,QAAAC,EAAA,sBACpD,QAAQ,IAAI,MAAM,EACd,SAASnE,EAAK,KAAK,cAAc,KAAK,MAA2B,QAAQ,EACzE,EAAE,2GAA2G,EAAE,KAAK,EAE/G,SAASA,EAAK,KAAK,cAAc,KAAK,MAA0B,QAAQ,GAC7E,EAAE,2GAA2G,EAAE,KAAK,CAE5H,GAAC,EACD,EAAEuI,CAAoB,EAAE,GAAG,SAAU,SAAgBrE,EAAG,QAAAC,EAAA,sBACpDD,EAAE,yBAAyB,EAC3BlE,EAAK,cAAc,CACvB,GAAC,EAED,EAAEwI,CAAa,EAAE,GAAG,SAAU,SAAgBtE,EAAG,QAAAC,EAAA,sBAC7CD,EAAE,yBAAyB,EAC3BlE,EAAK,cAAc,CACvB,GAAC,EACD,EAAEyI,CAAyB,EAAE,GAAG,SAAU,SAAgBvE,EAAG,QAAAC,EAAA,sBACzDD,EAAE,yBAAyB,EAC3BlE,EAAK,cAAc,CACvB,GAAC,GAEG,KAAK,MAAM,EAEX,EAAE8H,CAAe,EAAE,GAAG,SAAU,SAAgB5D,EAAG,QAAAC,EAAA,sBAC/CD,EAAE,yBAAyB,EAC3BlE,EAAK,qBAAqB,CAAC,CAC/B,GAAC,EACD,EAAE+H,CAAc,EAAE,GAAG,SAAU,SAAgB7D,EAAG,QAAAC,EAAA,sBAC9CD,EAAE,yBAAyB,EAC3BlE,EAAK,qBAAqB,CAAC,CAC/B,GAAC,EACD,EAAE2H,CAAqB,EAAE,GAAG,SAAU,SAAgBzD,EAAG,QAAAC,EAAA,sBACrD,GAAInE,EAAK,KAAK,eAAe,YAAcA,EAAK,KAAK,aAAa,YAAa,IAC3E,eAAY,oDAAoD,EAChEA,EAAK,KAAK,eAAe,MAAQ,GACjC,MACJ,CACAA,EAAK,qBAAqB,CAAC,CAE/B,GAAC,EACD,EAAE4H,CAAmB,EAAE,GAAG,SAAU,SAAgB1D,EAAG,QAAAC,EAAA,sBACnD,GAAInE,EAAK,KAAK,eAAe,YAAcA,EAAK,KAAK,aAAa,YAAa,IAC3E,eAAY,oDAAoD,EAChEA,EAAK,KAAK,aAAa,MAAQ,GAC/B,MACJ,CACAA,EAAK,qBAAqB,CAAC,CAC/B,GAAC,EACD,EAAE;AAAA;AAAA;AAAA,mEAGiD,EAAE,KAAK,UAGrD,CAAC,KAAK,MAAM,EAAG,CACpB,cAAY,YAAY,KAAK,KAAK,SAAS,QAAS,EAAI,EACxD,cAAY,YAAY,KAAK,KAAK,QAAQ,QAAS,EAAI,EACvD,cAAY,YAAY,KAAK,KAAK,QAAQ,QAAS,EAAI,EACvD,cAAY,YAAY,KAAK,KAAK,aAAa,QAAS,EAAI,EAC5D,cAAY,YAAY,KAAK,KAAK,eAAe,QAAS,EAAI,EAC9D,EAAE+H,CAAc,EAAE,IAAI,KAAK,KAAK,QAAQ,KAAK,EAAE,QAAQ,QAAQ,EAC/D,EAAED,CAAe,EAAE,IAAI,KAAK,KAAK,SAAS,KAAK,EAAE,QAAQ,QAAQ,EACjE,QAASvD,KAASuE,EACVA,EAAYvE,CAAK,EAAE,IAAM,SAASiD,CAAkB,IACpD,KAAK,aAAesB,EAAYvE,CAAK,EAAE,MAE/C,EAAEsD,CAAoB,EAAE,IAAIL,EAAmB,SAAS,CAAC,EAAE,QAAQ,QAAQ,EAC3E,cAAY,YAAY,KAAK,KAAK,cAAc,QAAS,EAAI,EAC7D,EAAE,MAAM,EAAE,IAAI,KAAK,KAAK,YAAY,KAAK,EACzC,EAAE,cAAc,EAAE,IAAI,KAAK,KAAK,YAAY,KAAK,EACjD,EAAE,cAAc,EAAE,IAAI,KAAK,KAAK,YAAY,KAAK,EACjD,EAAE,gBAAgB,EAAE,IAAI,KAAK,KAAK,cAAc,KAAK,EACrD,EAAE,cAAc,EAAE,IAAI,KAAK,KAAK,YAAY,KAAK,EACjD,EAAE,cAAc,EAAE,IAAI,KAAK,KAAK,YAAY,KAAK,EACjD,EAAE,MAAM,EAAE,IAAI,KAAK,KAAK,aAAa,KAAK,EAC1C,EAAE,gBAAgB,EAAE,IAAI,KAAK,KAAK,cAAc,KAAK,EACrD,EAAE,aAAa,EAAE,KAAK,KAAK,KAAK,aAAa,KAAK,EAClD,EAAE,YAAY,EAAE,KAAK,KAAK,KAAK,cAAc,KAAK,EAClD,EAAE,gBAAgB,EAAE,KAAK,KAAK,KAAK,gBAAgB,KAAK,EACxD,EAAE,SAAS,EAAE,IAAI,KAAK,KAAK,SAAS,KAAK,EACzC,EAAE,QAAQ,EAAE,IAAI,KAAK,KAAK,UAAU,KAAK,EACzC,EAAE,YAAY,EAAE,IAAI,KAAK,KAAK,YAAY,KAAK,EAE/C,SAAS,eAAe,QAAQ,EAAE,YAAc,KAAK,KAAK,OAAO,MAAM,SAAS,EAChF,SAAS,eAAe,QAAQ,EAAE,YAAc,KAAK,KAAK,mBAAmB,MAAM,SAAS,EAC5F,SAAS,eAAe,QAAQ,EAAE,YAAc,KAAK,KAAK,UAAU,MAAM,SAAS,EACnF,EAAE,YAAY,EAAE,IAAI,KAAK,KAAK,MAAM,KAAK,EACzC,EAAE,qBAAqB,EAAE,IAAI,KAAK,KAAK,eAAe,KAAK,EAC3D,EAAE,YAAY,EAAE,IAAI,KAAK,KAAK,MAAM,KAAK,EACzC,EAAE,mBAAmB,EAAE,KAAK,KAAK,KAAK,iBAAiB,KAAK,EAC5D,EAAE,kBAAkB,EAAE,KAAK,KAAK,KAAK,gBAAgB,KAAK,EAC1D,EAAE,sBAAsB,EAAE,IAAI,KAAK,KAAK,aAAa,KAAK,EAC1D,EAAE,qBAAqB,EAAE,IAAI,KAAK,KAAK,YAAY,KAAK,EACxD,EAAE,UAAU,EAAE,KAAK,MAAOxH,EAAK,KAAK,aAAa,MAAM,SAAS,CAAC,EACjE,EAAE,UAAU,EAAE,KAAK,MAAOA,EAAK,KAAK,aAAa,MAAM,SAAS,CAAC,EACjE,EAAE,UAAU,EAAE,KAAK,OAAQA,EAAK,KAAK,cAAc,MAAM,SAAS,CAAC,EACnE,EAAE,UAAU,EAAE,KAAK,MAAOA,EAAK,KAAK,aAAa,MAAM,SAAS,CAAC,EACjE,EAAE,UAAU,EAAE,KAAK,QAASA,EAAK,KAAK,eAAe,MAAM,SAAS,CAAC,EACrE,IAAI,EAAI,EACR,IAAK,EAAI,EAAG,EAAI,KAAK,KAAK,cAAc,MAAM,OAAO,IAAK,CACtD,IAAI+I,EAAY,SAAS,cAAc,IAAI,EAC3CA,EAAU,UAAY,OAAO,KAAK,KAAK,cAAc,MAAM,CAAC,EAAE,gBAAgB,KAAK,KAAK,cAAc,MAAM,CAAC,EAAE;AAAA,mFAChD,KAAK,KAAK,cAAc,MAAM,CAAC,EAAE,cAAc,SAAS,YAAY,KAAK,KAAK,cAAc,MAAM,CAAC,EAAE,cAAc,SAAS;AAAA,sDACzJ,KAAK,KAAK,cAAc,MAAM,CAAC,EAAE,eAAe,SAAS,YAAY,KAAK,KAAK,cAAc,MAAM,CAAC,EAAE,cAAc,SAAS;AAAA,2DACxH,KAAK,KAAK,cAAc,MAAM,CAAC,EAAE,gBAAgB,SAAS;AAAA,+CACtE,KAAK,KAAK,cAAc,MAAM,CAAC,EAAE,uBAC5D,EAAE,yBAAyB,EAAE,OAAOA,CAAS,CACjD,CACA,IAAK,EAAI,EAAG,EAAI,KAAK,KAAK,cAAc,MAAM,OAAQ,IAAK,CACvD,IAAIA,EAAY,SAAS,cAAc,IAAI,EAC3CA,EAAU,UAAY,OAAO,KAAK,KAAK,cAAc,MAAM,CAAC,EAAE,gBAAgB,KAAK,KAAK,cAAc,MAAM,CAAC,EAAE,iDAAiD,KAAK,KAAK,cAAc,MAAM,CAAC,EAAE,uBACjM,EAAE,yBAAyB,EAAE,OAAOA,CAAS,CACjD,CACA,IAAK,EAAI,EAAG,EAAI,KAAK,KAAK,sBAAsB,MAAM,OAAQ,IAAK,CAC/D,IAAIA,EAAY,SAAS,cAAc,IAAI,EAC3CA,EAAU,UAAY,OAAO,KAAK,KAAK,sBAAsB,MAAM,CAAC,EAAE,4BAA4B,KAAK,KAAK,sBAAsB,MAAM,CAAC,EAAE;AAAA,0DACrG,KAAK,KAAK,sBAAsB,MAAM,CAAC,EAAE,cAAc,SAAS,YAAY,KAAK,KAAK,sBAAsB,MAAM,CAAC,EAAE,cAAc,SAAS;AAAA,sDAChJ,KAAK,KAAK,sBAAsB,MAAM,CAAC,EAAE,eAAe,SAAS,YAAY,KAAK,KAAK,sBAAsB,MAAM,CAAC,EAAE,cAAc,SAAS;AAAA,2DACxI,KAAK,KAAK,sBAAsB,MAAM,CAAC,EAAE,gBAAgB,SAAS;AAAA,+CAC9E,KAAK,KAAK,sBAAsB,MAAM,CAAC,EAAE,mBACpE,EAAE,oBAAoB,EAAE,OAAOA,CAAS,CAE5C,CACA,IAAK,EAAI,EAAG,EAAI,KAAK,KAAK,gBAAgB,MAAM,OAAQ,IAAK,CACzD,IAAIC,EAAO,KAAK,KAAK,gBAAgB,MAAM,CAAC,EACxCC,EAAY,SAAS,cAAc,IAAI,EACvCA,EAAY,SAAS,cAAc,IAAI,EAC3CA,EAAU,UAAY,cAAcD,EAAK;AAAA,uCACtBA,EAAK,+EAA+EA,EAAK,yBAAyBA,EAAK,0BAA0BA,EAAK;AAAA,qCACxJA,EAAK,2BAA2BA,EAAK,8BAA8BA,EAAK,mCACzF,EAAE,uBAAuB,EAAE,OAAOC,CAAS,CAC/C,CACA,IAAK,EAAI,EAAG,EAAI,KAAK,KAAK,kBAAkB,MAAM,OAAQ,IAC1D,CACID,EAAO,KAAK,KAAK,kBAAkB,MAAM,CAAC,EAC1C,IAAIC,EAAY,SAAS,cAAc,IAAI,EAC3CA,EAAU,UAAY,OAAOD,EAAK;AAAA,uCACfA,EAAK,mFAAmFA,EAAK,oCAChH,EAAE,uBAAuB,EAAE,OAAOC,CAAS,CAE/C,CACA,EAAE,SAAS,EAAE,GAAG,QAAS,SAAgB/E,GAAG,QAAAC,EAAA,sBACxC,EAAE,IAAI,EAAE,QAAQ,IAAI,EAAE,OAAO,EAC7BnE,EAAK,cAAc,CACvB,GAAC,EACD,EAAE,cAAc,EAAE,GAAG,SAAU,SAAgBkE,GAAG,QAAAC,EAAA,sBAC9CnE,EAAK,cAAc,CACvB,GAAC,EACDA,EAAK,aAAa,EAClBA,EAAK,cAAc,CACvB,CACIA,EAAK,KAAO,IACZA,EAAK,KAAK,cAAc,MAAQA,EAAK,iBAAiB,SAAS,EAC/DA,EAAK,KAAK,SAAS,MAAQA,EAAK,SAChCA,EAAK,KAAK,QAAQ,MAAQA,EAAK,QAC/BA,EAAK,KAAK,eAAe,MAAQA,EAAK,eACtCA,EAAK,KAAK,aAAa,MAAQA,EAAK,aACpCA,EAAK,KAAK,QAAQ,MAAQA,EAAK,WAcvC,CAAC,CACL,CAGO,eAAsB,CACzB,IAAIA,EAAO,KAEX,GADA,KAAK,sBAAwB,KACzB,iBAAcA,EAAK,KAAK,SAAS,KAAK,MAAK,iBAAcA,EAAK,KAAK,SAAS,KAAK,MACjF,iBAAcA,EAAK,KAAK,WAAW,KAAK,MAAK,iBAAcA,EAAK,KAAK,cAAc,KAAK,MACxF,iBAAcA,EAAK,KAAK,sBAAsB,KAAK,MAAK,iBAAcA,EAAK,KAAK,qBAAqB,KAAK,MAC1G,iBAAcA,EAAK,KAAK,cAAc,KAAK,MAAK,iBAAcA,EAAK,KAAK,0BAA0B,KAAK,EACvG,OAEJ,IAAIkJ,EAAW,KAAK,KAAK,SAAS,MAC9BC,EAAiB,WAAW,SAAS,eAAe,gBAAgB,EAAE,SAAS,EAC/EC,EAAqB,WAAW,SAAS,eAAe,oBAAoB,EAAE,SAAS,EACvFC,EAAY,SAAS,eAAe,SAAS,EAC7CC,EAAU,WAAWD,EAAU,SAAS,EAC5C,IAAIE,EAAwBJ,EAAiBC,EACzCI,EAAiB,EACjBC,EAAkB,EAElBC,EAAa,EACbC,EAAa,EACbC,EAAc,EACdC,EAAa,EACbC,EAAe,EAEf1G,EAAyB,SAAS,eAAe,wBAAwB,EAC1EA,GACC,MAAM,KAAKA,EAAuB,IAAI,EAAE,QAAQd,GAAO,CACnD,IAAIyH,EAAazH,EAAI,MAAM,CAAC,EACxB0H,EAAS,WAAWD,EAAW,UAAU,KAAK,CAAC,GAAK,EACpDC,EAAS,EACTR,GAAkBQ,EACbA,EAAS,IACdP,GAAmBO,GAEnBD,EAAW,aAAa,KAAK,IAAM,SAAQL,GAAcM,GACzDD,EAAW,aAAa,KAAK,IAAM,SAAQJ,GAAcK,GACzDD,EAAW,aAAa,MAAM,IAAM,SAAQH,GAAeI,GAC3DD,EAAW,aAAa,KAAK,IAAM,SAAQF,GAAcG,GACzDD,EAAW,aAAa,OAAO,IAAM,SAAQD,GAAgBE,EACrE,CAAC,EAGL,EAAE,iBAAiB,EAAE,IAAIR,CAAc,EACvC,EAAE,iBAAiB,EAAE,IAAIC,CAAe,EACxC,IAAIjG,EAAoB,SAAS,eAAe,mBAAmB,EAC/DA,GACA,MAAM,KAAKA,EAAkB,IAAI,EAAE,QAAQlB,GAAO,CAC9C,IAAIyH,EAAazH,EAAI,MAAM,CAAC,EACxB0H,EAAS,WAAWD,EAAW,UAAU,KAAK,CAAC,GAAK,EACxD/J,EAAK,uBAAyBgK,EAE1BD,EAAW,aAAa,KAAK,IAAM,SAAQL,GAAcM,GACzDD,EAAW,aAAa,KAAK,IAAM,SAAQJ,GAAcK,GACzDD,EAAW,aAAa,MAAM,IAAM,SAAQH,GAAeI,GAC3DD,EAAW,aAAa,KAAK,IAAM,SAAQF,GAAcG,GACzDD,EAAW,aAAa,OAAO,IAAM,SAAQD,GAAgBE,EACrE,CAAC,EAGL,IAAIpG,EAAuB,SAAS,eAAe,sBAAsB,EACrEA,GACA,MAAM,KAAKA,EAAqB,IAAI,EAAE,QAAQtB,GAAO,CACjD,QAAQ,IAAIA,CAAG,EACf,IAAIyH,EAAazH,EAAI,cAAc,mBAAmB,EAClD0H,EAAS,WAAWD,EAAW,KAAK,GAAK,EAC7C/J,EAAK,uBAAyBgK,EAE1BD,EAAW,aAAa,KAAK,IAAM,SAAQL,GAAcM,GACzDD,EAAW,aAAa,KAAK,IAAM,SAAQJ,GAAcK,GACzDD,EAAW,aAAa,MAAM,IAAM,SAAQH,GAAeI,GAC3DD,EAAW,aAAa,KAAK,IAAM,SAAQF,GAAcG,GACzDD,EAAW,aAAa,OAAO,IAAM,SAAQD,GAAgBE,EACrE,CAAC,EAIDX,EAAU,aAAa,KAAK,IAAM,SAAQK,GAAcJ,GACxDD,EAAU,aAAa,KAAK,IAAM,SAAQM,GAAcL,GACxDD,EAAU,aAAa,MAAM,IAAM,SAAQO,GAAeN,GAC1DD,EAAU,aAAa,KAAK,IAAM,SAAQQ,GAAcP,GACxDD,EAAU,aAAa,OAAO,IAAM,SAAQS,GAAgBR,GAChEI,GAAcR,EACdS,GAAcT,EACdU,GAAeV,EACfW,GAAcX,EACdY,GAAgBZ,EAChBQ,GAAcH,EACdI,GAAcJ,EACdK,GAAeL,EACfM,GAAcN,EACdO,GAAgBP,EAChB,EAAE,WAAW,EAAE,IAAII,EAAW,QAAQ,CAAC,CAAC,EACxC,EAAE,WAAW,EAAE,IAAIC,EAAY,QAAQ,CAAC,CAAC,EACzC,EAAE,aAAa,EAAE,IAAIE,EAAa,QAAQ,CAAC,CAAC,EAC5C,EAAE,WAAW,EAAE,IAAIJ,EAAW,QAAQ,CAAC,CAAC,EACxC,EAAE,mBAAmB,EAAE,IAAIG,EAAW,QAAQ,CAAC,CAAC,EAEhD,IAAII,EAAajK,EAAK,KAAK,cAAc,OAAS,GAAM,EAAE,KAC1D,gBAA+B,CAC3B,QAASH,GAAe,QAAU,qCAClC,OAAQ,MACR,KAAM,CACF,YAAeG,EAAK,KAAK,SAAS,MAClC,YAAeA,EAAK,KAAK,SAAS,MAClC,cAAiBA,EAAK,KAAK,WAAW,MAEtC,aAAgBA,EAAK,KAAK,UAAU,MACpC,UAAa2J,EACb,UAAaD,EACb,YAAeI,EACf,UAAaD,EACb,WAAcD,EAGd,cAAiBK,EACjB,sBAAyBjK,EAAK,KAAK,sBAAsB,MACzD,qBAAwBA,EAAK,KAAK,qBAAqB,MACvD,sBAAyBA,EAAK,KAAK,cAAc,MACjD,2BAA8BA,EAAK,KAAK,0BAA0B,KACtE,EACA,MAAO,GACP,UAAYsE,GAAa,CAErBtE,EAAK,sBAAsB,OAAS,EACpCA,EAAK,KAAK,SAAS,MAAQsE,EAAS,SAAS,CAAC,EAAE,SAChD,EAAE,cAAc,EAAE,IAAIA,EAAS,SAAS,CAAC,EAAE,YAAY,QAAQ,CAAC,CAAC,EACjE,EAAE,cAAc,EAAE,IAAIA,EAAS,SAAS,CAAC,EAAE,YAAY,QAAQ,CAAC,CAAC,EACjE,EAAE,MAAM,EAAE,IAAIA,EAAS,SAAS,CAAC,EAAE,YAAY,QAAQ,CAAC,CAAC,EACzD,EAAE,gBAAgB,EAAE,IAAIA,EAAS,SAAS,CAAC,EAAE,cAAc,QAAQ,CAAC,CAAC,EACrE,EAAE,cAAc,EAAE,IAAIA,EAAS,SAAS,CAAC,EAAE,YAAY,QAAQ,CAAC,CAAC,EACjE,EAAE,cAAc,EAAE,IAAIA,EAAS,SAAS,CAAC,EAAE,YAAY,QAAQ,CAAC,CAAC,EACjE,EAAE,MAAM,EAAE,IAAIA,EAAS,SAAS,CAAC,EAAE,aAAa,QAAQ,CAAC,CAAC,EAC1D,EAAE,gBAAgB,EAAE,IAAIA,EAAS,SAAS,CAAC,EAAE,cAAc,QAAQ,CAAC,CAAC,EAqCrEtE,EAAK,YAAY,CACrB,CACJ,CAAC,CACL,CACO,cAAe,CAEtB,IAAMkK,EAAa,WAAW,SAAS,eAAe,YAAY,EAAE,WAAW,EACzEC,EAAY,WAAW,SAAS,eAAe,WAAW,EAAE,WAAW,EACvEC,EAAgB,WAAW,SAAS,eAAe,eAAe,EAAE,WAAW,EAE/EC,EAAS,WAAW,SAAS,eAAe,QAAQ,EAAE,KAAK,GAAK,EAChEC,EAAQ,WAAW,SAAS,eAAe,OAAO,EAAE,KAAK,GAAK,EAC9DC,EAAY,WAAW,SAAS,eAAe,WAAW,EAAE,KAAK,GAAK,EAG5E,SAAS,eAAe,aAAa,EAAE,aAAeL,EAAaG,GAAQ,QAAQ,CAAC,EACpF,SAAS,eAAe,YAAY,EAAE,aAAeF,EAAYG,GAAO,QAAQ,CAAC,EACjF,SAAS,eAAe,gBAAgB,EAAE,aAAeF,EAAgBG,GAAW,QAAQ,CAAC,EAG7F,IAAMpB,EAAkBe,EAAaG,EAAWF,EAAYG,EAAUF,EAAgBG,EACtF,SAAS,eAAe,gBAAgB,EAAE,YAAcpB,EAAe,QAAQ,CAAC,EAGhF,IAAMqB,EAAW,WAAW,SAAS,eAAe,QAAQ,EAAE,WAAW,EACnEC,EAAa,WAAW,SAAS,eAAe,QAAQ,EAAE,WAAW,EACrEC,EAAW,WAAW,SAAS,eAAe,QAAQ,EAAE,WAAW,EAEnEC,EAAY,WAAW,SAAS,eAAe,WAAW,EAAE,KAAK,GAAK,EACtEC,EAAqB,WAAW,SAAS,eAAe,oBAAoB,EAAE,KAAK,GAAK,EACxFC,EAAY,WAAW,SAAS,eAAe,WAAW,EAAE,KAAK,GAAK,EAG5E,SAAS,eAAe,kBAAkB,EAAE,aAAeL,EAAWG,GAAW,QAAQ,CAAC,EAC1F,SAAS,eAAe,kBAAkB,EAAE,aAAeF,EAAaG,GAAoB,QAAQ,CAAC,EACrG,SAAS,eAAe,kBAAkB,EAAE,aAAeF,EAAWG,GAAW,QAAQ,CAAC,EAG1F,IAAMvB,EAAWkB,EAAWG,EAAcF,EAAaG,EAAuBF,EAAWG,EACzF,SAAS,eAAe,SAAS,EAAE,YAAcvB,EAAQ,QAAQ,CAAC,EAGlE,IAAMwB,EAAmB,WAAW,SAAS,eAAe,kBAAkB,EAAE,WAAW,EACrFC,EAAkB,WAAW,SAAS,eAAe,iBAAiB,EAAE,WAAW,EAEnFC,EAAsB,WAAW,SAAS,eAAe,qBAAqB,EAAE,KAAK,GAAK,EAC1FC,EAAqB,WAAW,SAAS,eAAe,oBAAoB,EAAE,KAAK,GAAK,EAG9F,SAAS,eAAe,sBAAsB,EAAE,aAAeH,EAAmBE,GAAqB,QAAQ,CAAC,EAChH,SAAS,eAAe,qBAAqB,EAAE,aAAeD,EAAkBE,GAAoB,QAAQ,CAAC,EAG7G,IAAM7B,EAAsB0B,EAAmBE,EAAwBD,EAAkBE,EACzF,SAAS,eAAe,oBAAoB,EAAE,YAAc7B,EAAmB,QAAQ,CAAC,CAC5F,CACW,aAAoB,CACvB,IAAIF,EAAW,KAAK,KAAK,SAAS,MAC9BgC,EAAiB,WAAW,EAAE,iBAAiB,EAAE,IAAI,CAAC,EACtDC,EAAiB,WAAW,EAAE,iBAAiB,EAAE,IAAI,CAAC,EACtDC,EAAU,WAAW,EAAE,UAAU,EAAE,KAAK,CAAC,EACzCjC,EAAiB,EACjB,SAAS,eAAe,gBAAgB,IACxCA,EAAiB,WAAW,SAAS,eAAe,gBAAgB,EAAE,SAAS,GACnF,IAAIC,EAAqB,EACrB,SAAS,eAAe,oBAAoB,IAC5CA,EAAqB,WAAW,SAAS,eAAe,oBAAoB,EAAE,SAAS,GAE3F,IAAIiC,EAAanC,EAAWgC,EAAiBE,EAAU,KAAK,sBACtDD,EAAiBhC,EAAiBC,EACxC,EAAE,YAAY,EAAE,IAAIiC,EAAW,QAAQ,CAAC,CAAC,EACzC,IAAIC,EAAuB,WAAW,EAAE,cAAc,EAAE,IAAI,CAAC,EAAI,WAAW,EAAE,gBAAgB,EAAE,IAAI,CAAC,EAC/F,WAAW,EAAE,cAAc,EAAE,IAAI,CAAC,EAAI,WAAW,EAAE,MAAM,EAAE,IAAI,CAAC,EAClEC,EAAuB,WAAW,EAAE,cAAc,EAAE,IAAI,CAAC,EAAI,WAAW,EAAE,cAAc,EAAE,IAAI,CAAC,EAAI,WAAW,EAAE,gBAAgB,EAAE,IAAI,CAAC,EAC3I,EAAE,4BAA4B,EAAE,IAAID,EAAqB,QAAQ,CAAC,CAAC,EACnE,EAAE,4BAA4B,EAAE,IAAIC,EAAqB,QAAQ,CAAC,CAAC,EACnE,IAAIC,EAAWH,EAAaC,EAC5B,EAAE,WAAW,EAAE,IAAIE,EAAS,QAAQ,CAAC,CAAC,EAClC,KAAK,KAAO,GACZ,KAAK,mBAAmB,MAAM,CAEtC,CAGO,qBAAqBC,EAAe,CACvC,IAAIzL,EAAO,KACPA,EAAK,KAAO,GAChBA,EAAK,WAAW,EAChB,IAAI0L,EAAsB,SAAS,eAAe,cAAc,EAC5D7D,EAAuB,SAAS,eAAe,KAAK,SAAW,eAAe,EAC9EC,EAAkB,SAAS,eAAe,KAAK,SAAW,UAAU,EACpEC,EAAiB,SAAS,eAAe,KAAK,SAAW,SAAS,EAClE4D,EAAoB,SAAS,eAAe,KAAK,SAAW,cAAc,EAC1EC,EAAqB,KAAK,mBAC1BC,EAAmB,KAAK,iBACxBC,EAAiB,KAAK,eACtBC,EAAmB,KAAK,iBACxBjD,EAAc9I,EAAK,YAEvB,MAAK,iBAAc,EAAE6H,CAAoB,EAAE,IAAI,CAAC,EAO5C7H,EAAK,KAAK,aAAa,MAAQ,OAN/B,SAASuE,KAASuE,EACVA,EAAYvE,CAAK,EAAE,IAAM,EAAEsD,CAAoB,EAAE,IAAI,GACrD,EAAE8D,CAAiB,EAAE,IAAI7C,EAAYvE,CAAK,EAAE,IAAI,EAK5D,MAAI,iBAAc,EAAEsD,CAAoB,EAAE,IAAI,CAAC,MAAK,iBAAc,EAAEC,CAAe,EAAE,IAAI,CAAC,MAAK,iBAAc,EAAEC,CAAc,EAAE,IAAI,CAAC,EAAG,CAEnI,EAAE;AAAA;AAAA;AAAA,oCAGsB,EAAE,KAAK,EAC/B,MACJ,KACK,CACD,GAAG0D,GAAW,EACd,CACA,IAAI7E,EAAY5G,EAAK,KAAK,QAAQ,MAC9B2G,EAAa3G,EAAK,KAAK,SAAS,MAEhC8G,EAAU,IAAI,KAAKF,EAAWD,EAAY,KAAK,OAAO,EACtDI,EAAcD,EAAQ,YAAY,EAAE,SAAS,EAC7CE,GAAgBF,EAAQ,SAAS,EAAI,GAAG,SAAS,EACjDG,EAAaH,EAAQ,QAAQ,EAAE,SAAS,EAGxCI,EAAY,IAAI,KAAKN,EAAWD,EAAY,KAAK,OAAO,EAC5DO,EAAU,SAASA,EAAU,SAAS,EAAI,CAAC,EAC3CA,EAAU,QAAQA,EAAU,QAAQ,EAAI,CAAC,EACzC,IAAIC,EAAmBD,EAAU,YAAY,EAAE,SAAS,EACpDE,GAAqBF,EAAU,SAAS,EAAI,GAAG,SAAS,EACxDG,EAAkBH,EAAU,QAAQ,EAAE,SAAS,EAE/CI,EAAmBN,EAAa,SAAS,EAAG,GAAG,EAAI,IAAMC,EAAW,SAAS,EAAG,GAAG,EAAI,IAAMF,EAC7FQ,EAAkBH,EAAkB,SAAS,EAAG,GAAG,EAAI,IAAMC,EAAgB,SAAS,EAAG,GAAG,EAAI,IAAMF,EAE1GnH,EAAK,KAAK,QAAQ,MAAQsH,EAC1BtH,EAAK,KAAK,aAAa,MAAQsH,EAC/BtH,EAAK,KAAK,eAAe,MAAQuH,CACrC,CAEI,IAAIyE,EAAiB,GACjBC,EAAkB,GAClBC,EAA2B,GAC3BC,EAAgB,GAChBC,EAAkB,GAClBC,EAAqB,GACrBC,EAAqB,GACrBC,EAAoB,GACpBC,EAAyB,GACzBC,EAAqB,GACrBC,EAAoB,GAEpBC,GAAS,GACTC,EAAY,GACZC,GAAiB,GAkBrB,GAhBA7M,EAAK,cAAc,OAAS,EAC5BA,EAAK,gBAAgB,OAAS,EAC9BA,EAAK,QAAQ,OAAS,EACtBA,EAAK,sBAAsB,OAAS,EACpC4L,EAAmB,OAAS,EAC5BC,EAAiB,OAAS,EAC1BC,EAAe,OAAS,EACxBC,EAAiB,OAAS,EAC1B/L,EAAK,gBAAgB,OAAS,EAC9BA,EAAK,cAAc,OAAS,EAC5BA,EAAK,aAAe,EACpBA,EAAK,eAAiB,EAEtBA,EAAK,YAAY,OAAS,EAC1BA,EAAK,YAAY,OAAS,KAEtB,iBAAc,EAAE8H,CAAe,EAAE,IAAI,CAAC,MAAK,iBAAc,EAAEC,CAAc,EAAE,IAAI,CAAC,EAAG,CACnF/H,EAAK,KAAK,aAAa,YAAc,IAAI,KAAKA,EAAK,KAAK,QAAQ,MAAOA,EAAK,KAAK,SAAS,MAAOA,EAAK,OAAO,EAC7GA,EAAK,KAAK,QAAQ,YAAc,IAAI,KAAKA,EAAK,KAAK,QAAQ,MAAOA,EAAK,KAAK,SAAS,MAAOA,EAAK,OAAO,EACxG,IAAIkH,EAAYlH,EAAK,KAAK,aAAa,YACvCkH,EAAU,SAASA,EAAU,SAAS,EAAI,CAAC,EAC3CA,EAAU,QAAQA,EAAU,QAAQ,EAAI,CAAC,EACzClH,EAAK,KAAK,eAAe,YAAckH,CAC3C,CACA,IAAI4F,GAAc,GAAG9M,EAAK,KAAK,QAAQ,SAASA,EAAK,KAAK,SAAS,MAAQ,KAAK,IAiB7E+M,GAAO,EAsBV,OArBA,gBAA+B,CAC3B,QAASlN,GAAe,QAAU,+BAClC,OAAQ,MACR,KAAM,CACF,cAAiB,SAAS,EAAEgI,CAAoB,EAAE,IAAI,CAAC,EACvD,KAAQiF,EACZ,EACA,MAAO,GACP,UAAYxI,GAAa,CACrByI,GAAO,EACP/M,EAAK,KAAK,WAAW,MAAQsE,EAAS,SAAS,CAAC,EAAE,oBAClD,EAAE,aAAa,EAAE,KAAKA,EAAS,SAAS,CAAC,EAAE,SAAS,QAAQ,CAAC,CAAC,EAC9D,EAAE,YAAY,EAAE,KAAKA,EAAS,SAAS,CAAC,EAAE,UAAU,QAAQ,CAAC,CAAC,EAC9D,EAAE,gBAAgB,EAAE,KAAKA,EAAS,SAAS,CAAC,EAAE,YAAY,QAAQ,CAAC,CAAC,EACpE,EAAE,mBAAmB,EAAE,KAAKA,EAAS,SAAS,CAAC,EAAE,iBAAiB,QAAQ,CAAC,CAAC,EAC5E,EAAE,kBAAkB,EAAE,KAAKA,EAAS,SAAS,CAAC,EAAE,gBAAgB,QAAQ,CAAC,CAAC,EAC1EtE,EAAK,KAAK,UAAU,MAAQsE,EAAS,SAAS,CAAC,EAAE,UAAU,QAAQ,CAAC,EACpEtE,EAAK,KAAK,WAAW,MAAQsE,EAAS,SAAS,CAAC,EAAE,WAAW,QAAQ,CAAC,CAE1E,CACJ,CAAC,EACMyI,IAAQ,GAAE,CACjB,IAAIC,GACJC,GAAwB,KAAK,CACrB,SAAU,WAAS,IAAID,GAAU,CAAC,CAACE,GAAoB,OAAO,MAAM,EAAG,IAAK,GAAG,EAC3E,CAAC,CAACA,GAAoB,OAAO,aAAa,EAAG,IAAK,EAAErF,CAAoB,EAAE,IAAI,CAAC,EAC/E,CAAC,CAACqF,GAAoB,OAAO,SAAS,EAAG,KAAMlN,EAAK,KAAK,aAAa,UAAU,CAAC,EACjF,CAAC,CAACkN,GAAoB,OAAO,OAAO,EAAG,KAAMlN,EAAK,KAAK,eAAe,UAAU,CAAC,CACrF,CACJ,EAAGsE,GAAY,CACXA,EAAS,SAAS,OAAS,IAAI0H,EAAiB,IAChD,IAAIgB,GACJ,QAASG,MAAO7I,EAAS,SAAU,CAC/B,IAAI8I,GAAgB9I,EAAS,SAAS6I,EAAG,EAAE,cAE3C,OAAQC,GAAe,CACnB,IAAK,GACDnB,EAAkB,GAClB,MACJ,IAAK,GACDC,EAA2B,GAC3B,MACJ,IAAK,GACDC,EAAgB,GAChB,MACJ,IAAK,GACDC,EAAkB,GAClB,MACJ,IAAK,GACDC,EAAqB,GACrB,MACJ,IAAK,GACDC,EAAqB,GACrB,MACJ,IAAK,GACDC,EAAoB,GACpB,MACJ,IAAK,GACDC,EAAyB,GACzB,MACJ,IAAK,IACDC,EAAqB,GACrB,MACJ,IAAK,IACDC,EAAoB,GACpB,KACR,CACJ,CAGA,QAASnI,KAASuE,EACd,GAAIA,EAAYvE,CAAK,EAAE,IAAM,EAAEsD,CAAoB,EAAE,IAAI,EAAG,CACxD7H,EAAK,KAAK,gBAAgB,MAAM,OAAS,EACzCA,EAAK,KAAK,kBAAkB,MAAM,OAAS,EAE3C,EAAE,8BAA8B,EAAE,KAAK,EACvC,EAAE;AAAA;AAAA,mKAEqI,EAAE,KAAK,EAC9I,IAAI+M,GAAO,EA4CX,OA3CA,gBAAmC,CAC/B,QAASrF,GAAuB,QAAU,mBAC1C,KAAM,CACF,cAAiB1H,EAAK,KAAK,cAAc,MACzC,KAAQ8M,EACZ,EACA,OAAQ,MACR,MAAO,GACP,UAAYxI,GACZ,CAMI,GALI,SAAS,eAAe,qBAAqB,EAAE,SAAS,QAAU,GAClEtE,EAAK,MAAM,EAEf,QAAQ,IAAIsE,EAAS,SAAS,CAAC,CAAC,EAChCtE,EAAK,kBAAoBsE,EAAS,SAAS,CAAC,EAAE,kBAC1CtE,EAAK,mBAAqB,GAAO,CACjCA,EAAK,KAAK,OAAO,MAAQsE,EAAS,SAAS,CAAC,EAAE,OAC9C,IAAI+I,EAAgB,WAAW/I,EAAS,SAAS,CAAC,EAAE,OAAO,QAAQ,CAAC,CAAC,EAEjEgJ,GAAcD,EAAgB,KAAK,QAAQ,CAAC,EAC5CE,IAAcF,EAAgB,GAAG,QAAQ,CAAC,EAC9C,SAAS,eAAe,YAAY,EAAE,UAAY,SAClD,SAAS,eAAe,oBAAoB,EAAE,UAAY,SAC1D,SAAS,eAAe,WAAW,EAAE,UAAY,SAEjD,SAAS,eAAe,QAAQ,EAAE,YAAcA,EAAc,QAAQ,CAAC,EACvE,SAAS,eAAe,QAAQ,EAAE,YAAcC,EAChD,SAAS,eAAe,QAAQ,EAAE,YAAcC,EACpD,MAEI,SAAS,eAAe,YAAY,EAAE,UAAY,UAClD,SAAS,eAAe,oBAAoB,EAAE,UAAY,UAC1D,SAAS,eAAe,WAAW,EAAE,UAAY,iBAEjD,SAAS,eAAe,QAAQ,EAAE,YAAcjJ,EAAS,SAAS,CAAC,EAAE,cACrE,SAAS,eAAe,QAAQ,EAAE,YAAcA,EAAS,SAAS,CAAC,EAAE,cACrE,SAAS,eAAe,QAAQ,EAAE,YAAcA,EAAS,SAAS,CAAC,EAAE,oBAIzEyI,GAAO,CACX,CACJ,CAAC,EACMA,IAAQ,GAAE,CACjB/M,EAAK,KAAK,SAAS,MAAQ8I,EAAYvE,CAAK,EAAE,SAC9CvE,EAAK,KAAK,IAAI,MAAQA,EAAK,aAAa,EACxCA,EAAK,KAAK,cAAc,MAAQ8I,EAAYvE,CAAK,EAAE,cAAc,SAAS,EAC1EvE,EAAK,KAAK,cAAc,MAAQ8I,EAAYvE,CAAK,EAAE,cACnDvE,EAAK,KAAK,sBAAsB,MAAQ8I,EAAYvE,CAAK,EAAE,sBAC3DvE,EAAK,KAAK,qBAAqB,MAAQ8I,EAAYvE,CAAK,EAAE,qBAC1DvE,EAAK,KAAK,0BAA0B,MAAQ8I,EAAYvE,CAAK,EAAE,0BAC/DvE,EAAK,KAAK,cAAc,MAAQ8I,EAAYvE,CAAK,EAAE,cAEnDvE,EAAK,KAAK,SAAS,MAAQ8I,EAAYvE,CAAK,EAAE,SAC9CvE,EAAK,aAAe8I,EAAYvE,CAAK,EAAE,KACvCvE,EAAK,cAAgB8I,EAAYvE,CAAK,EAAE,cACxCvE,EAAK,KAAK,SAAS,MAAQ8I,EAAYvE,CAAK,EAAE,SAAS,SAAS,EAChEvE,EAAK,KAAK,SAAS,MAAQ8I,EAAYvE,CAAK,EAAE,SAAS,SAAS,EAChEvE,EAAK,KAAK,WAAW,MAAQ8I,EAAYvE,CAAK,EAAE,WAAW,SAAS,EACpEvE,EAAK,KAAK,UAAU,MAAQ8I,EAAYvE,CAAK,EAAE,UAC/C,IAAIiJ,GAAe1E,EAAYvE,CAAK,EAAE,KAClCyI,GACJS,GAAyB,KAAK,CAC1B,SAAU,WAAS,IAAIT,GAAU,CAAC,CAACU,GAAqB,OAAO,aAAa,EAAG,IAAK,EAAE7F,CAAoB,EAAE,IAAI,CAAC,EAC3G,CAAC7H,EAAK,KAAK,eAAe,UAAU,EAAG,KAAM,CAAC0N,GAAqB,OAAO,aAAa,CAAC,CAAC,CACnG,EAAGpJ,GAAY,CACX,QAAQ,IAAIA,EAAS,QAAQ,EAC7B,EAAE,yBAAyB,EAAE,MAAM,EACnC,IAAI4G,EAAiB,EACrB,QAAS3G,KAASD,EAAS,SAAU,CACjC,GAAI,IAAC,iBAAcA,EAAS,SAASC,CAAK,EAAE,cAAc,EAAG,CACzD,IAAIoJ,GAAYrJ,EAAS,SAASC,CAAK,EAAE,eACrC4B,GAAO,IAAI,KAAKwH,EAAS,EAC7B,GAAI3N,EAAK,KAAK,eAAe,YAAcmG,GACvC,QACR,CAEA,GAAI,EAAA7B,EAAS,SAASC,CAAK,EAAE,SAAW,IAChCD,EAAS,SAASC,CAAK,EAAE,aAAe,IAGhD,IAAID,EAAS,SAASC,CAAK,EAAE,gBAAkB,IAC3C,GACID,EAAS,SAASC,CAAK,EAAE,mBAAqB,IAC9CD,EAAS,SAASC,CAAK,EAAE,0BAA4B,IACrDD,EAAS,SAASC,CAAK,EAAE,sBAAwB,IACjDD,EAAS,SAASC,CAAK,EAAE,mBAAqB,IAC9CD,EAAS,SAASC,CAAK,EAAE,iBAAmB,IAC5CD,EAAS,SAASC,CAAK,EAAE,sBAAwB,IACjDD,EAAS,SAASC,CAAK,EAAE,sBAAwB,IACjDD,EAAS,SAASC,CAAK,EAAE,qBAAuB,IAChDD,EAAS,SAASC,CAAK,EAAE,4BAA8B,IACvDD,EAAS,SAASC,CAAK,EAAE,qBAAuB,IAEhD,GAAIyH,GAAkB,GAClB,iBAGA1H,EAAS,SAASC,CAAK,EAAE,mBAAqB,IAAQ6H,GAAmB,IAGzE9H,EAAS,SAASC,CAAK,EAAE,0BAA4B,IAAQiI,GAA0B,IAGvFlI,EAAS,SAASC,CAAK,EAAE,sBAAwB,IAAQkI,GAAsB,IAG/EnI,EAAS,SAASC,CAAK,EAAE,mBAAqB,IAAQ0H,GAAmB,IAEzE3H,EAAS,SAASC,CAAK,EAAE,iBAAmB,IAAQ4H,GAAiB,IAErE7H,EAAS,SAASC,CAAK,EAAE,sBAAwB,IAAQ+H,GAAsB,IAE/EhI,EAAS,SAASC,CAAK,EAAE,sBAAwB,IAAQ8H,GAAsB,IAE/E/H,EAAS,SAASC,CAAK,EAAE,qBAAuB,IAAQgI,GAAqB,IAE7EjI,EAAS,SAASC,CAAK,EAAE,4BAA8B,IAAQ2H,GAA4B,IAE3F5H,EAAS,SAASC,CAAK,EAAE,qBAAuB,IAAQmI,GAAqB,GAC7E,aAGP,IAAIpI,EAAS,SAASC,CAAK,EAAE,WAAa,IAAQqI,GAAa,GAChE,SACC,GAAItI,EAAS,SAASC,CAAK,EAAE,gBAAkB,IAAQsI,IAAkB,GAC1E,SACC,GAAIvI,EAAS,SAASC,CAAK,EAAE,QAAU,IAAQoI,IAAU,GAC1D,SACJ,IAAI5D,GAAY,SAAS,cAAc,IAAI,EAE3CA,GAAU,UAAY,OAAOzE,EAAS,SAASC,CAAK,EAAE,yBAAyBD,EAAS,SAASC,CAAK,EAAE;AAAA,mFACzDD,EAAS,SAASC,CAAK,EAAE,cAAc,SAAS,YAAYD,EAAS,SAASC,CAAK,EAAE,cAAc,SAAS;AAAA,sDACzID,EAAS,SAASC,CAAK,EAAE,eAAe,SAAS,YAAYD,EAAS,SAASC,CAAK,EAAE,cAAc,SAAS;AAAA,2DACxGD,EAAS,SAASC,CAAK,EAAE,gBAAgB,SAAS;AAAA,+CAC9DD,EAAS,SAASC,CAAK,EAAE,cACpC,EAAE,yBAAyB,EAAE,OAAOwE,EAAS,EAC7C/I,EAAK,YAAY,KAAKsE,EAAS,SAASC,CAAK,EAAE,EAAE,EACjD2G,GAAkB5G,EAAS,SAASC,CAAK,EAAE,OAC/C,CAGA,GAFA,EAAE,iBAAiB,EAAE,IAAI2G,CAAc,EACvC,EAAES,CAAiB,EAAE,IAAI6B,EAAY,EACjC9B,EAGA,QAFIkC,GAAOlC,EAAoB,qBAAqB,IAAI,EACpDmC,GAAUD,GAAK,OACVE,GAAID,GAAU,EAAGC,GAAI,EAAGA,KAC7BF,GAAKE,EAAC,EAAE,WAAW,YAAYF,GAAKE,EAAC,CAAC,EAE9C,IAAId,GAEJe,GAAqB,KAAK,CACtB,SAAU,WAAS,IAAIf,GAAU,CAAC,CAACgB,GAAiB,OAAO,MAAM,EAAG,IAAK,GAAG,EAAG,CAAC,CAACA,GAAiB,OAAO,aAAa,EAAG,IAAK,EAAEnG,CAAoB,EAAE,IAAI,CAAE,EACxJ,CAAC,CAACmG,GAAiB,OAAO,MAAM,EAAG,KAAMhO,EAAK,KAAK,eAAe,UAAU,CAAC,EAC7E,CAAC,CAACgO,GAAiB,OAAO,MAAM,EAAG,KAAMhO,EAAK,KAAK,aAAa,UAAU,CAAC,CAAC,CACpF,EAAGsE,IAAY,CACX,IAAI2J,EAAc,EACdC,EAAc,EACdC,GAAoB,EACpBC,GAAW,EACXC,EAAoB,EACxB/J,GAAS,SAAS,QAAQgK,GAAQ,CAC1BA,EAAK,UACLL,GAAeK,EAAK,SACfA,EAAK,UACVJ,GAAeI,EAAK,SACfA,EAAK,kBACVH,IAAqBG,EAAK,SAClC,CAAC,EACGtO,EAAK,mBAAqB,IAC1BA,EAAK,yBAA2B,EAAMoO,IAAYD,GAAoBE,GAAqBF,GAC3FnO,EAAK,mBAAqB,EAAMoO,IAAYH,EAAcI,GAAqBJ,EAC/EjO,EAAK,mBAAqB,EAAMoO,IAAYF,EAAcG,GAAqBH,EAE/EE,GAAWA,GAAW,GACtBC,EAAoBA,EAAoB,GAExC,EAAE,qBAAqB,EAAE,IAAIA,CAAiB,EAC9C,EAAE,YAAY,EAAE,IAAID,EAAQ,IAG5BF,EAAcA,EAAc,GAC5BD,EAAcA,EAAc,GAC5BE,GAAoBA,GAAoB,GAExC,EAAE,YAAY,EAAE,IAAID,CAAW,EAC/B,EAAE,qBAAqB,EAAE,IAAID,CAAW,EACxC,EAAE,YAAY,EAAE,IAAIE,EAAiB,GAEzC,EAAE,YAAY,EAAE,QAAQ,QAAQ,EAEhC,IAAInB,GACRuB,GAAmB,KAAK,CACpB,SAAU,WAAS,IAAIvB,GAAU,CAAC,CAACwB,GAAe,OAAO,aAAa,EAAG,IAAK,EAAE3G,CAAoB,EAAE,IAAI,CAAC,EACvG,CAAC,CAAC2G,GAAe,OAAO,SAAS,EAAG,KAAMxO,EAAK,KAAK,eAAe,UAAU,CAAC,EAC9E,CAAC,CAACwO,GAAe,OAAO,SAAS,EAAG,KAAMxO,EAAK,KAAK,aAAa,UAAU,CAAC,CAChF,CACJ,EAAGsE,GAAY,CACX,IAAImK,GAAkB,EAEtB,QAASlK,MAASD,EAAS,YAClB,iBAAcA,EAAS,SAASC,EAAK,EAAE,UAAU,IAClDvE,EAAK,cAAc,KAAKsE,EAAS,SAASC,EAAK,EAAE,EAAE,EACnDkK,IAAmBnK,EAAS,SAASC,EAAK,EAAE,QAAU,GAAM,GAGpE,IAAIyI,GACJ0B,GAAsB,KAAK,CACvB,SAAU,WAAS,IAAI1B,GAAU,CAAC,CAAC2B,GAAkB,OAAO,aAAa,EAAG,IAAK,EAAE9G,CAAoB,EAAE,IAAI,CAAC,EACxG,CAAC7H,EAAK,KAAK,eAAe,UAAU,EAAG,KAAM,CAAC2O,GAAkB,OAAO,aAAa,CAAC,CAAC,CAChG,EAAGrK,IAAY,CACX,IAAIsK,GAAkB,EACtB,QAASrK,MAASD,GAAS,SACvB,GAAI,EAAAA,GAAS,SAASC,EAAK,EAAE,SAAW,IAChCD,GAAS,SAASC,EAAK,EAAE,iBAAmB,IAGpD,IAAI,IAAC,iBAAcD,GAAS,SAASC,EAAK,EAAE,cAAc,EAAG,CACzD,IAAIoJ,GAAYrJ,GAAS,SAASC,EAAK,EAAE,eACrC4B,GAAO,IAAI,KAAKwH,EAAS,EAC7B,GAAI3N,EAAK,KAAK,eAAe,YAAcmG,GACvC,QACR,CACA,IAAI7D,GAAM,SAAS,cAAc,IAAI,EACrCA,GAAI,UAAY,OAAOgC,GAAS,SAASC,EAAK,EAAE,yBAAyBD,GAAS,SAASC,EAAK,EAAE,kDAAkDD,GAAS,SAASC,EAAK,EAAE,cAG7K,EAAE,yBAAyB,EAAE,OAAOjC,EAAG,EACvCtC,EAAK,YAAY,KAAKsE,GAAS,SAASC,EAAK,EAAE,EAAE,EACjDqK,IAAmBtK,GAAS,SAASC,EAAK,EAAE,OAEhD,EAAE,SAAS,EAAE,GAAG,QAAS,SAAgBL,EAAG,QAAAC,EAAA,sBACxC,QAAQ,IAAI,MAAM,EAClB,EAAE,IAAI,EAAE,QAAQ,IAAI,EAAE,OAAO,EAC7BnE,EAAK,cAAc,CACvB,GAAC,EACD,EAAE,cAAc,EAAE,GAAG,SAAU,SAAgBkE,EAAG,QAAAC,EAAA,sBAC9CnE,EAAK,cAAc,CACvB,GAAC,EACD,EAAE,iBAAiB,EAAE,IAAI4O,EAAe,EACxC,IAAI5B,GACJ6B,GAA6B,KAAK,CAC9B,SAAU,WAAS,IAAI7B,GAAU,CAAC,CAAC8B,GAAyB,OAAO,aAAa,EAAG,IAAK,EAAEjH,CAAoB,EAAE,IAAI,CAAC,EAC/G,CAAC,CAACiH,GAAyB,OAAO,IAAI,EAAG,IAAK,GAAG,EAAG,CAAC,CAACA,GAAyB,OAAO,MAAM,EAAG,IAAK,GAAG,EACzG,CAAC,CAACA,GAAyB,OAAO,YAAY,EAAG,KAAM9O,EAAK,KAAK,eAAe,UAAU,CAAC,EAC3F,CAAC,CAAC8O,GAAyB,OAAO,YAAY,EAAG,KAAM9O,EAAK,KAAK,aAAa,UAAU,CAAC,CAAC,CAClG,EAAGsE,GAAY,CACX,EAAE,oBAAoB,EAAE,MAAM,EAC9B,QAASC,MAASD,EAAS,SAAU,CACjC,IAAIyE,GAAY,SAAS,cAAc,IAAI,EAC3CA,GAAU,UAAY,OAAOzE,EAAS,SAASC,EAAK,EAAE,4BAA4BD,EAAS,SAASC,EAAK,EAAE;AAAA,0DACjGD,EAAS,SAASC,EAAK,EAAE,cAAc,SAAS,YAAYD,EAAS,SAASC,EAAK,EAAE,cAAc,SAAS;AAAA,sDAChHD,EAAS,SAASC,EAAK,EAAE,eAAe,SAAS,YAAYD,EAAS,SAASC,EAAK,EAAE,cAAc,SAAS;AAAA,2DACxGD,EAAS,SAASC,EAAK,EAAE,gBAAgB,SAAS;AAAA,+CAC9DD,EAAS,SAASC,EAAK,EAAE,mBACxB,EAAE,oBAAoB,EAAE,OAAOwE,EAAS,CAG5C,CAEA,IAAIiE,GACJ+B,GAA4B,KAAK,CAC7B,SAAU,WAAS,IAAI/B,GAAU,CAAC,CAACgC,GAAwB,OAAO,aAAa,EAAG,IAAK,EAAEnH,CAAoB,EAAE,IAAI,CAAC,EAChH,CAAC,CAACmH,GAAwB,OAAO,IAAI,EAAG,KAAMhP,EAAK,KAAK,eAAe,UAAU,CAAC,EAClF,CAAC,CAACgP,GAAwB,OAAO,IAAI,EAAG,KAAMhP,EAAK,KAAK,aAAa,UAAU,CAAC,CACpF,CAEJ,EAAGsE,IAAY,CACXA,GAAS,SAAS,OAAS,IAAIuI,GAAiB,IAChD,IAAI7B,GAAsB,EAC1B,QAASzG,MAASD,GAAS,SACnBA,GAAS,SAASC,EAAK,EAAE,UAAY,IACrCyG,IAAuB1G,GAAS,SAASC,EAAK,EAAE,UAChDvE,EAAK,eAAe,KAAKsE,GAAS,SAASC,EAAK,EAAE,EAAE,GAG5D,EAAE,sBAAsB,EAAE,IAAIyG,EAAmB,EACjD,IAAIgC,GACJiC,GAAoB,KAAK,CACrB,SAAU,WAAS,IAAIjC,GAAU,CAAC,CAACkC,GAAgB,OAAO,aAAa,EAAG,IAAK,EAAErH,CAAoB,EAAE,IAAI,CAAC,EACxG,CAAC,CAACqH,GAAgB,OAAO,IAAI,EAAG,KAAMlP,EAAK,KAAK,eAAe,UAAU,CAAC,EAC1E,CAAC,CAACkP,GAAgB,OAAO,IAAI,EAAG,KAAMlP,EAAK,KAAK,aAAa,UAAU,CAAC,CAC5E,CACJ,EAAGsE,IAAY,CACX,IAAI6K,GAAc,EAClB7K,GAAS,SAAS,OAAS,IAAIqI,GAAS,IACxC,QAASpI,MAASD,GAAS,SACnBA,GAAS,SAASC,EAAK,EAAE,UAAY,OAChC,iBAAcD,GAAS,SAASC,EAAK,EAAE,UAAU,IAClD4K,IAAe7K,GAAS,SAASC,EAAK,EAAE,SACxCvE,EAAK,cAAc,KAAKsE,GAAS,SAASC,EAAK,EAAE,EAAE,IAI/D,EAAE,qBAAqB,EAAE,IAAI4K,EAAW,EACxCnP,EAAK,cAAc,CAGvB,CAAC,CACL,CAAC,CAGL,CAAC,CAEL,CAAC,CAGL,CAAC,CACD,CAAC,CACL,CAAC,EAED,KACJ,CAGR,CAAC,CAET,CACJ,CAEO,gBAAgBoP,EAAaC,EAAe,CAC/C,IAAIC,EAAgBD,EAAM,MAAM,WAAW,EACvCE,EAOJ,GALID,GAAiBA,EAAc,OAAS,EACxCC,EAAgBD,EAAc,CAAC,EAE/BC,EAAgBF,EAEhBE,GAAiB,SACjB,MAAO,GACX,QAASzB,EAAI,EAAGA,EAAIsB,EAAY,OAAQtB,IAAK,CACzC,IAAItJ,EAAO4K,EAAYtB,CAAC,EACxB,QAASnJ,KAAOH,EACZ,GAAIA,EAAKG,CAAG,GAAK4K,EACb,OAAO/K,EAAK,UAExB,CAEA,MAAO,EACX,CACU,mBAAoB,CAC1B,IAAIgL,EAAU,MAAM,kBAAkB,EAClCC,EAAU,SAAS,cAAc,OAAO,EAC5CA,EAAQ,YACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAmHJ,SAAS,KAAK,YAAYA,CAAO,EAKjC,IAAIzP,EAAO,KAEX,OAAAwP,EAAQ,KACJ,CACI,MAAO,eACP,SAAU,kCACV,KAAM,qBACN,QAAS,IAAM,CACO,EAAE,8BAA8B,EACxC,MAAM,EAChB,IAAIE,EAAa1P,EAAK,KAAK,gBAAgB,MAAM,OACjD,EAAE,0DAA0D,EAAE,GAAG,cAAe,UAAY,CACxF,GAAI0P,GAAc1P,EAAK,KAAK,gBAAgB,MAAM,OAAQ,CACtD,IAAIgJ,EAAOhJ,EAAK,KAAK,gBAAgB,MAAMA,EAAK,KAAK,gBAAgB,MAAM,OAAS,CAAC,EACjFiJ,EAAY,SAAS,cAAc,IAAI,EAC3CA,EAAU,UAAY,cAAcD,EAAK;AAAA,uCAC9BA,EAAK,+EAA+EA,EAAK,yBAAyBA,EAAK,0BAA0BA,EAAK;AAAA,qCACxJA,EAAK,2BAA2BA,EAAK,8BAA8BA,EAAK,mCAEjF,EAAE,uBAAuB,EAAE,OAAOC,CAAS,EAC3C,EAAE,SAAS,EAAE,GAAG,QAAS,SAAgB/E,EAAG,QAAAC,EAAA,sBACxC,EAAE,IAAI,EAAE,QAAQ,IAAI,EAAE,OAAO,EAC7BnE,EAAK,cAAc,CACvB,GAAC,EACD,EAAE,cAAc,EAAE,GAAG,SAAU,SAAgBkE,EAAG,QAAAC,EAAA,sBAC9CnE,EAAK,cAAc,CACvB,GAAC,EAEDA,EAAK,cAAc,CACvB,CAEJ,CAAC,CACL,CACJ,CACJ,EACAwP,EAAQ,KACJ,CACI,MAAO,iBACP,SAAU,mCACV,KAAM,oBACN,QAAS,IAAM,CACO,EAAE,gCAAgC,EAC1C,MAAM,EAChB,IAAIE,EAAa1P,EAAK,KAAK,kBAAkB,MAAM,OACnD,EAAE,4DAA4D,EAAE,GAAG,cAAe,UAAY,CAC1F,GAAI0P,GAAc1P,EAAK,KAAK,kBAAkB,MAAM,OAAQ,CACxD,IAAIgJ,EAAOhJ,EAAK,KAAK,kBAAkB,MAAMA,EAAK,KAAK,kBAAkB,MAAM,OAAS,CAAC,EACrFiJ,EAAY,SAAS,cAAc,IAAI,EAC3CA,EAAU,UAAY,gBAAgBD,EAAK;AAAA,uCAChCA,EAAK,oFAAoFA,EAAK,oCACzG,EAAE,uBAAuB,EAAE,OAAOC,CAAS,EAC3C,EAAE,SAAS,EAAE,GAAG,QAAS,SAAgB/E,EAAG,QAAAC,EAAA,sBACxC,EAAE,IAAI,EAAE,QAAQ,IAAI,EAAE,OAAO,EAC7BnE,EAAK,cAAc,CACvB,GAAC,EACD,EAAE,cAAc,EAAE,GAAG,SAAU,SAAgBkE,EAAG,QAAAC,EAAA,sBAC9CnE,EAAK,cAAc,CACvB,GAAC,EACDA,EAAK,cAAc,CAEvB,CACJ,CAAC,CACL,CACJ,CACJ,EACOwP,CACX,CACU,mBAAmBlL,EAAgB,CACzC,IAAIwJ,EAAI,EAEJ6B,EAD4B,SAAS,eAAe,sBAAsB,EACpB,iBAAiB,IAAI,EAC/E,GAAIA,EAA0B,OAAQ,CAClC,IAAIC,EAA0B,CAAC,EAC3BC,EAA4B,CAAC,EAC7BC,EAA4B,MAAM,KAAKH,CAAyB,EAAE,IAAIrN,GAAO,CAC7E,IAAIyN,EAAQzN,EAAI,iBAAiB,IAAI,EACrC,MAAO,CACH,KAAMyN,EAAM,CAAC,EAAE,cAAc,MAAM,EAAE,YACrC,YAAaA,EAAM,CAAC,EAAE,UACtB,OAAQA,EAAM,CAAC,EAAE,cAAc,cAAc,EAAE,MAC/C,IAAKA,EAAM,CAAC,EAAE,cAAc,cAAc,EAAE,aAAa,KAAK,EAC9D,IAAKA,EAAM,CAAC,EAAE,cAAc,cAAc,EAAE,aAAa,KAAK,EAC9D,KAAMA,EAAM,CAAC,EAAE,cAAc,cAAc,EAAE,aAAa,MAAM,EAChE,IAAKA,EAAM,CAAC,EAAE,cAAc,cAAc,EAAE,aAAa,KAAK,EAC9D,MAAOA,EAAM,CAAC,EAAE,cAAc,cAAc,EAAE,aAAa,OAAO,CACtE,CACJ,CAAC,EACD,IAAKjC,EAAI,EAAGA,EAAIgC,EAA0B,OAAQhC,IAAK,CACnD,IAAIkC,EACA,WAAWF,EAA0BhC,CAAC,EAAE,MAAM,EAAI,GAClDkC,EAAwB,IAAIC,GAC5BD,EAAsB,OAAS,WAAWF,EAA0BhC,CAAC,EAAE,MAAM,EAC7EkC,EAAsB,YAAcF,EAA0BhC,CAAC,EAAE,YACjEkC,EAAsB,gBAAkBE,EAAUJ,EAA0BhC,CAAC,EAAE,GAAG,EAClFkC,EAAsB,gBAAkBE,EAAUJ,EAA0BhC,CAAC,EAAE,GAAG,EAClFkC,EAAsB,iBAAmBE,EAAUJ,EAA0BhC,CAAC,EAAE,IAAI,EACpFkC,EAAsB,kBAAoBE,EAAUJ,EAA0BhC,CAAC,EAAE,KAAK,EACtFkC,EAAsB,gBAAkBE,EAAUJ,EAA0BhC,CAAC,EAAE,GAAG,EAClFkC,EAAsB,YAAcF,EAA0BhC,CAAC,EAAE,KAEjE8B,EAAiB,KAAKI,CAAqB,GAEtC,WAAWF,EAA0BhC,CAAC,EAAE,MAAM,EAAI,IACvDkC,EAAwB,IAAIG,GAC5BH,EAAsB,OAAS,WAAWF,EAA0BhC,CAAC,EAAE,MAAM,EAC7EkC,EAAsB,YAAcF,EAA0BhC,CAAC,EAAE,YACjEkC,EAAsB,cAAgBF,EAA0BhC,CAAC,EAAE,KACnE+B,EAAmB,KAAKG,CAAqB,EAErD,CACA,KAAK,KAAK,gBAAgB,MAAQJ,EAClC,KAAK,KAAK,kBAAkB,MAAQC,CACxC,CAEA,KAAK,KAAK,SAAS,MAAQ,EAAE,SAAS,EAAE,IAAI,EAC5C,KAAK,KAAK,UAAU,MAAQ,EAAE,QAAQ,EAAE,IAAI,EAC5C,KAAK,KAAK,YAAY,MAAQ,EAAE,YAAY,EAAE,IAAI,EAClD,KAAK,KAAK,MAAM,MAAQ,EAAE,YAAY,EAAE,IAAI,EAC5C,KAAK,KAAK,eAAe,MAAQ,EAAE,qBAAqB,EAAE,IAAI,EAC9D,KAAK,KAAK,MAAM,MAAQ,EAAE,YAAY,EAAE,IAAI,EAC5C,KAAK,KAAK,aAAa,MAAQ,EAAE,sBAAsB,EAAE,IAAI,EAC7D,KAAK,KAAK,YAAY,MAAQ,EAAE,qBAAqB,EAAE,IAAI,EAC3D,KAAK,KAAK,OAAO,MAAQ,WAAW,SAAS,eAAe,QAAQ,EAAE,WAAW,EACjF,KAAK,KAAK,mBAAmB,MAAQ,WAAW,SAAS,eAAe,QAAQ,EAAE,WAAW,EAC7F,KAAK,KAAK,UAAU,MAAQ,WAAW,SAAS,eAAe,QAAQ,EAAE,WAAW,EAEpF,IAAI7P,EAAO,KACX,SAASkQ,EAAUE,EAAO,CACtB,OAAOA,IAAU,MACrB,CAFS7J,EAAA2J,EAAA,aAIT,KAAK,KAAK,YAAY,MAAQ,EAAE,MAAM,EAAE,IAAI,EAC5C,KAAK,KAAK,YAAY,MAAQ,EAAE,cAAc,EAAE,IAAI,EACpD,KAAK,KAAK,YAAY,MAAQ,EAAE,cAAc,EAAE,IAAI,EACpD,KAAK,KAAK,cAAc,MAAQ,EAAE,gBAAgB,EAAE,IAAI,EACxD,KAAK,KAAK,YAAY,MAAQ,EAAE,cAAc,EAAE,IAAI,EACpD,KAAK,KAAK,YAAY,MAAQ,EAAE,cAAc,EAAE,IAAI,EACpD,KAAK,KAAK,aAAa,MAAQ,EAAE,MAAM,EAAE,IAAI,EAC7C,KAAK,KAAK,cAAc,MAAQ,EAAE,gBAAgB,EAAE,IAAI,EACxD,KAAK,KAAK,aAAa,MAAQ,WAAW,EAAE,aAAa,EAAE,KAAK,CAAC,EACjE,KAAK,KAAK,cAAc,MAAQ,WAAW,EAAE,YAAY,EAAE,KAAK,CAAC,EACjE,KAAK,KAAK,gBAAgB,MAAQ,WAAW,EAAE,gBAAgB,EAAE,KAAK,CAAC,EAIvE,KAAK,KAAK,iBAAiB,MAAQ,WAAW,EAAE,mBAAmB,EAAE,KAAK,CAAC,EAC3E,KAAK,KAAK,gBAAgB,MAAQ,WAAW,EAAE,kBAAkB,EAAE,KAAK,CAAC,EAIzE,IAAIG,EADoB,SAAS,eAAe,mBAAmB,EACzB,iBAAiB,IAAI,EAC/D,GAAIA,EAAkB,OAAQ,CAC1B,IAAIC,EAA2B,CAAC,EAC5BC,EAAoB,MAAM,KAAKF,CAAiB,EAAE,IAAI/N,GAAO,CAC7D,IAAIyN,EAAQzN,EAAI,iBAAiB,IAAI,EACrC,MAAO,CACH,iBAAkByN,EAAM,CAAC,EAAE,UAC3B,YAAaA,EAAM,CAAC,EAAE,UACtB,OAAQA,EAAM,CAAC,EAAE,UACjB,IAAKA,EAAM,CAAC,EAAE,aAAa,KAAK,EAChC,IAAKA,EAAM,CAAC,EAAE,aAAa,KAAK,EAChC,KAAMA,EAAM,CAAC,EAAE,aAAa,MAAM,EAClC,IAAKA,EAAM,CAAC,EAAE,aAAa,KAAK,EAChC,MAAOA,EAAM,CAAC,EAAE,aAAa,OAAO,CACxC,CACJ,CAAC,EAED,IAAKjC,EAAI,EAAGA,EAAIyC,EAAkB,OAAQzC,IAAK,CAC3C,IAAI0C,EAAmB,IAAIC,GAC3BD,EAAiB,YAAc,WAAWD,EAAkBzC,CAAC,EAAE,MAAM,EACrE0C,EAAiB,YAAcD,EAAkBzC,CAAC,EAAE,YACpD0C,EAAiB,iBAAmBD,EAAkBzC,CAAC,EAAE,iBACzD0C,EAAiB,cAAgBN,EAAUK,EAAkBzC,CAAC,EAAE,GAAG,EACnE0C,EAAiB,cAAgBN,EAAUK,EAAkBzC,CAAC,EAAE,GAAG,EACnE0C,EAAiB,eAAiBN,EAAUK,EAAkBzC,CAAC,EAAE,IAAI,EACrE0C,EAAiB,gBAAkBN,EAAUK,EAAkBzC,CAAC,EAAE,KAAK,EACvE0C,EAAiB,cAAgBN,EAAUK,EAAkBzC,CAAC,EAAE,GAAG,EACnEwC,EAAkB,KAAKE,CAAgB,CAC3C,CACA,KAAK,KAAK,sBAAsB,MAAQF,CAE5C,CAGA,IAAII,EADyB,SAAS,eAAe,wBAAwB,EACzB,iBAAiB,IAAI,EACzE,GAAIA,EAAuB,OAAQ,CAC/B,IAAIC,EAAuB,CAAC,EACxBC,EAAuB,CAAC,EAExBC,EAAyB,MAAM,KAAKH,CAAsB,EAAE,IAAIpO,GAAO,CACvE,IAAIyN,EAAQzN,EAAI,iBAAiB,IAAI,EACrC,MAAO,CACH,KAAMyN,EAAM,CAAC,EAAE,UACf,YAAaA,EAAM,CAAC,EAAE,UACtB,OAAQA,EAAM,CAAC,EAAE,UACjB,IAAKA,EAAM,CAAC,EAAE,aAAa,KAAK,EAChC,IAAKA,EAAM,CAAC,EAAE,aAAa,KAAK,EAChC,KAAMA,EAAM,CAAC,EAAE,aAAa,MAAM,EAClC,IAAKA,EAAM,CAAC,EAAE,aAAa,KAAK,EAChC,MAAOA,EAAM,CAAC,EAAE,aAAa,OAAO,CACxC,CACJ,CAAC,EACGe,EAAiB,EAAGC,EAAiB,EACzC,IAAKjD,EAAI,EAAGA,EAAI+C,EAAuB,OAAQ/C,IAAK,CAChD,IAAIkC,EACA,WAAWa,EAAuB/C,CAAC,EAAE,MAAM,EAAI,GAC/CkC,EAAwB,IAAIgB,GAC5BhB,EAAsB,YAAchQ,EAAK,YAAY8Q,CAAc,EACnEd,EAAsB,gBAAkB,WAAWa,EAAuB/C,CAAC,EAAE,MAAM,EACnFkC,EAAsB,YAAca,EAAuB/C,CAAC,EAAE,YAC9DkC,EAAsB,cAAgBE,EAAUW,EAAuB/C,CAAC,EAAE,GAAG,EAC7EkC,EAAsB,cAAgBE,EAAUW,EAAuB/C,CAAC,EAAE,GAAG,EAC7EkC,EAAsB,eAAiBE,EAAUW,EAAuB/C,CAAC,EAAE,IAAI,EAC/EkC,EAAsB,gBAAkBE,EAAUW,EAAuB/C,CAAC,EAAE,KAAK,EACjFkC,EAAsB,cAAgBE,EAAUW,EAAuB/C,CAAC,EAAE,GAAG,EAC7EkC,EAAsB,KAAOa,EAAuB/C,CAAC,EAAE,KACvDgD,GAAgB,EAChBH,EAAc,KAAKX,CAAqB,GAEnC,WAAWa,EAAuB/C,CAAC,EAAE,MAAM,EAAI,IACpDkC,EAAwB,IAAIiB,GAC5BjB,EAAsB,YAAchQ,EAAK,YAAY+Q,CAAc,EAEnEf,EAAsB,gBAAkB,WAAWa,EAAuB/C,CAAC,EAAE,MAAM,EACnFkC,EAAsB,YAAca,EAAuB/C,CAAC,EAAE,YAC9DkC,EAAsB,KAAOa,EAAuB/C,CAAC,EAAE,KACvD8C,EAAc,KAAKZ,CAAqB,EACxCe,GAAgB,EAExB,CACA,KAAK,KAAK,cAAc,MAAQJ,EAChC,KAAK,KAAK,cAAc,MAAQC,CACpC,CACA5Q,EAAK,KAAK,KAAK,MAAQ,EAAE,WAAW,EAAE,IAAI,EAC1CA,EAAK,KAAK,SAAS,MAAQ,EAAE,YAAY,EAAE,IAAI,EAC/CA,EAAK,KAAK,UAAU,MAAQA,EAAK,KAAK,SAAS,MAAQA,EAAK,KAAK,KAAK,MAEtE,MAAM,mBAAmBsE,CAAQ,CAErC,CAEJ,EAj1EaiC,EAAApH,GAAA,iBAAAA,GAAN+R,GAAA,CADN,aAAW,cAAc,2CAA2C,GACxD/R,IAm1Eb,IAAMsR,GAAN,cAA+CU,EAA4B,CACvE,aAAc,CACV,MAAM,CACV,CACJ,EAJM5K,EAAAkK,GAAA,oCAMN,IAAMN,GAAN,cAA2CiB,EAAqB,CAC5D,aAAc,CACV,MAAM,CACV,CACJ,EAJM7K,EAAA4J,GAAA,gCAKN,IAAMF,GAAN,cAAyCoB,EAAmB,CACxD,aAAc,CACV,MAAM,CACV,CACJ,EAJM9K,EAAA0J,GAAA,8BAKN,IAAMe,GAAN,cAA2CM,EAA+B,CACtE,aAAc,CACV,MAAM,CACV,CACJ,EAJM/K,EAAAyK,GAAA,gCAKN,IAAMC,GAAN,cAAwCM,EAAoC,CACxE,aAAc,CACV,MAAM,CACV,CACJ,EAJMhL,EAAA0K,GAAA,6BCr4EN,IAAAO,GAA8E,WAE9E,IAAAC,EAA2C,WAC3CA,EAAiE,WACjEC,GAA+B,WASxB,IAAMC,GAAN,cAA4C,eAA8C,CAQ7F,aAAc,CACV,MAAM,EAeV,KAAU,KAAO,IAAIC,GAA4B,KAAK,QAAQ,EAd1D,IAAIC,EAEJC,GAAuB,KAAK,CACxB,SAAU,YAAS,IAAID,EAAU,CAAC,CAACE,GAAmB,OAAO,OAAO,EAAG,IAAK,GAAG,EAC3E,CAAC,CAACA,GAAmB,OAAO,UAAU,EAAG,IAAK,GAAG,EACjD,CAAC,CAACA,GAAmB,OAAO,QAAQ,EAAG,IAAK,GAAG,CACnD,CACJ,EAAGC,GAAY,CACX,KAAK,aAAeA,EAAS,QACjC,CAAC,CAIL,CAtBU,YAAa,CAAE,OAAOJ,GAA4B,OAAS,CAC3D,kBAAmB,CAAE,OAAOK,EAA4B,CACxD,YAAa,CAAE,OAAOC,GAA+B,OAAS,CAsBjE,gBAAuB,CAC1B,IAAIC,EAAO,KACPC,EAAkB,SAAS,eAAe,KAAK,SAAW,UAAU,EACpEC,EAAiB,SAAS,eAAe,KAAK,SAAW,SAAS,EAClEC,EAAwB,SAAS,eAAe,KAAK,SAAW,gBAAgB,EAChFC,EAAwB,SAAS,eAAe,KAAK,SAAW,gBAAgB,EAChFC,EAAsB,SAAS,eAAe,KAAK,SAAW,cAAc,EAC5EC,EAAsB,SAAS,eAAe,KAAK,SAAW,cAAc,EAC5EC,EAAqB,SAAS,eAAe,KAAK,SAAW,aAAa,EAC9E,MAAI,iBAAc,EAAEN,CAAe,EAAE,IAAI,CAAC,MAAK,iBAAc,EAAEC,CAAc,EAAE,IAAI,CAAC,EAAG,CACnF,KAAK,KAAK,gBAAgB,MAAQ,KAAK,KAAK,sBAAsB,MAAQ,GAC1E,MACJ,CACA,SAASM,EAAqBC,EAAS,CACnC,IAAMC,EAAW,EAAED,CAAO,EAAE,IAAI,EAChC,OAAOC,EAAS,OACVA,EAAS,MAAM,GAAG,EAAE,IAAIC,GAAU,SAASA,EAAQ,EAAE,CAAC,EACtD,CAAC,CACX,CALSC,EAAAJ,EAAA,wBAOT,IAAMK,EAAeL,EAAqBF,CAAmB,EACvDQ,EAAeN,EAAqBH,CAAmB,EACvDU,EAAiBP,EAAqBJ,CAAqB,EAC3DY,EAAiBR,EAAqBL,CAAqB,EAC3Dc,EAAcT,EAAqBD,CAAkB,EAErDW,EAAc,IAAI,IAAIL,CAAY,EAClCM,EAAc,IAAI,IAAIL,CAAY,EAClCM,EAAgB,IAAI,IAAIL,CAAc,EACtCM,EAAgB,IAAI,IAAIL,CAAc,EACtCM,EAAa,IAAI,IAAIL,CAAW,EAEtC,QAASM,KAAYvB,EAAK,aAAc,CACpC,GAAM,CAAE,WAAAwB,EAAY,WAAAC,EAAY,aAAAC,EAAc,aAAAC,EAAc,UAAAC,EAAW,GAAAC,CAAG,EAAIN,EAGxEO,EACFZ,EAAY,IAAIM,CAAU,GAC1BL,EAAY,IAAIM,CAAU,GAC1BL,EAAc,IAAIM,CAAY,GAC9BL,EAAc,IAAIM,CAAY,GAC9BL,EAAW,IAAIM,CAAS,EAExBG,EAAwB/B,EAAK,KAAK,sBAAsB,MACxDgC,EAAkBD,EAAwBA,EAAsB,MAAM,GAAG,EAAE,IAAI,MAAM,EAAI,CAAC,EAEzFD,EAKIE,EAAgB,SAASH,CAAE,GAC5BG,EAAgB,KAAKH,CAAE,EAJ3BG,EAAkBA,EAAgB,OAAOC,GAAOA,IAAQJ,CAAE,EAQ9D7B,EAAK,KAAK,sBAAsB,MAAQgC,EAAgB,KAAK,GAAG,CACpE,CACJ,CAGO,wBACP,CACI,IAAIhC,EAAO,KACPkC,EAA2B,SAAS,eAAe,KAAK,SAAW,uBAAuB,EAC1FC,EAAsB,EAAED,CAAwB,EAAE,IAAI,EAC1D,IAAIE,EAAUD,EAAoB,MAAM,GAAG,EACvCE,EAAoB,CAAC,EACrBF,EAAoB,QACpBC,EAAQ,QAAQzB,GAAU,CACtB0B,EAAkB,KAAK,SAAS1B,CAAM,CAAC,CAC3C,CAAC,EACL,IAAIV,EAAkB,SAAS,eAAe,KAAK,SAAW,UAAU,EACpEC,EAAiB,SAAS,eAAe,KAAK,SAAW,SAAS,EAClEoC,EAAU,EAAEpC,CAAc,EAAE,IAAI,EAChCqC,EAAW,EAAEtC,CAAe,EAAE,IAAI,EAEtC,IAAIuC,EAAkB,CAAC,EACvB,IAAIC,EAAoBzC,EAAK,KAAK,sBAAsB,MAC5ByC,EAAkB,MAAM,GAAG,EACjC,QAAQ9B,GAAU,CACpC6B,EAAgB,KAAK,SAAS7B,CAAM,CAAC,CACzC,CAAC,EAED+B,GAAe,KAAK,CACpB,EAAG7C,GAAY,CAEX,QAAS8C,KAAS9C,EAAS,SAAU,CACjC,IAAI+C,EAAuB/C,EAAS,SAAS8C,CAAK,EAAE,cAChDE,EAAkBhD,EAAS,SAAS8C,CAAK,EAAE,SAC3CG,EAAiBjD,EAAS,SAAS8C,CAAK,EAAE,QAC1CN,EAAkB,QAAQO,CAAoB,IAAM,IAAMC,GAAmBN,GAAYO,GAAkBR,IAC3GG,EAAoBzC,EAAK,KAAK,sBAAsB,MAChDyC,GAAqB,KACOA,EAAkB,MAAM,GAAG,EACjC,QAAQ9B,GAAU,CACpC6B,EAAgB,KAAK,SAAS7B,CAAM,CAAC,CACzC,CAAC,EACD6B,EAAkBA,EAAgB,OAAO7B,GAAUA,IAAWd,EAAS,SAAS8C,CAAK,EAAE,aAAa,EACpG3C,EAAK,KAAK,sBAAsB,MAAQwC,EAAgB,KAAK,GAAG,GAG5E,CACAxC,EAAK,KAAK,gBAAgB,MAAQwC,EAAgB,KAAK,GAAG,CAC9D,CAAC,CACL,CACU,mBAAoB,CAC1B,IAAIxC,EAAO,KACPM,EAAsB,SAAS,eAAe,KAAK,SAAW,cAAc,EAC5EyC,EAAU,MAAM,kBAAkB,EACtC,SAAE,IAAI,KAAK,iBAAiB,EAAE,SAAS,SAAS,EAChDA,EAAQ,KACJ,CACI,MAAO,oBACP,SAAU,8BACV,KAAM,+BACN,QAAS,IAAM,CACX,MAAI,iBAAc/C,EAAK,KAAK,QAAQ,KAAK,EAAG,IACxC,eAAY,uBAAuB,EACnC,MACJ,CACA,MAAI,iBAAcA,EAAK,KAAK,SAAS,KAAK,EAAG,IACzC,eAAY,wBAAwB,EACpC,MACJ,CACA,MAAI,iBAAcA,EAAK,KAAK,QAAQ,KAAK,EAAG,IACxC,eAAY,uBAAuB,EACnC,MACJ,CACA,MAAI,iBAAcA,EAAK,KAAK,aAAa,KAAK,EAAG,IAC7C,eAAY,6BAA6B,EACzC,MACJ,CACA,MAAI,iBAAcA,EAAK,KAAK,eAAe,KAAK,EAAG,IAC/C,eAAY,+BAA+B,EAC3C,MACJ,CACA,IAAImC,EAAsBnC,EAAK,KAAK,gBAAgB,MACpD,IAAIqC,EAAoB,CAAC,EACrBD,EAAUD,EAAoB,MAAM,GAAG,EACvCA,EAAoB,QACpBC,EAAQ,QAAQzB,GAAU,CACtB0B,EAAkB,KAAK,SAAS1B,CAAM,CAAC,CAC3C,CAAC,EACLX,EAAK,QAAU,EACfA,EAAK,eAAiBqC,EAAkB,UACxC,WACI,uDACA,IAAM,CACF,SAASW,EAAeC,EAAe,CACnC,OAAO,IAAI,QAAeC,GAAY,CAClC,IAAIC,EAAa,IAAIC,GACjB,EACAH,EACAjD,EAAK,KAAK,QAAQ,MAClBA,EAAK,KAAK,SAAS,MACnBA,EAAK,KAAK,QAAQ,MAClBA,EAAK,KAAK,eAAe,MACzBA,EAAK,KAAK,aAAa,KAC3B,EACAmD,EAAW,QAAQ,GAAG,aAAc,UAAY,CAC5C,EAAE,kBAAkB,EAAE,KAAK,CAC/B,CAAC,EACDA,EAAW,WAAW,EACtBA,EAAW,QAAQ,GAAG,cAAe,UAAY,CAC7CnD,EAAK,SAAW,EACZA,EAAK,SAAWqC,EAAkB,WAClC,iBAAc,mBAAmB,EACrCa,EAAQ,CACZ,CAAC,CACL,CAAC,CACL,CAtBStC,EAAAoC,EAAA,kBAuBT,SAASK,GAAiB,CACtB,OAAO,IAAI,QAAeH,GAAY,CAClC,IAAII,EAAc,IAAIC,GAClBpB,EACAnC,EAAK,KAAK,SAAS,MACnBA,EAAK,KAAK,QAAQ,KACtB,EACAsD,EAAY,WAAW,EACvBA,EAAY,QAAQ,GAAG,cAAe,UAAY,CAC9CtD,EAAK,eAAe,EACpBkD,EAAQ,CACZ,CAAC,CACL,CAAC,CACL,CAbStC,EAAAyC,EAAA,kBAcT,SAAeG,EAAiBnB,EAAmB,QAAAoB,EAAA,sBAC/C,QAASd,EAAQ,EAAGA,EAAQN,EAAkB,OAAQM,IAElD,MAAMK,EAAeX,EAAkBM,CAAK,CAAC,EAE7C3C,EAAK,KAAK,SAAS,OAAS,GAC5B,MAAMqD,EAAe,EAErBrD,EAAK,eAAe,CAC5B,GATeY,EAAA4C,EAAA,oBAUf,QAAQ,IAAInB,CAAiB,EAC7BmB,EAAiBnB,CAAiB,EAE9BrC,EAAK,KAAK,SAAS,OAAS,OAC5B,iBAAc,oBAAoB,EAEtCA,EAAK,KAAK,sBAAsB,MAAQA,EAAK,KAAK,gBAAgB,MAAQ,EAI9E,CACJ,CACJ,CACJ,CACJ,EACO+C,CACX,CACO,WAAWW,EAAyB,CACvC,MAAM,WAAW,EACjB,IAAI1D,EAAO,QAEX,eAA+B,CAC3B,QAAS2D,GAA0B,QAAU,oBAC7C,OAAQ,MACR,KAAM,CACN,EACA,MAAO,GACP,UAAY9D,GAAa,CACrBG,EAAK,WAAaH,EAClB+D,GAAuB,KAAK,CAC5B,EAAG/D,GAAY,CACX,IAAIgE,EAAQ,IAAI,KAAK7D,EAAK,UAAU,EAChC8D,EAAaD,EAAM,SAAS,EAC5BE,EAAYF,EAAM,YAAY,EAC9BG,EAAU,EACd,QAASrB,KAAS9C,EAAS,SACvB,GAAIA,EAAS,SAAS8C,CAAK,EAAE,UAAY,EAAG,CACxCqB,EAAUnE,EAAS,SAAS8C,CAAK,EAAE,OACnC,KACJ,CAEJ,IAAIsB,EAAU,IAAI,KAAKF,EAAWD,EAAYE,CAAO,EACjDE,EAAcD,EAAQ,YAAY,EAAE,SAAS,EAC7CE,GAAgBF,EAAQ,SAAS,EAAI,GAAG,SAAS,EACjDG,EAAaH,EAAQ,QAAQ,EAAE,SAAS,EACxCI,EAAY,IAAI,KAAKN,EAAWD,EAAYE,CAAO,EACvDK,EAAU,SAASA,EAAU,SAAS,EAAI,CAAC,EAC3CA,EAAU,QAAQA,EAAU,QAAQ,EAAI,CAAC,EACzC,IAAIC,EAAmBD,EAAU,YAAY,EAAE,SAAS,EACpDE,GAAqBF,EAAU,SAAS,EAAI,GAAG,SAAS,EACxDG,EAAkBH,EAAU,QAAQ,EAAE,SAAS,EAC/CI,EAAmBN,EAAa,SAAS,EAAG,GAAG,EAAI,IAAMC,EAAW,SAAS,EAAG,GAAG,EAAI,IAAMF,EAC7FQ,EAAkBH,EAAkB,SAAS,EAAG,GAAG,EAAI,IAAMC,EAAgB,SAAS,EAAG,GAAG,EAAI,IAAMF,EACtG,KAAK,MAAM,IACXtE,EAAK,KAAK,QAAQ,MAAQyE,EAC1BzE,EAAK,KAAK,aAAa,MAAQyE,EAC/BzE,EAAK,KAAK,eAAe,MAAQ0E,EAEzC,CAAC,CACL,CACJ,CAAC,EAKD,KAAK,mBAAmB,KAAK,EAC7B,KAAK,WAAW,KAAK,EACrB,KAAK,mBAAmB,KAAK,EAC7B,KAAK,aAAa,KAAK,EACvB,KAAK,mBAAmB,KAAK,EAC7B,KAAK,YAAY,KAAK,EACtB,KAAK,eAAe,KAAK,EAGzB,IAAIzE,EAAkB,SAAS,eAAe,KAAK,SAAW,UAAU,EACpEC,EAAiB,SAAS,eAAe,KAAK,SAAW,SAAS,EACtE,IAAIyE,EAAiB,IAAI,iBAAc,EAAE1E,CAAe,CAAC,EACrD2E,EAAgB,IAAI,iBAAc,EAAE1E,CAAc,CAAC,EACjD2E,EAAmB,CACrB,UACA,WACA,QACA,QACA,MACA,OACA,OACA,SACA,YACA,UACA,WACA,UACJ,EACA,IAAIhB,EAAQ,IAAI,KAAK7D,EAAK,UAAU,EAChC+D,EAAYF,EAAM,YAAY,EAC9BC,EAAaD,EAAM,SAAS,EAEhC,QAASiB,EAAI,EAAGA,EAAID,EAAO,OAAQC,IAC/BH,EAAe,QAAQ,CAAE,GAAKG,EAAG,SAAS,EAAG,KAAOD,EAAOC,CAAC,EAAG,SAAS,CAAG,CAAC,EAEhFH,EAAe,UAAUb,EAAW,SAAS,CAAC,EAC9C,QAASgB,EAAI,GAAIA,EAAI,EAAGA,IACpBF,EAAc,QAAQ,CAAE,IAAKb,EAAYe,GAAG,SAAS,EAAG,MAAOf,EAAYe,GAAG,SAAS,CAAG,CAAC,EAE/FF,EAAc,UAAUb,EAAU,SAAS,CAAC,EAG5C,IAAIxD,EAAqB,SAAS,eAAe,KAAK,SAAW,aAAa,EAC1EJ,EAAwB,SAAS,eAAe,KAAK,SAAW,gBAAgB,EAChFC,EAAwB,SAAS,eAAe,KAAK,SAAW,gBAAgB,EAChFC,EAAsB,SAAS,eAAe,KAAK,SAAW,cAAc,EAC5EC,EAAsB,SAAS,eAAe,KAAK,SAAW,cAAc,EAC5EyE,EAAwB,SAAS,eAAe,KAAK,SAAW,gBAAgB,EAChFC,EAAsB,SAAS,eAAe,KAAK,SAAW,cAAc,EAC5EC,EAAyB,SAAS,eAAe,KAAK,SAAW,iBAAiB,EAEtF,QAAQ,IAAI,KAAK,QAAQ,EACzB,EAAE,SAAS,KAAK,yBAAyB,EAAE,GAAG,QAAS,SAAgBC,EAAG,QAAAzB,EAAA,sBACtE,EAAE,eAAe,EAAE,KAAK,CAG5B,GAAC,EAGD,EAAExD,CAAe,EAAE,GAAG,SAAU,UAAkB,QAAAwD,EAAA,0BAC1C,iBAAc,EAAExD,CAAe,EAAE,IAAI,CAAC,MAAK,iBAAc,EAAEC,CAAc,EAAE,IAAI,CAAC,KAChFF,EAAK,KAAK,gBAAgB,MAAQ,IACtCA,EAAK,eAAe,EACpBA,EAAK,uBAAuB,CAChC,GAAC,EACD,EAAEE,CAAc,EAAE,GAAG,SAAU,UAAkB,QAAAuD,EAAA,0BACzC,iBAAc,EAAExD,CAAe,EAAE,IAAI,CAAC,MAAK,iBAAc,EAAEC,CAAc,EAAE,IAAI,CAAC,KAChFF,EAAK,KAAK,gBAAgB,MAAQ,IAEtCA,EAAK,eAAe,EACpBA,EAAK,uBAAuB,CAChC,GAAC,EACD,EAAEG,CAAqB,EAAE,GAAG,SAAU,UAAkB,QAAAsD,EAAA,sBACpDzD,EAAK,eAAe,EACpBA,EAAK,uBAAuB,CAEhC,GAAC,EACD,EAAEK,CAAmB,EAAE,GAAG,SAAU,UAAkB,QAAAoD,EAAA,sBAClDzD,EAAK,eAAe,EACpBA,EAAK,uBAAuB,CAEhC,GAAC,EACD,EAAEM,CAAmB,EAAE,GAAG,SAAU,UAAkB,QAAAmD,EAAA,sBAClDzD,EAAK,eAAe,EACpBA,EAAK,uBAAuB,CAChC,GAAC,EACD,EAAEI,CAAqB,EAAE,GAAG,SAAU,UAAkB,QAAAqD,EAAA,sBACpDzD,EAAK,eAAe,EACpBA,EAAK,uBAAuB,CAChC,GAAC,EACD,EAAEO,CAAkB,EAAE,GAAG,SAAU,UAAkB,QAAAkD,EAAA,sBACjDzD,EAAK,eAAe,EACpBA,EAAK,uBAAuB,CAEhC,GAAC,EAED,EAAE+E,CAAqB,EAAE,GAAG,SAAU,UAAkB,QAAAtB,EAAA,sBAEpD,GAAIzD,EAAK,KAAK,eAAe,YAAcA,EAAK,KAAK,aAAa,YAAa,IAC3E,eAAY,oDAAoD,EAChEA,EAAK,KAAK,eAAe,MAAQ,GACjC,MACJ,CAEJ,GAAC,EACD,EAAEgF,CAAmB,EAAE,GAAG,SAAU,UAAkB,QAAAvB,EAAA,sBAElD,GAAIzD,EAAK,KAAK,eAAe,YAAcA,EAAK,KAAK,aAAa,YAAa,IAC3E,eAAY,oDAAoD,EAChEA,EAAK,KAAK,aAAa,MAAQ,GAC/B,MACJ,CACJ,GAAC,CACL,CACU,kBAAmB,CACzB,IAAImF,EAAM,MAAM,iBAAiB,EACjC,OAAAA,EAAI,MAAQA,EAAI,MAAQ,IACjBA,CACX,CACJ,EApZavE,EAAApB,GAAA,iCAAAA,GAAN4F,GAAA,CADN,cAAW,cAAc,2DAA2D,GACxE5F",
  "names": ["import_corelib", "import_q", "import_q", "PayrollDialog", "Wiz", "WizEmployeeRowId", "PayYear", "PayMonth", "PayDateWiz", "PayPeriodStart", "PayPeriodEnd", "PayrollForm", "PayrollRow", "PayrollService", "opt", "ot", "self", "tabId", "node3", "divNode", "node4", "textnode", "node5", "PayRollGrid", "TableNode", "TableHead", "TableBody", "theadnode", "TableFoot", "header1", "header2", "header3", "header4", "textnode1", "textnode2", "textnode3", "textnode4", "EmployerContributionsNode", "EmployerContributionsTableHead", "EmployerContributionsTableBody", "EmployerContributionsTableFoot", "EmployerContributionsDescriptionNode", "EmployerContributionsHeader1", "EmployerContributionsHeader2", "EmployerContributionstextnode1", "EmployerContributionstextnode2", "div1", "NplAbsentTableContainer", "OvertimeTableContainer", "EarlyLeavingTableContainer", "NplAbsentTable", "NplAbsentTableHead", "tableData", "NplAbsentTableBody", "row", "tr", "OvertimeTable", "OvertimeTableHead", "OtData", "OvertimeTableBody", "EarlyLeavingTable", "EarlyLeavingTableHead", "ShiftData", "EarlyLeavingTableBody", "div2", "AllowanceDeductionContainer", "AllowanceDeductionTable", "AllowanceDeductionHead", "AllowanceDeductionBody", "MoneyClaimingContainer", "MoneyClaimingTable", "MoneyClaimingHead", "MoneyClaimingBody", "EarningDeductionContainer", "EarningDeductionTable", "EarningDeductionHead", "EarningDeductionBody", "div3", "htmlContent1", "htmlContent2", "Container2", "govPayment", "e", "__async", "nplDates", "PcbSubjectionService", "response", "index", "dict", "keys", "j", "key", "NewKey", "EpfSubjectionService", "BufferDict", "EisSubjectionService", "HrdfSubjectionService", "SocsoSubjectionService", "Overtime", "Eis", "Epf", "Hrdf", "Pcb", "Socso", "today", "birthday", "age", "lastBirthday", "timeSinceLastBirthday", "nextBirthday", "yearLengthInMilliseconds", "fractionalAge", "asPanel", "isValidDate", "dateStr", "date", "year", "month", "day", "__name", "gettingDatestring", "AnnouncementWizardService", "CompanySettingsService", "todayMonth", "todayYear", "dateFormat", "DateObj", "DateObjYear", "DateObjMonth", "DateObjDay", "LastMonth", "LastMonthObjYear", "LastMonthObjMonth", "LastMonthObjDay", "LatestDateFormat", "LastMonthFormat", "EmployeeRowIdValue", "ElementsArray", "EmployeeProfileService", "PayPeriodStartElement", "PayPeriodEndElement", "EmployeeRowIdElement", "PayMonthElement", "PayYearElement", "HrdfClass", "EisClass", "SocsoClass", "EpfClass", "MaritalStatusElement", "WorkingSpouse", "ChildrenUnderEighteen", "ChildrenInUniversity", "DisabledChild", "DisabledChildInUniversity", "PayMonthEditor", "PayYearEditor", "months", "EmployeeRowIdEditor", "listOfDicts", "rowBuffer", "info", "bufferRow", "BasicPay", "totalNplAbsent", "totalTimeDeduction", "OtElement", "totalOt", "totalNplTimeDeduction", "totalAllowance", "totalDeductions", "subjectEis", "subjectEpf", "subjectHrdf", "subjectPcb", "subjectSocso", "amountCell", "amount", "WorkSpouse", "NplDayRate", "NplHrRate", "AbsentDayRate", "NplDay", "NplHr", "AbsentDay", "Ot1xRate", "Ot1_5xRate", "Ot2xRate", "OtOneTime", "OtOnePointFiveTime", "OtTwoTime", "EarlyLeavingRate", "LateArrivalRate", "EarlyLeavingMinutes", "LateArrivalMinutes", "TotalAllowance", "TotalDeduction", "TotalOt", "GrossWages", "totalEmployeeContrib", "totalEmployerContrib", "NettWage", "setDate", "PayrollEarningsNode", "PersonNameElement", "ExternalDeductions", "ExternalEarnings", "EarningsString", "DeductionsString", "FullAttendance", "HaveUnpaidLeave", "HaveHospitalisationLeave", "HaveSickLeave", "HaveAnnualLeave", "HaveMaternityLeave", "HavePaternityLeave", "HaveMarriageLeave", "HaveCompassionateLeave", "HaveEmergencyLeave", "HaveGatepassLeave", "NoLate", "NoAbsence", "NoEarlyLeaving", "PayrollDate", "wait", "criteria", "LeaveApplicationService", "LeaveApplicationRow", "res", "leaveReasonId", "roundedOtRate", "otRate1_5x", "otRate2_0x", "EmployeeName", "EmployeeAllowanceService", "EmployeeAllowanceRow", "timestamp", "rows", "numRows", "i", "OTApplicationService", "OTApplicationRow", "WeekendTime", "WeekdayTime", "PublicHolidayTime", "TwoTimes", "OnePointFiveTimes", "data", "NoPaidLeaveService", "NoPaidLeaveRow", "NoPaidLeaveDays", "FixedDeductionService", "FixedDeductionRow", "TotalDeductions", "MoneyClaimApplicationService", "MoneyClaimApplicationRow", "EmployeeEarlyLeavingService", "EmployeeEarlyLeavingRow", "EmployeeLateService", "EmployeeLateRow", "LateMinutes", "arrayOfDict", "input", "extractedText", "trimmedString", "buttons", "CssLink", "PrevLength", "ExtraEarningDeductionRows", "ExtraEarningList", "ExtraDeductionList", "ExtraEarningDeductionData", "cells", "AllowanceDeductionRow", "ConcretePayrollEarningsRow", "toBoolean", "ConcretePayrollDeductionsRow", "value", "MoneyClaimingRows", "MoneyClaimingList", "MoneyClaimingData", "MoneyClaimingRow", "ConcreteMoneyClaimApplicationRow", "AllowanceDeductionRows", "AllowanceList", "DeductionList", "AllowanceDeductionData", "allowanceIndex", "deductionIndex", "ConcreteEmployeeAllowanceRow", "ConcreteFixedDeductionRow", "__decorateClass", "PayslipPaidMoneyClaimingRow", "PayrollDeductionsRow", "PayrollEarningsRow", "PayslipPaidOneTimeAllowanceRow", "PayslipDeductedOneTimeDeductionsRow", "import_corelib", "import_q", "import_corelib", "PayrollGeneratingWizardDialog", "PayrollGeneratingWizardForm", "criteria", "EmployeeProfileService", "EmployeeProfileRow", "response", "PayrollGeneratingWizardRow", "PayrollGeneratingWizardService", "self", "PayMonthElement", "PayYearElement", "OccupationListElement", "DepartmentListElement", "DivisionListElement", "JobGradeListElement", "SectionListElement", "parseListFromElement", "element", "valueStr", "number", "__name", "JobGradeList", "DivisionList", "DepartmentList", "OccupationList", "SectionList", "jobGradeSet", "divisionSet", "departmentSet", "occupationSet", "sectionSet", "employee", "JobGradeID", "DivisionID", "DepartmentID", "OccupationID", "SectionID", "Id", "found", "employeeRowListBuffer", "employeeRowList", "num", "EmployeeRowIdListElement", "EmployeeRowIdString", "numbers", "EmployeeRowIdList", "PayYear", "PayMonth", "EmployeeRowList", "EmployeeRowString", "PayrollService", "index", "currentEmployeeRowId", "currentPayMonth", "currentPayYear", "buttons", "handleEmployee", "EmployeeRowId", "resolve", "PayrollDlg", "PayrollDialog", "handleDownload", "DownloadWiz", "PayrollWizardDialog", "processEmployees", "__async", "asPanel", "AnnouncementWizardService", "CompanySettingsService", "today", "todayMonth", "todayYear", "PayDate", "DateObj", "DateObjYear", "DateObjMonth", "DateObjDay", "LastMonth", "LastMonthObjYear", "LastMonthObjMonth", "LastMonthObjDay", "LatestDateFormat", "LastMonthFormat", "PayMonthEditor", "PayYearEditor", "months", "i", "PayPeriodStartElement", "PayPeriodEndElement", "EmployeeRowListElement", "e", "opt", "__decorateClass"]
}
