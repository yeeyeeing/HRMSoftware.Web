import{c as j,d as V}from"./chunk-U2RRK6JY.js";import{a as Y}from"./chunk-K2UT2MVJ.js";import{a as h}from"./chunk-DNINIZJD.js";import{c as r,g as o,h as X,j as W,k as u}from"./chunk-L3ECGIWB.js";var w=o(u(),1),Z;(e=>(e.baseUrl="EmployeeGroup/EmployeeGroup",e.Methods={Create:"EmployeeGroup/EmployeeGroup/Create",Update:"EmployeeGroup/EmployeeGroup/Update",Delete:"EmployeeGroup/EmployeeGroup/Delete",Retrieve:"EmployeeGroup/EmployeeGroup/Retrieve",List:"EmployeeGroup/EmployeeGroup/List",ListGroup:"EmployeeGroup/EmployeeGroup/ListGroup"},["Create","Update","Delete","Retrieve","List","ListGroup"].forEach(t=>{e[t]=function(n,a,d){return(0,w.serviceRequest)(e.baseUrl+"/"+t,n,a,d)}})))(Z||(Z={}));var T=class{};r(T,"EmployeeGroupColumns"),T.columnsKey="EmployeeGroup.EmployeeGroup";var v=o(h(),1);var te=o(h(),1),re=o(Y(),1);var _=o(h(),1),ee=o(Y(),1),z=o(u(),1);var A=o(u(),1);var S=class extends ee.GridEditorDialog{constructor(){super();this.form=new R(this.idPrefix)}getFormKey(){return R.formKey}getLocalTextPrefix(){return l.localTextPrefix}dialogOpen(e){super.dialogOpen(e);var t=this;this.isNew()==!1&&j.List({},n=>{for(var a in n.Entities)if(n.Entities[a].Id==parseInt(this.form.ShiftId.value)){var d=new V;d.loadByIdAndOpenDialog(this.form.ShiftId.value),d.set_readOnly(!0)}}),$(this.form.ShiftStartDate.element).on("change",function(n){(0,A.isEmptyOrNull)(t.form.ShiftEndDate.value)||(0,A.isEmptyOrNull)(t.form.ShiftStartDate.value)||t.form.ShiftStartDate.valueAsDate>=t.form.ShiftEndDate.valueAsDate&&((0,z.alertDialog)("Shift Start Date cannot be later than Shift End Date"),t.form.ShiftStartDate.value="")}),$(this.form.ShiftEndDate.element).on("change",function(n){(0,A.isEmptyOrNull)(t.form.ShiftEndDate.value)||(0,A.isEmptyOrNull)(t.form.ShiftStartDate.value)||t.form.ShiftStartDate.valueAsDate>=t.form.ShiftEndDate.valueAsDate&&((0,z.alertDialog)("Shift Start Date cannot be later than Shift End Date"),t.form.ShiftEndDate.value="")}),$(this.form.ShiftId.element).on("change",function(n){j.List({},a=>{for(var d in a.Entities)if(a.Entities[d].Id==this.form.ShiftId.value){var p=new V;p.loadByIdAndOpenDialog(this.form.ShiftId.value),p.set_readOnly(!0)}})})}save_submitHandler(e){super.save_submitHandler(e)}};r(S,"EmployeeGroupShiftEditDialog"),S=X([_.Decorators.registerClass("HRMSoftware.EmployeeGroup.EmployeeGroupShiftEditDialog")],S);var oe=o(u(),1),ie=o(u(),1);var D=class extends re.GridEditorBase{getColumnsKey(){return x.columnsKey}getDialogType(){return S}getLocalTextPrefix(){return l.localTextPrefix}getAddButtonCaption(){return"Add Shift"}validateEntity(i,e){function t(p){return new Date(p)}r(t,"parseDate");function n(p,y,L,b){return p<b&&y>=L}r(n,"areShiftsOverlapping");function a(p){var y=!1;for(let E=0;E<p.length;E++){var L=t(p[E].ShiftStartDate),b=t(p[E].ShiftEndDate);for(let I=0;I<p.length;I++)if(E!=I){var Q=t(p[I].ShiftStartDate),M=t(p[I].ShiftEndDate);if(n(L,b,Q,M)){var F="There is a clash between "+p[E].Shift+" and "+p[I].Shift;(0,ie.alertDialog)(F),y=!0;break}}if(y==!0)break}return y}if(r(a,"areAnyShiftsOverlapping"),!super.validateEntity(i,e))return!1;var d=e!=null?e:i[this.getIdProperty()];return console.log(this.value),(0,oe.getLookupAsync)("ShiftRow.ShiftRow").then(p=>{var Q;var y=(Q=this.view)==null?void 0:Q.getItemById(d);let L=i.ShiftId.toString(),b=parseInt(L);i.ShiftId=b,console.log(i),console.log(y),console.log(d),y&&(y.Shift=p.itemById[i.ShiftId].ShiftName,a(this.value)==!0&&(this.value=this.value.slice(0,-1),console.log(this.value),this.view.refresh()),this.value=this.value.sort((M,F)=>new Date(M.ShiftStartDate).getTime()-new Date(F.ShiftStartDate).getTime()))}),!0}};r(D,"EmployeeGroupShiftEditor"),D=X([te.Decorators.registerEditor("HRMSoftware.EmployeeGroup.EmployeeGroupShiftEditor")],D);var se=o(u(),1);var P=class extends v.PrefixedContext{constructor(i){if(super(i),!P.init){P.init=!0;var e=v.StringEditor,t=v.TextAreaEditor,n=v.LookupEditor,a=D;(0,se.initFormType)(P,["Name",e,"Description",t,"ShiftColor",e,"EmployeeList",n,"Shifts",a,"ActualShifts",a])}}},C=P;r(C,"EmployeeGroupForm"),C.formKey="EmployeeGroup.EmployeeGroup";var K=class{};r(K,"EmployeeGroupingsColumns"),K.columnsKey="EmployeeGroup.EmployeeGroupings";var g=o(h(),1),ne=o(u(),1);var H=class extends g.PrefixedContext{constructor(i){if(super(i),!H.init){H.init=!0;var e=g.IntegerEditor,t=g.DateEditor;(0,ne.initFormType)(H,["IsActive",e,"InsertUserId",e,"UpdateUserId",e,"DeleteUserId",e,"InsertDate",t,"UpdateDate",t,"DeleteDate",t,"EmployeeRowId",e,"EmployeeGroupId",e])}}},k=H;r(k,"EmployeeGroupingsForm"),k.formKey="EmployeeGroup.EmployeeGroupings";var ae=o(u(),1);var m=class{};r(m,"EmployeeGroupingsRow"),m.idProperty="Id",m.isActiveProperty="IsActive",m.localTextPrefix="EmployeeGroup.EmployeeGroupings",m.deletePermission="Administration:HumanResources",m.insertPermission="Administration:HumanResources",m.readPermission="*",m.updatePermission="Administration:HumanResources",m.Fields=(0,ae.fieldsProxy)();var ue=o(u(),1),pe;(e=>(e.baseUrl="EmployeeGroup/EmployeeGroupings",e.Methods={Create:"EmployeeGroup/EmployeeGroupings/Create",Update:"EmployeeGroup/EmployeeGroupings/Update",Delete:"EmployeeGroup/EmployeeGroupings/Delete",Retrieve:"EmployeeGroup/EmployeeGroupings/Retrieve",List:"EmployeeGroup/EmployeeGroupings/List"},["Create","Update","Delete","Retrieve","List"].forEach(t=>{e[t]=function(n,a,d){return(0,ue.serviceRequest)(e.baseUrl+"/"+t,n,a,d)}})))(pe||(pe={}));var q=o(u(),1);var c=class{static getLookup(){return(0,q.getLookup)("EmployeeGroup.EmployeeGroup")}static getLookupAsync(){return W(this,null,function*(){return(0,q.getLookupAsync)("EmployeeGroup.EmployeeGroup")})}};r(c,"EmployeeGroupRow"),c.idProperty="Id",c.isActiveProperty="IsActive",c.nameProperty="Name",c.localTextPrefix="EmployeeGroup.EmployeeGroup",c.lookupKey="EmployeeGroup.EmployeeGroup",c.deletePermission="Administration:HumanResources",c.insertPermission="Administration:HumanResources",c.readPermission="*",c.updatePermission="Administration:HumanResources",c.Fields=(0,q.fieldsProxy)();var x=class{};r(x,"EmployeeGroupShiftColumns"),x.columnsKey="EmployeeGroup.EmployeeGroupShift";var U=o(h(),1),de=o(u(),1);var O=class extends U.PrefixedContext{constructor(i){if(super(i),!O.init){O.init=!0;var e=U.LookupEditor,t=U.DateEditor;(0,de.initFormType)(O,["ShiftId",e,"ShiftStartDate",t,"ShiftEndDate",t])}}},R=O;r(R,"EmployeeGroupShiftForm"),R.formKey="EmployeeGroup.EmployeeGroupShift";var N=class{};r(N,"EmployeeGroupShiftPatternColumns"),N.columnsKey="EmployeeGroup.EmployeeGroupShiftPattern";var G=o(h(),1),le=o(u(),1);var J=class extends G.PrefixedContext{constructor(i){if(super(i),!J.init){J.init=!0;var e=G.IntegerEditor,t=G.DateEditor;(0,le.initFormType)(J,["EmployeeRowId",e,"InsertDate",t,"ShiftStartDate",t,"ShiftEndDate",t,"ShiftId",e,"UpdateDate",t,"DeleteDate",t,"IsActive",e,"InsertUserId",e,"DeleteUserId",e,"UpdateUserId",e,"EmployeeGroupId",e])}}},B=J;r(B,"EmployeeGroupShiftPatternForm"),B.formKey="EmployeeGroup.EmployeeGroupShiftPattern";var ce=o(u(),1);var f=class{};r(f,"EmployeeGroupShiftPatternRow"),f.idProperty="Id",f.isActiveProperty="IsActive",f.localTextPrefix="EmployeeGroup.EmployeeGroupShiftPattern",f.deletePermission="Administration:HumanResources",f.insertPermission="Administration:HumanResources",f.readPermission="Administration:HumanResources",f.updatePermission="Administration:HumanResources",f.Fields=(0,ce.fieldsProxy)();var fe=o(u(),1),me;(e=>(e.baseUrl="EmployeeGroup/EmployeeGroupShiftPattern",e.Methods={Create:"EmployeeGroup/EmployeeGroupShiftPattern/Create",Update:"EmployeeGroup/EmployeeGroupShiftPattern/Update",Delete:"EmployeeGroup/EmployeeGroupShiftPattern/Delete",Retrieve:"EmployeeGroup/EmployeeGroupShiftPattern/Retrieve",List:"EmployeeGroup/EmployeeGroupShiftPattern/List"},["Create","Update","Delete","Retrieve","List"].forEach(t=>{e[t]=function(n,a,d){return(0,fe.serviceRequest)(e.baseUrl+"/"+t,n,a,d)}})))(me||(me={}));var ye=o(u(),1);var l=class{};r(l,"EmployeeGroupShiftRow"),l.idProperty="Id",l.isActiveProperty="IsActive",l.localTextPrefix="EmployeeGroup.EmployeeGroupShift",l.deletePermission="Administration:HumanResources",l.insertPermission="Administration:HumanResources",l.readPermission="Administration:HumanResources",l.updatePermission="Administration:HumanResources",l.Fields=(0,ye.fieldsProxy)();var Se=o(u(),1),ve;(e=>(e.baseUrl="EmployeeGroup/EmployeeGroupShift",e.Methods={Create:"EmployeeGroup/EmployeeGroupShift/Create",Update:"EmployeeGroup/EmployeeGroupShift/Update",Delete:"EmployeeGroup/EmployeeGroupShift/Delete",Retrieve:"EmployeeGroup/EmployeeGroupShift/Retrieve",List:"EmployeeGroup/EmployeeGroupShift/List"},["Create","Update","Delete","Retrieve","List"].forEach(t=>{e[t]=function(n,a,d){return(0,Se.serviceRequest)(e.baseUrl+"/"+t,n,a,d)}})))(ve||(ve={}));export{T as a,C as b,K as c,k as d,m as e,pe as f,c as g,Z as h,x as i,R as j,N as k,B as l,f as m,me as n,l as o,ve as p};
//# sourceMappingURL=chunk-RTS3PGWE.js.map
