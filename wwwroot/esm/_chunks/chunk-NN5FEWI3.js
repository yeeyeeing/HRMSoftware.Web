import{l as Qt}from"./chunk-KCWQ5BXW.js";import{f as Gt,j as wt,n as jt,r as Vt}from"./chunk-MVZ476J5.js";import{a as kt}from"./chunk-LLMDZJQJ.js";import{b as M}from"./chunk-MUCPV7IN.js";import{a as W}from"./chunk-K2UT2MVJ.js";import{a as y}from"./chunk-DNINIZJD.js";import{c as o,g as a,h as R,j as D,k as d}from"./chunk-L3ECGIWB.js";var ao=a(y(),1);var Xt=a(y(),1),Ye=(n=>(n[n.DIVISION=0]="DIVISION",n[n.DEPARTMENT=1]="DEPARTMENT",n[n.SECTION=2]="SECTION",n[n.OCCUPATION=3]="OCCUPATION",n[n.JOBGRADE=4]="JOBGRADE",n[n.COSTCENTRE=5]="COSTCENTRE",n))(Ye||{});Xt.Decorators.registerEnumType(Ye,"HRMSoftware.EmployeeProfile.Category","HumanResource.EmployeeProfile.Category");var Ft=a(y(),1),Nt=(e=>(e[e.None=0]="None",e[e.Class_1=1]="Class_1",e))(Nt||{});Ft.Decorators.registerEnumType(Nt,"HRMSoftware.EmployeeProfile.EISClass","HumanResource.EmployeeProfile.EISClass");var Kt=a(y(),1);var ie=class{format(s){let e=s.value;if(e==!1)return'<i class="fa fa-times" style="color:red"></i>';if(e==!0)return'<i class="fa fa-check" style="color:green"></i>'}};o(ie,"StatusFormatter"),ie=R([Kt.Decorators.registerFormatter("HRMSoftware.StatusFormatter")],ie);var ye=class{};o(ye,"EmployeeAllowanceColumns"),ye.columnsKey="EmployeeProfile.EmployeeAllowance";var O=a(y(),1),Wt=a(d(),1);var Ae=class extends O.PrefixedContext{constructor(s){if(super(s),!Ae.init){Ae.init=!0;var e=O.StringEditor,t=O.LookupEditor,i=O.DecimalEditor,r=O.DateEditor,n=O.TextAreaEditor,c=O.BooleanEditor;(0,Wt.initFormType)(Ae,["AllowanceCode",e,"MasterAllowanceId",t,"Amount",i,"EffectiveFrom",r,"EffectiveUntil",r,"Description",n,"Recurring",c,"OneTime",c,"PaidOneTime",c,"AllowanceSubjections",c,"FullAttendance",c,"NoLate",c,"NoAbsence",c,"NoEarlyLeaving",c,"ExemptUnpaidLeave",c,"ExemptHospitalisationLeave",c,"ExemptSickLeave",c,"ExemptAnnualLeave",c,"ExemptMaternityLeave",c,"ExemptPaternityLeave",c,"ExemptMarriageLeave",c,"ExemptCompassionateLeave",c,"ExemptEmergencyLeave",c,"ExemptGatepassLeave",c,"SubjectionEis",c,"SubjectionEpf",c,"SubjectionHrdf",c,"SubjectionPcb",c,"SubjectionSocso",c,"SubjectionOt",c])}}},Y=Ae;o(Y,"EmployeeAllowanceForm"),Y.formKey="EmployeeProfile.EmployeeAllowance";var Ee=a(d(),1);var I=class{static getLookup(){return(0,Ee.getLookup)("EmployeeAllowance.EmployeeAllowance")}static getLookupAsync(){return D(this,null,function*(){return(0,Ee.getLookupAsync)("EmployeeAllowance.EmployeeAllowance")})}};o(I,"EmployeeAllowanceRow"),I.idProperty="Id",I.isActiveProperty="IsActive",I.nameProperty="Description",I.localTextPrefix="EmployeeProfile.EmployeeAllowance",I.lookupKey="EmployeeAllowance.EmployeeAllowance",I.deletePermission="*",I.insertPermission="*",I.readPermission="*",I.updatePermission="*",I.Fields=(0,Ee.fieldsProxy)();var Yt=a(d(),1),ze;(e=>(e.baseUrl="EmployeeProfile/EmployeeAllowance",e.Methods={Create:"EmployeeProfile/EmployeeAllowance/Create",Update:"EmployeeProfile/EmployeeAllowance/Update",Delete:"EmployeeProfile/EmployeeAllowance/Delete",Retrieve:"EmployeeProfile/EmployeeAllowance/Retrieve",List:"EmployeeProfile/EmployeeAllowance/List"},["Create","Update","Delete","Retrieve","List"].forEach(t=>{e[t]=function(i,r,n){return(0,Yt.serviceRequest)(e.baseUrl+"/"+t,i,r,n)}})))(ze||(ze={}));var zt=a(y(),1);var ne=class{format(s){let e=s.value;return["January","February","March","April","May","June","July","August","September","October","November","December"][e]}};o(ne,"MonthFormatter"),ne=R([zt.Decorators.registerFormatter("HRMSoftware.MonthFormatter")],ne);var Ze=class{};o(Ze,"EmployeeBonusColumns"),Ze.columnsKey="EmployeeProfile.EmployeeBonus";var k=a(y(),1),Zt=a(d(),1);var he=class extends k.PrefixedContext{constructor(s){if(super(s),!he.init){he.init=!0;var e=k.LookupEditor,t=k.DecimalEditor,i=k.TextAreaEditor,r=k.IntegerEditor;(0,Zt.initFormType)(he,["EmployeeRowId",e,"BonusAmount",t,"BonusDescription",i,"PayMonth",r,"PayYear",r])}}},_e=he;o(_e,"EmployeeBonusForm"),_e.formKey="EmployeeProfile.EmployeeBonus";var _t=a(d(),1);var T=class{};o(T,"EmployeeBonusRow"),T.idProperty="Id",T.isActiveProperty="IsActive",T.nameProperty="EmployeeName",T.localTextPrefix="EmployeeProfile.EmployeeBonus",T.deletePermission="Administration:HumanResources",T.insertPermission="Administration:HumanResources",T.readPermission="Administration:HumanResources",T.updatePermission="Administration:HumanResources",T.Fields=(0,_t.fieldsProxy)();var tr=a(d(),1),er;(e=>(e.baseUrl="EmployeeProfile/EmployeeBonus",e.Methods={Create:"EmployeeProfile/EmployeeBonus/Create",Update:"EmployeeProfile/EmployeeBonus/Update",Delete:"EmployeeProfile/EmployeeBonus/Delete",Retrieve:"EmployeeProfile/EmployeeBonus/Retrieve",List:"EmployeeProfile/EmployeeBonus/List"},["Create","Update","Delete","Retrieve","List"].forEach(t=>{e[t]=function(i,r,n){return(0,tr.serviceRequest)(e.baseUrl+"/"+t,i,r,n)}})))(er||(er={}));var ve=class{};o(ve,"EmployeeCareerPathColumns"),ve.columnsKey="EmployeeProfile.EmployeeCareerPath";var U=a(y(),1),rr=a(d(),1);var Oe=class extends U.PrefixedContext{constructor(s){if(super(s),!Oe.init){Oe.init=!0;var e=U.IntegerEditor,t=U.LookupEditor,i=U.DecimalEditor,r=U.DateEditor,n=U.TextAreaEditor;(0,rr.initFormType)(Oe,["Id",e,"CareerPathId",t,"EmployeeRowId",t,"NewValue",i,"newDivision",t,"newDepartment",t,"newSection",t,"newOccupation",t,"newJobGrade",t,"newCostCentre",t,"CategoryId",e,"careerPaathType",e,"EffectiveDate",r,"Description",n,"ManDesc",n,"oldValue",i,"oldDivision",e,"oldDepartment",e,"oldSection",e,"oldOccupation",e,"oldJobGrade",e,"oldCostCentre",e])}}},z=Oe;o(z,"EmployeeCareerPathForm"),z.formKey="EmployeeProfile.EmployeeCareerPath";var or=a(d(),1);var P=class{};o(P,"EmployeeCareerPathRow"),P.idProperty="Id",P.isActiveProperty="IsActive",P.nameProperty="EmployeeName",P.localTextPrefix="EmployeeProfile.EmployeeCareerPath",P.deletePermission="Administration:HumanResources",P.insertPermission="Administration:HumanResources",P.readPermission="Administration:HumanResources",P.updatePermission="Administration:HumanResources",P.Fields=(0,or.fieldsProxy)();var ir=a(d(),1),Z;(e=>(e.baseUrl="EmployeeProfile/EmployeeCareerPath",e.Methods={Create:"EmployeeProfile/EmployeeCareerPath/Create",Update:"EmployeeProfile/EmployeeCareerPath/Update",Delete:"EmployeeProfile/EmployeeCareerPath/Delete",Retrieve:"EmployeeProfile/EmployeeCareerPath/Retrieve",List:"EmployeeProfile/EmployeeCareerPath/List"},["Create","Update","Delete","Retrieve","List"].forEach(t=>{e[t]=function(i,r,n){return(0,ir.serviceRequest)(e.baseUrl+"/"+t,i,r,n)}})))(Z||(Z={}));var De=class{};o(De,"EmployeeCp38Columns"),De.columnsKey="EmployeeProfile.EmployeeCp38";var Re=a(y(),1),nr=a(d(),1);var Ne=class extends Re.PrefixedContext{constructor(s){if(super(s),!Ne.init){Ne.init=!0;var e=Re.DecimalEditor,t=Re.DateEditor;(0,nr.initFormType)(Ne,["Cp38Amount",e,"EffectiveFrom",t,"EffectiveUntil",t])}}},_=Ne;o(_,"EmployeeCp38EditorForm"),_.formKey="EmployeeProfile.EmployeeCp38";var ee=a(y(),1),ar=a(d(),1);var Te=class extends ee.PrefixedContext{constructor(s){if(super(s),!Te.init){Te.init=!0;var e=ee.LookupEditor,t=ee.DecimalEditor,i=ee.DateEditor;(0,ar.initFormType)(Te,["EmployeeRowId",e,"Cp38Amount",t,"EffectiveFrom",i,"EffectiveUntil",i])}}},et=Te;o(et,"EmployeeCp38Form"),et.formKey="EmployeeProfile.EmployeeCp38";var sr=a(d(),1);var x=class{};o(x,"EmployeeCp38Row"),x.idProperty="Id",x.isActiveProperty="IsActive",x.nameProperty="EmployeeName",x.localTextPrefix="EmployeeProfile.EmployeeCp38",x.deletePermission="Administration:HumanResources",x.insertPermission="Administration:HumanResources",x.readPermission="Administration:HumanResources",x.updatePermission="Administration:HumanResources",x.Fields=(0,sr.fieldsProxy)();var lr=a(d(),1),tt;(e=>(e.baseUrl="EmployeeProfile/EmployeeCp38",e.Methods={Create:"EmployeeProfile/EmployeeCp38/Create",Update:"EmployeeProfile/EmployeeCp38/Update",Delete:"EmployeeProfile/EmployeeCp38/Delete",Retrieve:"EmployeeProfile/EmployeeCp38/Retrieve",List:"EmployeeProfile/EmployeeCp38/List"},["Create","Update","Delete","Retrieve","List"].forEach(t=>{e[t]=function(i,r,n){return(0,lr.serviceRequest)(e.baseUrl+"/"+t,i,r,n)}})))(tt||(tt={}));var rt=class{};o(rt,"EmployeeIncentiveColumns"),rt.columnsKey="EmployeeProfile.EmployeeIncentive";var G=a(y(),1),mr=a(d(),1);var Ue=class extends G.PrefixedContext{constructor(s){if(super(s),!Ue.init){Ue.init=!0;var e=G.LookupEditor,t=G.DecimalEditor,i=G.TextAreaEditor,r=G.IntegerEditor;(0,mr.initFormType)(Ue,["EmployeeRowId",e,"IncentiveAmount",t,"IncentiveDescription",i,"PayMonth",r,"PayYear",r])}}},ot=Ue;o(ot,"EmployeeIncentiveForm"),ot.formKey="EmployeeProfile.EmployeeIncentive";var cr=a(d(),1);var q=class{};o(q,"EmployeeIncentiveRow"),q.idProperty="Id",q.isActiveProperty="IsActive",q.nameProperty="EmployeeName",q.localTextPrefix="EmployeeProfile.EmployeeIncentive",q.deletePermission="Administration:HumanResources",q.insertPermission="Administration:HumanResources",q.readPermission="Administration:HumanResources",q.updatePermission="Administration:HumanResources",q.Fields=(0,cr.fieldsProxy)();var dr=a(d(),1),pr;(e=>(e.baseUrl="EmployeeProfile/EmployeeIncentive",e.Methods={Create:"EmployeeProfile/EmployeeIncentive/Create",Update:"EmployeeProfile/EmployeeIncentive/Update",Delete:"EmployeeProfile/EmployeeIncentive/Delete",Retrieve:"EmployeeProfile/EmployeeIncentive/Retrieve",List:"EmployeeProfile/EmployeeIncentive/List"},["Create","Update","Delete","Retrieve","List"].forEach(t=>{e[t]=function(i,r,n){return(0,dr.serviceRequest)(e.baseUrl+"/"+t,i,r,n)}})))(pr||(pr={}));var it=class{};o(it,"EmployeePersonalProfileColumns"),it.columnsKey="EmployeeProfile.EmployeePersonalProfile";var w=a(y(),1),ur=a(d(),1);var qe=class extends w.PrefixedContext{constructor(s){if(super(s),!qe.init){qe.init=!0;var e=w.StringEditor,t=w.IntegerEditor,i=w.DateEditor,r=w.DecimalEditor;(0,ur.initFormType)(qe,["EmployeeName",e,"EmployeeId",e,"Nric",e,"Age",t,"LastPaymentDate",i,"RecruitmentDate",i,"Birthday",i,"EmployeeEmail",e,"EpfAccountNumber",e,"ProbationPeriodEnd",i,"ProbationPeriod",t,"NoticePeriod",t,"Address",e,"TelNumber1",e,"TelNumber2",e,"PassportNumber",e,"PassportIssueDate",i,"PassportValidPeriod",t,"PassportExpiryDate",i,"BonusFactor",r,"BasicSalary",r,"Allowance",r,"InsertDate",i,"UpdateDate",i,"DeleteDate",i,"RaceId",t,"EmployeeType",t,"Sex",t,"DepartmentId",t,"IsActive",t,"InsertUserId",t,"UpdateUserId",t,"DeleteUserId",t,"DivisionId",t,"SectionId",t,"JobGradeId",t,"OccupationId",t,"BankId",t,"BankAccountNumber",e,"CityId",t,"StateId",t,"EmployeeImg",e,"NationalityId",t,"MaritalStatus",t,"GrantHrPrivilege",t,"CreateUser",t,"PayByHour",t,"PayByMonth",t,"PayByDay",t,"OtPayEntitlement",t,"DailyWorkingMinutes",t,"UserPassword",e,"UserRowId",t,"UserName",e,"ResignationDate",i,"LeaveDate",i,"Terminated",t,"Resigned",t,"EpfContribution",t])}}},nt=qe;o(nt,"EmployeePersonalProfileForm"),nt.formKey="EmployeeProfile.EmployeePersonalProfile";var fr=a(d(),1);var B=class{};o(B,"EmployeePersonalProfileRow"),B.idProperty="Id",B.nameProperty="EmployeeName",B.localTextPrefix="EmployeeProfile.EmployeePersonalProfile",B.deletePermission="Administration:HumanResources",B.insertPermission="Administration:HumanResources",B.readPermission="Administration:HumanResources",B.updatePermission="Administration:HumanResources",B.Fields=(0,fr.fieldsProxy)();var Er=a(d(),1),yr;(e=>(e.baseUrl="EmployeeProfile/EmployeePersonalProfile",e.Methods={Create:"EmployeeProfile/EmployeePersonalProfile/Create",Update:"EmployeeProfile/EmployeePersonalProfile/Update",Delete:"EmployeeProfile/EmployeePersonalProfile/Delete",Retrieve:"EmployeeProfile/EmployeePersonalProfile/Retrieve",List:"EmployeeProfile/EmployeePersonalProfile/List"},["Create","Update","Delete","Retrieve","List"].forEach(t=>{e[t]=function(i,r,n){return(0,Er.serviceRequest)(e.baseUrl+"/"+t,i,r,n)}})))(yr||(yr={}));var vr=a(y(),1),at=(e=>(e[e.Male=1]="Male",e[e.Female=2]="Female",e))(at||{});vr.Decorators.registerEnumType(at,"HRMSoftware.EmployeeProfile.SexType","HumanResource.EmployeeProfile.SexType");var st=class{};o(st,"EmployeeProfileColumns"),st.columnsKey="EmployeeProfile.EmployeeProfile";var g=a(y(),1);var Dr=a(y(),1),Tt=(e=>(e[e.Local=1]="Local",e[e.Foreigner=2]="Foreigner",e))(Tt||{});Dr.Decorators.registerEnumType(Tt,"HRMSoftware.EmployeeProfile.EmployeeType","HumanResource.EmployeeProfile.EmployeeType");var Rr=a(y(),1),Ut=(e=>(e[e.Single=0]="Single",e[e.Married=1]="Married",e))(Ut||{});Rr.Decorators.registerEnumType(Ut,"HRMSoftware.EmployeeProfile.MaritalStatus","HumanResource.EmployeeProfile.MaritalStatus");var gr=a(y(),1),qt=(t=>(t[t.UnderProbation=0]="UnderProbation",t[t.NoProbation=1]="NoProbation",t[t.PassedProbation=2]="PassedProbation",t))(qt||{});gr.Decorators.registerEnumType(qt,"HRMSoftware.EmployeeProfile.ProbationClass","HumanResource.EmployeeProfile.ProbationClass");var xr=a(y(),1);var br=a(W(),1);var He=a(y(),1);var Ir=a(W(),1),m=a(d(),1),Pr=a(y(),1);var Ht=a(d(),1);var ae=class extends Ir.GridEditorDialog{constructor(){super();this.form=new z(this.idPrefix);this.form=new z(this.idPrefix)}getFormKey(){return z.formKey}getRowDefinition(){return P}getService(){return Z.baseUrl}getLocalTextPrefix(){return P.localTextPrefix}getNameProperty(){return P.nameProperty}doDelete(e){var fe;var t=this,i={[0]:(0,m.getLookup)("Division.Division"),[1]:(0,m.getLookup)("Department.Department"),[2]:(0,m.getLookup)("Section.Section"),[3]:(0,m.getLookup)("Occupation.Occupation"),[4]:(0,m.getLookup)("JobGrade.JobGrade"),[5]:(0,m.getLookup)("MasterCostCentre.MasterCostCentre")};if(console.log(t.form.careerPaathType.value),console.log(0 .valueOf()),t.form.careerPaathType.value==2 .valueOf()||t.form.careerPaathType.value==3 .valueOf()){var r=` ${t.form.EmployeeRowId.text} will be transferred back to `,n=i[t.form.CategoryId.value];if(console.log(n),console.log(t.form.CategoryId.value),console.log(t.form.oldValue.value),n){var c=n.items.find(N=>N.Id==t.form.oldValue.value);c&&(r+=c.Name)}}else if(t.form.careerPaathType.value==0 .valueOf()||t.form.careerPaathType.value==1 .valueOf()){var p;t.form.careerPaathType.value==0 .valueOf()?p=t.BasicSalary-t.form.NewValue.value:t.form.careerPaathType.value==1 .valueOf()&&(p=t.BasicSalary+t.form.NewValue.value);var r=` ${t.form.EmployeeRowId.text}'s salary will go back to ${p}`;console.log(p),console.log(t.BasicSalary)}else if(t.form.careerPaathType.value==4 .valueOf()){var r=` ${t.form.EmployeeRowId.text} will be transferred back to `,F=[],A={oldCostCentre:(0,m.getLookup)("MasterCostCentre.MasterCostCentre"),oldDepartment:(0,m.getLookup)("Department.Department"),oldDivision:(0,m.getLookup)("Division.Division"),oldSection:(0,m.getLookup)("Section.Section"),oldOccupation:(0,m.getLookup)("Occupation.Occupation"),oldJobGrade:(0,m.getLookup)("JobGrade.JobGrade")};for(var E in A)if(!(0,m.isEmptyOrNull)((fe=t.form[E])==null?void 0:fe.value))if(typeof A[E]=="string")F.push(A[E]);else{var h=A[E].items.find(Ce=>Ce.Id==t.form[E].value);h&&F.push(h.Name)}F.length&&(r+=F.join(`
`))}t.Executed==1?(0,Ht.confirmDialog)(`Do you want to perform rollback, ${r}`,()=>{t.form.careerPaathType.value==2 .valueOf()||t.form.careerPaathType.value==3 .valueOf()?t.form.CategoryId.value==0 .valueOf()?M.Update({EntityId:t.form.EmployeeRowId.value,Entity:{DivisionID:t.form.oldValue.value}}):t.form.CategoryId.value==1 .valueOf()?M.Update({EntityId:t.form.EmployeeRowId.value,Entity:{DepartmentID:t.form.oldValue.value}}):t.form.CategoryId.value==2 .valueOf()?M.Update({EntityId:t.form.EmployeeRowId.value,Entity:{SectionID:t.form.oldValue.value}}):t.form.CategoryId.value==3 .valueOf()?M.Update({EntityId:t.form.EmployeeRowId.value,Entity:{OccupationID:t.form.oldValue.value}}):t.form.CategoryId.value==4 .valueOf()?M.Update({EntityId:t.form.EmployeeRowId.value,Entity:{JobGradeID:t.form.oldValue.value}}):t.form.CategoryId.value==5 .valueOf()&&M.Update({EntityId:t.form.EmployeeRowId.value,Entity:{CostCentreID:t.form.oldValue.value}}):t.form.careerPaathType.value==0 .valueOf()||t.form.careerPaathType.value==1 .valueOf()?M.Update({EntityId:t.form.EmployeeRowId.value,Entity:{BasicSalary:p}}):t.form.careerPaathType.value==4 .valueOf()&&M.Update({EntityId:t.form.EmployeeRowId.value,Entity:{DepartmentID:t.form.oldDepartment.value,CostCentreID:t.form.oldCostCentre.value,DivisionID:t.form.oldDivision.value,JobGradeID:t.form.oldJobGrade.value,OccupationID:t.form.oldOccupation.value,SectionID:t.form.oldSection.value}}),Z.Update({EntityId:t.form.Id.value,Entity:{IsActive:-1}}),super.doDelete(e)},{onNo:()=>{Z.Update({EntityId:t.form.Id.value,Entity:{IsActive:-1}}),super.doDelete(e)}}):Z.Update({EntityId:t.form.Id.value,Entity:{IsActive:-1}},N=>{super.doDelete(e)})}onDialogOpen(){super.onDialogOpen();var e=this;e.Executed=0,(0,m.isEmptyOrNull)(window.employeeRowId)||(e.form.EmployeeRowId.value=window.employeeRowId),(0,m.isEmptyOrNull)(e.form.Id.value)||Z.Retrieve({EntityId:e.form.Id.value},f=>{e.form.careerPaathType.value=f.Entity.careerPaathType,e.CareerPathType=f.Entity.careerPaathType,f.Entity.Executed==1&&(e.Executed=1,e.readOnly=!0,$(".s-HRMSoftware-EmployeeProfile-EmployeeCareerPathEditDialog .tool-button.delete-button.icon-tool-button").removeClass("disabled"))}),M.Retrieve({EntityId:window.employeeRowId},f=>{e.DivisionID=f.Entity.DivisionID,i=f.Entity.Division,e.DepartmentID=f.Entity.DepartmentID,r=f.Entity.DepartmentDept,e.SectionID=f.Entity.SectionID,n=f.Entity.Section,e.OccupationID=f.Entity.OccupationID,c=f.Entity.Occupation,e.JobGradeID=f.Entity.JobGradeID,p=f.Entity.JobGrade,e.CostCentreID=f.Entity.CostCentreID,F=f.Entity.CostCentreName,e.BasicSalary=f.Entity.BasicSalary});var t;He.EditorUtils.setReadonly(this.form.Description.element,!0),He.EditorUtils.setReadonly(this.form.EmployeeRowId.element,!0);var i,r,n,c,p,F,A,E,h;$(`#${this.idPrefix}PropertyGrid`).find(".categories").append('<div id="leftPanel" style="width: 50%;  float: left;"></div>'),$(`#${this.idPrefix}PropertyGrid`).find(".categories").append('<div id="rightPanel" style="width: 50%;  float: right;"></div>'),$(".NewValue, .newDivision, .newDepartment, .newSection, .newOccupation, .newJobGrade, .newCostCentre").appendTo("#leftPanel"),$(".EffectiveDate, .Description, .ManDesc").appendTo("#rightPanel"),$(".NewValue, .newDivision, .newDepartment, .newSection, .newOccupation, .newJobGrade, .newCostCentre").hide(),$(".oldValue, .oldDivision, .oldDepartment, .oldSection, .oldOccupation, .oldJobGrade, .oldCostCentre").hide();var Ce=document.getElementById(this.idPrefix+"NewValue"),fe=document.getElementById(`${this.idPrefix}CareerPathId`);$(fe).on("change",function(){return D(this,null,function*(){if(e.form.Description.value="",$(Ce).val(null),(0,m.isEmptyOrNull)(e.form.CareerPathId.value)){$(".NewValue, .newDivision, .newDepartment, .newSection, .newOccupation, .newJobGrade, .newCostCentre").hide(),$(".select2-container.s-Serenity-Select2Editor").remove(),$(".NewValue .editor").removeClass("s-Serenity-Select2Editor s-Select2Editor select2-offscreen"),$(".NewValue .editor").removeAttr("placeholder");return}lt.Retrieve({EntityId:e.form.CareerPathId.value},f=>{e.CareerPathType=A=f.Entity.CareerPathType,e.form.careerPaathType.value=f.Entity.CareerPathType;var K=document.getElementById(e.idPrefix+"NewValue");if(E=e.categoryId=f.Entity.CategoryId,f.Entity.CareerPathType==1||f.Entity.CareerPathType==0){$(".select2-container.s-Serenity-Select2Editor").remove(),$(".newDivision, .newDepartment, .newSection, .newOccupation, .newJobGrade, .newCostCentre").hide(),$(".NewValue .editor").removeClass("s-Serenity-Select2Editor s-Select2Editor select2-offscreen"),$(".NewValue .editor").removeAttr("placeholder"),$(".NewValue").show();return}else if(f.Entity.CareerPathType==4){$(".newDivision, .newDepartment, .newSection, .newOccupation, .newJobGrade, .newCostCentre").show(),$(".NewValue").hide(),(0,m.isEmptyOrNull)(e.DivisionID)||(e.form.newDivision.value=e.DivisionID.toString()),(0,m.isEmptyOrNull)(e.DepartmentID)||(e.form.newDepartment.value=e.DepartmentID.toString()),(0,m.isEmptyOrNull)(e.SectionID)||(e.form.newSection.value=e.SectionID.toString()),(0,m.isEmptyOrNull)(e.OccupationID)||(e.form.newOccupation.value=e.OccupationID.toString()),(0,m.isEmptyOrNull)(e.JobGradeID)||(e.form.newJobGrade.value=e.JobGradeID.toString()),(0,m.isEmptyOrNull)(e.CostCentreID)||(e.form.newCostCentre.value=e.CostCentreID.toString());return}else(f.Entity.CareerPathType==2||f.Entity.CareerPathType==3)&&($(".newDivision, .newDepartment, .newSection, .newOccupation, .newJobGrade, .newCostCentre").hide(),$(".NewValue").show());(0,m.isEmptyOrNull)(h)||h.destroy(),h=new Pr.Select2Editor($(K)),E==0?(e.oldValue=e.DivisionID,Gt.List({},u=>{for(var v in u.Entities)u.Entities[v].Id!=e.DivisionID&&h.addItem({id:u.Entities[v].Id.toString(),text:u.Entities[v].Name.toString()})})):E==1?(e.oldValue=e.DepartmentID,kt.List({},u=>{for(var v in u.Entities)u.Entities[v].Id!=e.DepartmentID&&h.addItem({id:u.Entities[v].Id.toString(),text:u.Entities[v].Name.toString()})})):E==2?(e.oldValue=e.SectionID,Vt.List({},u=>{for(var v in u.Entities)u.Entities[v].Id!=e.SectionID&&h.addItem({id:u.Entities[v].Id.toString(),text:u.Entities[v].Name.toString()})})):E==3?(e.oldValue=e.OccupationID,jt.List({},u=>{for(var v in u.Entities)u.Entities[v].Id!=e.OccupationID&&h.addItem({id:u.Entities[v].Id.toString(),text:u.Entities[v].Name.toString()})})):E==4?(e.oldValue=e.JobGradeID,wt.List({},u=>{for(var v in u.Entities)u.Entities[v].Id!=e.JobGradeID&&h.addItem({id:u.Entities[v].Id.toString(),text:u.Entities[v].Name.toString()})})):E==5&&(e.oldValue=e.CostCentreID,Qt.List({},u=>{for(var v in u.Entities)u.Entities[v].Id!=e.CostCentreID&&h.addItem({id:u.Entities[v].Id.toString(),text:u.Entities[v].Name.toString()})}))})})});function N(){if((0,m.isEmptyOrNull)(e.form.NewValue.value)&&(0,m.isEmptyOrNull)(e.form.CareerPathId.value)){e.form.Description.value="";return}if(A==0)t=e.BasicSalary+e.form.NewValue.value,e.form.Description.value=`${e.form.EmployeeRowId.text} will get a increment from ${e.BasicSalary} to ${t}`;else if(A==1)t=e.BasicSalary-e.form.NewValue.value,t<=0&&((0,m.alertDialog)("The salary cannot be smaller than 0"),e.form.Description.value=""),e.form.Description.value=`${e.form.EmployeeRowId.text} will get a decrement from ${e.BasicSalary} to ${t}`;else if(A==3||A==2){var f,K,u;E==1?(f=(0,m.getLookup)("Department.Department"),K=e.DepartmentID,u="Department"):E==0?(f=(0,m.getLookup)("Division.Division"),K=e.DivisionID,u="Division"):E==4?(f=(0,m.getLookup)("JobGrade.JobGrade"),K=e.JobGradeID,u="Job Grade"):E==3?(f=(0,m.getLookup)("Occupation.Occupation"),K=e.OccupationID,u="Occupation"):E==2?(f=(0,m.getLookup)("Section.Section"),K=e.SectionID,u="Section"):E==5&&(f=(0,m.getLookup)("MasterCostCentre.MasterCostCentre"),K=e.CostCentreID,u="CostCentre");var v,St;for(var Ke in f.items)f.items[Ke].Id==K?v=f.items[Ke].Name:f.items[Ke].Id==e.form.NewValue.value&&(St=f.items[Ke].Name);var $t=A==2?"promoted":"demoted";(0,m.isEmptyOrNull)(v)?e.form.Description.value=`${e.form.EmployeeRowId.text} is ${$t} to ${St} ${u}`:e.form.Description.value=`${e.form.EmployeeRowId.text} is ${$t} from ${v} ${u} to ${St} ${u}`}else if(A==4){var oe=`${e.form.EmployeeRowId.text} is transferred
`;if(e.form.newDepartment.value!=e.DepartmentID.toString()&&!(0,m.isEmptyOrNull)(e.form.newDepartment.value)){var Lt;(0,m.isEmptyOrNull)(e.DepartmentID)?Lt=`DEPARTMENT:  to ${e.form.newDepartment.text}
`:Lt=`DEPARTMENT: from ${r} to ${e.form.newDepartment.text}
`,oe+=Lt}if(e.form.newDivision.value!=e.DivisionID.toString()&&!(0,m.isEmptyOrNull)(e.form.newDivision.value)){var Ct;(0,m.isEmptyOrNull)(e.DivisionID)?Ct=`DIVISION:  to ${e.form.newDivision.text}
`:Ct=`DIVISION: from ${i} to ${e.form.newDivision.text}
`,oe+=Ct}if(e.form.newCostCentre.value!=e.CostCentreID.toString()&&!(0,m.isEmptyOrNull)(e.form.newCostCentre.value)){var We;(0,m.isEmptyOrNull)(e.CostCentreID)?We=`COST CENTRE:  to ${e.form.newCostCentre.text}
`:We=`COST CENTRE: from ${F} to ${e.form.newCostCentre.text}
`,console.log(We),oe+=We}if(e.form.newJobGrade.value!=e.JobGradeID.toString()&&!(0,m.isEmptyOrNull)(e.form.newJobGrade.value)){var At;(0,m.isEmptyOrNull)(e.JobGradeID)?At=`JOBGRADE: to ${e.form.newJobGrade.text}
`:At=`JOBGRADE: from ${p} to ${e.form.newJobGrade.text}
`,oe+=At}if(e.form.newOccupation.value!=e.OccupationID.toString()&&!(0,m.isEmptyOrNull)(e.form.newOccupation.value)){var ht;(0,m.isEmptyOrNull)(e.OccupationID)?ht=`OCCUPATION: to ${e.form.newOccupation.text}
`:ht=`OCCUPATION: from ${c} to ${e.form.newOccupation.text}
`,oe+=ht}if(e.form.newSection.value!=e.SectionID.toString()&&!(0,m.isEmptyOrNull)(e.form.newSection.value)){var Ot;console.log("sec"),(0,m.isEmptyOrNull)(e.SectionID)?Ot=`SECTION: to ${e.form.newSection.text}
`:Ot=`SECTION: from ${n} to ${e.form.newSection.text}
`,oe+=Ot}e.form.Description.value=oe}}o(N,"formulateDescription");var Ce=document.getElementById(`${this.idPrefix}NewValue`);$(Ce).on("change",function(){return D(this,null,function*(){N()})});var lo=document.getElementById(`${this.idPrefix}newDivision`);$(lo).on("change",function(){return D(this,null,function*(){N()})});var mo=document.getElementById(`${this.idPrefix}newDepartment`);$(mo).on("change",function(){return D(this,null,function*(){N()})});var co=document.getElementById(`${this.idPrefix}newSection`);$(co).on("change",function(){return D(this,null,function*(){N()})});var po=document.getElementById(`${this.idPrefix}newOccupation`);$(po).on("change",function(){return D(this,null,function*(){N()})});var uo=document.getElementById(`${this.idPrefix}newJobGrade`);$(uo).on("change",function(){return D(this,null,function*(){N()})});var fo=document.getElementById(`${this.idPrefix}newCostCentre`);$(fo).on("change",function(){return D(this,null,function*(){N()})})}save_submitHandler(e){var t=this;if((0,m.isEmptyOrNull)(this.form.NewValue.value)&&(this.CareerPathType==1||this.CareerPathType==0||this.CareerPathType==2||this.CareerPathType==3)){(0,m.alertDialog)("Please fill in the New Value!");return}t.form.CategoryId.value=t.categoryId,t.form.careerPaathType.value=t.CareerPathType,(0,Ht.confirmDialog)(`Are you sure ${this.form.Description.value} on ${this.form.EffectiveDate.value} ?`,()=>{t.form.oldSection.value=t.SectionID,t.form.oldCostCentre.value=t.CostCentreID,t.form.oldDepartment.value=t.DepartmentID,t.form.oldDivision.value=t.DivisionID,t.form.oldJobGrade.value=t.JobGradeID,t.form.oldOccupation.value=t.OccupationID,t.form.oldValue.value=t.oldValue,super.save_submitHandler(e)},{onNo:()=>{}})}};o(ae,"EmployeeCareerPathEditDialog"),ae=R([He.Decorators.registerClass("HRMSoftware.EmployeeProfile.EmployeeCareerPathEditDialog")],ae);var se=class extends br.GridEditorBase{getColumnsKey(){return ve.columnsKey}getDialogType(){return ae}getLocalTextPrefix(){return P.localTextPrefix}getAddButtonCaption(){return"Add"}validateEntity(s,e){if(console.log("haha"),!super.validateEntity(s,e))return!1;var t=e!=null?e:s[this.getIdProperty()];return S.getLookupAsync().then(i=>{var n;var r=(n=this.view)==null?void 0:n.getItemById(t);r&&(console.log(i.itemById[s.CareerPathId]),r.CareerPathCode=i.itemById[s.CareerPathId].CareerPathCode,this.view.updateItem(t,r))}),!0}getItems(){return super.getItems().sort((e,t)=>e.Id-t.Id)}};o(se,"EmployeeCareerPathEditor"),se=R([xr.Decorators.registerEditor("HRMSoftware.EmployeeProfile.EmployeeCareerPathEditor")],se);var Cr=a(y(),1);var Ar=a(W(),1);var Sr=a(y(),1);var Lr=a(W(),1);var le=class extends Lr.GridEditorDialog{constructor(){super();this.form=new _(this.idPrefix);this.form=new _(this.idPrefix)}getFormKey(){return _.formKey}getRowDefinition(){return x}getService(){return tt.baseUrl}getLocalTextPrefix(){return x.localTextPrefix}getNameProperty(){return x.nameProperty}};o(le,"EmployeeCp38EditDialog"),le=R([Sr.Decorators.registerClass("HRMSoftware.EmployeeProfile.EmployeeCp38EditDialog")],le);var me=class extends Ar.GridEditorBase{getColumnsKey(){return De.columnsKey}getDialogType(){return le}getLocalTextPrefix(){return x.localTextPrefix}getAddButtonCaption(){return"Add"}};o(me,"EmployeeCp38Editor"),me=R([Cr.Decorators.registerEditor("HRMSoftware.EmployeeProfile.EmployeeCp38Editor")],me);var Nr=a(y(),1);var Tr=a(W(),1);var Je=a(y(),1);var hr=a(W(),1),Or=a(d(),1);var ce=class extends hr.GridEditorDialog{constructor(){super();this.form=new te(this.idPrefix);this.form=new te(this.idPrefix)}getFormKey(){return te.formKey}getRowDefinition(){return b}getService(){return mt.baseUrl}getLocalTextPrefix(){return b.localTextPrefix}getNameProperty(){return b.nameProperty}onDialogOpen(){super.onDialogOpen();var e=this;this.$(".DeductionCode").hide();var t=document.getElementById(`${this.idPrefix}MasterDeductionId`);$(t).on("change",function(){return D(this,null,function*(){ct.Retrieve({EntityId:e.form.MasterDeductionId.value},n=>{e.form.Amount.value=n.Entity.Amount,e.form.Description.value=n.Entity.Description,e.form.OneTime.value=n.Entity.OneTime,e.form.Recurring.value=n.Entity.Recurring})})}),Je.EditorUtils.setReadonly(this.form.DeductedOneTime.element,!0),this.form.OneTime.value==!0&&this.form.DeductedOneTime.value==!0&&Je.EditorUtils.setReadonly(this.form.DeductedOneTime.element,!1);var i=document.getElementById(this.idPrefix+"Recurring");$(i).on("change",function(){return D(this,null,function*(){$(".DeductedOneTime").hide(),e.form.OneTime.value==!0&&(e.form.OneTime.value=!1),e.form.Recurring.value==!0&&(e.form.OneTime.value=!1)})});var r=document.getElementById(this.idPrefix+"OneTime");$(r).on("change",function(){return D(this,null,function*(){$(".DeductedOneTime").hide(),e.form.Recurring.value==!0&&(e.form.Recurring.value=!1),e.form.OneTime.value==!0&&($(".DeductedOneTime").show(),e.form.Recurring.value=!1)})}),e.form.OneTime.value==!0&&($(".DeductedOneTime").show(),e.form.Recurring.value=!1)}save_submitHandler(e){if(this.form.Recurring.value==!1&&this.form.OneTime.value==!1){(0,Or.alertDialog)("Please choose the frequency of this deduction");return}this.form.DeductionCode.value=this.form.MasterDeductionId.text,super.save_submitHandler(e)}};o(ce,"FixedDeductionEditDialog"),ce=R([Je.Decorators.registerClass("HRMSoftware.EmployeeProfile.FixedDeductionEditDialog")],ce);var pe=class extends Tr.GridEditorBase{getColumnsKey(){return ge.columnsKey}getDialogType(){return ce}getLocalTextPrefix(){return b.localTextPrefix}getAddButtonCaption(){return"Add"}validateEntity(s,e){if(!super.validateEntity(s,e))return!1;var t=e!=null?e:s[this.getIdProperty()];return L.getLookupAsync().then(i=>{var n;var r=(n=this.view)==null?void 0:n.getItemById(t);r&&(r.DeductionCode=i.itemById[s.MasterDeductionId].DeductionCode,this.view.updateItem(t,r))}),!0}};o(pe,"FixedDeductionEditor"),pe=R([Nr.Decorators.registerEditor("HRMSoftware.EmployeeProfile.FixedDeductionEditor")],pe);var Ur=a(y(),1),Bt=(n=>(n[n.None=0]="None",n[n.Class_1=1]="Class_1",n[n.Class_3=2]="Class_3",n[n.Class_5=3]="Class_5",n[n.Class_4=4]="Class_4",n[n.Class_2=5]="Class_2",n))(Bt||{});Ur.Decorators.registerEnumType(Bt,"HRMSoftware.EmployeeProfile.EPFClass","HumanResource.EmployeeProfile.EPFClass");var qr=a(y(),1),Jt=(t=>(t[t.None=0]="None",t[t.Class_1=1]="Class_1",t[t.Class_2=2]="Class_2",t))(Jt||{});qr.Decorators.registerEnumType(Jt,"HRMSoftware.EmployeeProfile.SOCSOClass","HumanResource.EmployeeProfile.SOCSOClass");var Hr=a(y(),1),Mt=(e=>(e[e.None=0]="None",e[e.Class_1=1]="Class_1",e))(Mt||{});Hr.Decorators.registerEnumType(Mt,"HRMSoftware.EmployeeProfile.HRDFClass","HumanResource.EmployeeProfile.HRDFClass");var Br=a(d(),1);var Me=class extends g.PrefixedContext{constructor(s){if(super(s),!Me.init){Me.init=!0;var e=g.DateEditor,t=g.ImageUploadEditor,i=g.StringEditor,r=g.EnumEditor,n=g.IntegerEditor,c=g.LookupEditor,p=g.DecimalEditor,F=g.MultipleImageUploadEditor,A=se,E=g.BooleanEditor,h=me,fe=de,N=pe;(0,Br.initFormType)(Me,["ResignationDate",e,"ResignLeaveDate",e,"TerminateDate",e,"TerminateLeaveDate",e,"EmployeeImg",t,"EmployeeName",i,"EmployeeID",i,"Sex",r,"Birthday",e,"EmployeeEmail",i,"EmployeeType",r,"RecruitmentDate",e,"TelNumber1",i,"TelNumber2",i,"MaritalStatus",r,"Age",n,"RetireDate",e,"Nric",i,"OldNRIC",i,"RaceID",c,"NationalityID",c,"StateID",c,"CityID",c,"JoinDate",e,"ProbationPeriod",p,"ProbationPeriodFrom",i,"ProbationPeriodUntil",i,"PassedProbation",r,"WorkingPermit",i,"ArrivalDate",e,"WorkingPermitIssueDate",e,"WorkingPermitExpireDate",e,"WorkingPermitValidFrom",e,"WorkingPermitValidUntil",e,"PassportNumber",i,"PassportIssueDate",e,"PassportValidPeriod",n,"PassportExpiryDate",e,"Address",i,"PostalCode",i,"CountryID",c,"Cp8dID",c,"DepartmentID",c,"DivisionID",c,"SectionID",c,"JobGradeID",c,"OccupationID",c,"CostCentreID",c,"JobDescription",F,"EmployeeCareerPath",A,"CreateUser",E,"GrantHRPrivilege",E,"UserName",i,"UserPassword",i,"UserRowID",n,"WorkingSpouse",E,"ChildrenInUniversity",n,"ChildrenUnderEighteen",n,"DisabledChildInUniversity",n,"DisabledChild",n,"BasicSalary",p,"DailyWorkingMinute",n,"NightShiftAllowancePerDay",p,"BankID",c,"BankAccountNumber",i,"Cp38Lists",h,"OtPayEntitlement",E,"FixedOtRateOption",E,"PayByMonth",E,"PayByHour",E,"PayByDay",E,"AllowanceLists",fe,"FixedDeductionList",N,"EpfClass",r,"EpfAccountNumber",i,"EisClass",r,"SocsoClass",r,"SocsoAccountNumber",i,"SsfwEffectiveDate",e,"SsfwNumber",i,"HRDFClass",r,"PCBnumber",i,"CalculationDate",e,"WorkingHour",p,"WorkingDays",p,"DailyRateBase",p,"NplRateBase",p,"OtRateWeekday",p,"OtRateWeekend",p,"OtRatePublicHoliday",p])}}},pt=Me;o(pt,"EmployeeProfileForm"),pt.formKey="EmployeeProfile.EmployeeProfile";var dt=class{};o(dt,"EmployeeResignColumns"),dt.columnsKey="EmployeeProfile.EmployeeResign";var Ie=a(y(),1),Jr=a(d(),1);var $e=class extends Ie.PrefixedContext{constructor(s){if(super(s),!$e.init){$e.init=!0;var e=Ie.IntegerEditor,t=Ie.DateEditor;(0,Jr.initFormType)($e,["NoticePeriod",e,"ResignationDate",t,"ResignLeaveDate",t])}}},ut=$e;o(ut,"EmployeeResignForm"),ut.formKey="EmployeeProfile.EmployeeResign";var Mr=a(d(),1);var j=class{};o(j,"EmployeeResignRow"),j.idProperty="Id",j.localTextPrefix="EmployeeProfile.EmployeeResign",j.deletePermission="*",j.insertPermission="*",j.readPermission="*",j.updatePermission="*",j.Fields=(0,Mr.fieldsProxy)();var kr=a(d(),1),$r;(e=>(e.baseUrl="EmployeeProfile/EmployeeResign",e.Methods={Create:"EmployeeProfile/EmployeeResign/Create",Update:"EmployeeProfile/EmployeeResign/Update",Delete:"EmployeeProfile/EmployeeResign/Delete",Retrieve:"EmployeeProfile/EmployeeResign/Retrieve",List:"EmployeeProfile/EmployeeResign/List"},["Create","Update","Delete","Retrieve","List"].forEach(t=>{e[t]=function(i,r,n){return(0,kr.serviceRequest)(e.baseUrl+"/"+t,i,r,n)}})))($r||($r={}));var ge=class{};o(ge,"FixedDeductionColumns"),ge.columnsKey="EmployeeProfile.FixedDeduction";var H=a(y(),1),Gr=a(d(),1);var ke=class extends H.PrefixedContext{constructor(s){if(super(s),!ke.init){ke.init=!0;var e=H.LookupEditor,t=H.DecimalEditor,i=H.DateEditor,r=H.TextAreaEditor,n=H.BooleanEditor;(0,Gr.initFormType)(ke,["MasterDeductionId",e,"Amount",t,"EffectiveFrom",i,"EffectiveUntil",i,"Description",r,"Recurring",n,"OneTime",n,"DeductedOneTime",n])}}},te=ke;o(te,"FixedDeductionForm"),te.formKey="EmployeeProfile.FixedDeduction";var wr=a(d(),1);var b=class{};o(b,"FixedDeductionRow"),b.idProperty="Id",b.isActiveProperty="IsActive",b.nameProperty="Description",b.localTextPrefix="EmployeeProfile.FixedDeduction",b.deletePermission="Administration:HumanResources",b.insertPermission="Administration:HumanResources",b.readPermission="Administration:HumanResources",b.updatePermission="Administration:HumanResources",b.Fields=(0,wr.fieldsProxy)();var jr=a(d(),1),mt;(e=>(e.baseUrl="EmployeeProfile/FixedDeduction",e.Methods={Create:"EmployeeProfile/FixedDeduction/Create",Update:"EmployeeProfile/FixedDeduction/Update",Delete:"EmployeeProfile/FixedDeduction/Delete",Retrieve:"EmployeeProfile/FixedDeduction/Retrieve",List:"EmployeeProfile/FixedDeduction/List"},["Create","Update","Delete","Retrieve","List"].forEach(t=>{e[t]=function(i,r,n){return(0,jr.serviceRequest)(e.baseUrl+"/"+t,i,r,n)}})))(mt||(mt={}));var ft=class{};o(ft,"MasterAllowanceColumns"),ft.columnsKey="EmployeeProfile.MasterAllowance";var V=a(y(),1),Vr=a(d(),1);var Ge=class extends V.PrefixedContext{constructor(s){if(super(s),!Ge.init){Ge.init=!0;var e=V.StringEditor,t=V.DecimalEditor,i=V.TextAreaEditor,r=V.BooleanEditor;(0,Vr.initFormType)(Ge,["AllowanceCode",e,"Amount",t,"Description",i,"Recurring",r,"OneTime",r,"AllowanceSubjections",r,"FullAttendance",r,"NoLate",r,"NoAbsence",r,"NoEarlyLeaving",r,"ExemptUnpaidLeave",r,"ExemptHospitalisationLeave",r,"ExemptSickLeave",r,"ExemptAnnualLeave",r,"ExemptMaternityLeave",r,"ExemptPaternityLeave",r,"ExemptMarriageLeave",r,"ExemptCompassionateLeave",r,"ExemptEmergencyLeave",r,"ExemptGatepassLeave",r,"SubjectionEis",r,"SubjectionEpf",r,"SubjectionSocso",r,"SubjectionPcb",r,"SubjectionHrdf",r,"SubjectionOt",r])}}},yt=Ge;o(yt,"MasterAllowanceForm"),yt.formKey="EmployeeProfile.MasterAllowance";var Pe=a(d(),1);var C=class{static getLookup(){return(0,Pe.getLookup)("MasterAllowance.MasterAllowance")}static getLookupAsync(){return D(this,null,function*(){return(0,Pe.getLookupAsync)("MasterAllowance.MasterAllowance")})}};o(C,"MasterAllowanceRow"),C.idProperty="Id",C.isActiveProperty="IsActive",C.nameProperty="AllowanceCode",C.localTextPrefix="EmployeeProfile.MasterAllowance",C.lookupKey="MasterAllowance.MasterAllowance",C.deletePermission="Administration:HumanResources",C.insertPermission="Administration:HumanResources",C.readPermission="Administration:HumanResources",C.updatePermission="Administration:HumanResources",C.Fields=(0,Pe.fieldsProxy)();var Qr=a(d(),1),Et;(e=>(e.baseUrl="EmployeeProfile/MasterAllowance",e.Methods={Create:"EmployeeProfile/MasterAllowance/Create",Update:"EmployeeProfile/MasterAllowance/Update",Delete:"EmployeeProfile/MasterAllowance/Delete",Retrieve:"EmployeeProfile/MasterAllowance/Retrieve",List:"EmployeeProfile/MasterAllowance/List"},["Create","Update","Delete","Retrieve","List"].forEach(t=>{e[t]=function(i,r,n){return(0,Qr.serviceRequest)(e.baseUrl+"/"+t,i,r,n)}})))(Et||(Et={}));var Xr=a(y(),1),Be=(r=>(r[r.increment=0]="increment",r[r.decrement=1]="decrement",r[r.promotion=2]="promotion",r[r.demotion=3]="demotion",r[r.transfer=4]="transfer",r))(Be||{});Xr.Decorators.registerEnumType(Be,"HRMSoftware.EmployeeProfile.MasterCareerPathType","HumanResource.EmployeeProfile.MasterCareerPathType");var vt=class{};o(vt,"MasterCareerPathColumns"),vt.columnsKey="EmployeeProfile.MasterCareerPath";var re=a(y(),1);var Fr=a(d(),1);var we=class extends re.PrefixedContext{constructor(s){if(super(s),!we.init){we.init=!0;var e=re.EnumEditor,t=re.StringEditor,i=re.TextAreaEditor;(0,Fr.initFormType)(we,["CareerPathType",e,"CareerPathCode",t,"CategoryId",e,"Description",i])}}},Dt=we;o(Dt,"MasterCareerPathForm"),Dt.formKey="EmployeeProfile.MasterCareerPath";var xe=a(d(),1);var S=class{static getLookup(){return(0,xe.getLookup)("MasterCareerPath.MasterCareerPath")}static getLookupAsync(){return D(this,null,function*(){return(0,xe.getLookupAsync)("MasterCareerPath.MasterCareerPath")})}};o(S,"MasterCareerPathRow"),S.idProperty="Id",S.isActiveProperty="IsActive",S.nameProperty="CareerPathCode",S.localTextPrefix="EmployeeProfile.MasterCareerPath",S.lookupKey="MasterCareerPath.MasterCareerPath",S.deletePermission="Administration:HumanResources",S.insertPermission="Administration:HumanResources",S.readPermission="Administration:HumanResources",S.updatePermission="Administration:HumanResources",S.Fields=(0,xe.fieldsProxy)();var Kr=a(d(),1),lt;(e=>(e.baseUrl="EmployeeProfile/MasterCareerPath",e.Methods={Create:"EmployeeProfile/MasterCareerPath/Create",Update:"EmployeeProfile/MasterCareerPath/Update",Delete:"EmployeeProfile/MasterCareerPath/Delete",Retrieve:"EmployeeProfile/MasterCareerPath/Retrieve",List:"EmployeeProfile/MasterCareerPath/List"},["Create","Update","Delete","Retrieve","List"].forEach(t=>{e[t]=function(i,r,n){return(0,Kr.serviceRequest)(e.baseUrl+"/"+t,i,r,n)}})))(lt||(lt={}));var Rt=class{};o(Rt,"MasterDeductionColumns"),Rt.columnsKey="EmployeeProfile.MasterDeduction";var Q=a(y(),1),Wr=a(d(),1);var je=class extends Q.PrefixedContext{constructor(s){if(super(s),!je.init){je.init=!0;var e=Q.StringEditor,t=Q.DecimalEditor,i=Q.TextAreaEditor,r=Q.BooleanEditor;(0,Wr.initFormType)(je,["DeductionCode",e,"Amount",t,"Description",i,"Recurring",r,"OneTime",r])}}},gt=je;o(gt,"MasterDeductionForm"),gt.formKey="EmployeeProfile.MasterDeduction";var be=a(d(),1);var L=class{static getLookup(){return(0,be.getLookup)("MasterDeduction.MasterDeduction")}static getLookupAsync(){return D(this,null,function*(){return(0,be.getLookupAsync)("MasterDeduction.MasterDeduction")})}};o(L,"MasterDeductionRow"),L.idProperty="Id",L.isActiveProperty="IsActive",L.nameProperty="DeductionCode",L.localTextPrefix="EmployeeProfile.MasterDeduction",L.lookupKey="MasterDeduction.MasterDeduction",L.deletePermission="Administration:HumanResources",L.insertPermission="Administration:HumanResources",L.readPermission="Administration:HumanResources",L.updatePermission="Administration:HumanResources",L.Fields=(0,be.fieldsProxy)();var Yr=a(d(),1),ct;(e=>(e.baseUrl="EmployeeProfile/MasterDeduction",e.Methods={Create:"EmployeeProfile/MasterDeduction/Create",Update:"EmployeeProfile/MasterDeduction/Update",Delete:"EmployeeProfile/MasterDeduction/Delete",Retrieve:"EmployeeProfile/MasterDeduction/Retrieve",List:"EmployeeProfile/MasterDeduction/List"},["Create","Update","Delete","Retrieve","List"].forEach(t=>{e[t]=function(i,r,n){return(0,Yr.serviceRequest)(e.baseUrl+"/"+t,i,r,n)}})))(ct||(ct={}));var It=class{};o(It,"TerminateEmployeeColumns"),It.columnsKey="EmployeeProfile.TerminateEmployee";var Se=a(y(),1),zr=a(d(),1);var Ve=class extends Se.PrefixedContext{constructor(s){if(super(s),!Ve.init){Ve.init=!0;var e=Se.IntegerEditor,t=Se.DateEditor;(0,zr.initFormType)(Ve,["NoticePeriod",e,"TerminateDate",t,"TerminateLeaveDate",t])}}},Pt=Ve;o(Pt,"TerminateEmployeeForm"),Pt.formKey="EmployeeProfile.TerminateEmployee";var Zr=a(d(),1);var X=class{};o(X,"TerminateEmployeeRow"),X.idProperty="Id",X.localTextPrefix="EmployeeProfile.TerminateEmployee",X.deletePermission="*",X.insertPermission="*",X.readPermission="*",X.updatePermission="*",X.Fields=(0,Zr.fieldsProxy)();var eo=a(d(),1),_r;(e=>(e.baseUrl="EmployeeProfile/TerminateEmployee",e.Methods={Create:"EmployeeProfile/TerminateEmployee/Create",Update:"EmployeeProfile/TerminateEmployee/Update",Delete:"EmployeeProfile/TerminateEmployee/Delete",Retrieve:"EmployeeProfile/TerminateEmployee/Retrieve",List:"EmployeeProfile/TerminateEmployee/List"},["Create","Update","Delete","Retrieve","List"].forEach(t=>{e[t]=function(i,r,n){return(0,eo.serviceRequest)(e.baseUrl+"/"+t,i,r,n)}})))(_r||(_r={}));var xt=class{};o(xt,"UserCreationColumns"),xt.columnsKey="EmployeeProfile.UserCreation";var Le=a(y(),1),to=a(d(),1);var Qe=class extends Le.PrefixedContext{constructor(s){if(super(s),!Qe.init){Qe.init=!0;var e=Le.LookupEditor,t=Le.BooleanEditor;(0,to.initFormType)(Qe,["OccupationList",e,"DepartmentList",e,"DivisionList",e,"JobGradeList",e,"SectionList",e,"EmployeeRowList",e,"AllEmployee",t,"EmployeeRowHrPriveledge",e])}}},bt=Qe;o(bt,"UserCreationForm"),bt.formKey="EmployeeProfile.UserCreation";var ro=a(d(),1);var J=class{};o(J,"UserCreationRow"),J.idProperty="Id",J.nameProperty="EmployeeName",J.localTextPrefix="EmployeeProfile.UserCreation",J.deletePermission="Administration:HumanResources",J.insertPermission="Administration:HumanResources",J.readPermission="Administration:HumanResources",J.updatePermission="Administration:HumanResources",J.Fields=(0,ro.fieldsProxy)();var io=a(d(),1),oo;(e=>(e.baseUrl="EmployeeProfile/UserCreation",e.Methods={Create:"EmployeeProfile/UserCreation/Create",Update:"EmployeeProfile/UserCreation/Update",Delete:"EmployeeProfile/UserCreation/Delete",Retrieve:"EmployeeProfile/UserCreation/Retrieve",List:"EmployeeProfile/UserCreation/List"},["Create","Update","Delete","Retrieve","List"].forEach(t=>{e[t]=function(i,r,n){return(0,io.serviceRequest)(e.baseUrl+"/"+t,i,r,n)}})))(oo||(oo={}));var so=a(W(),1);var Xe=a(y(),1);var no=a(W(),1),Fe=a(d(),1);var ue=class extends no.GridEditorDialog{constructor(){super();this.form=new Y(this.idPrefix);this.form=new Y(this.idPrefix)}getFormKey(){return Y.formKey}getRowDefinition(){return I}getService(){return ze.baseUrl}getLocalTextPrefix(){return I.localTextPrefix}getNameProperty(){return I.nameProperty}onDialogOpen(){super.onDialogOpen();var e=this;$(".category-links").hide(),$(".field.SubjectionEis label.caption, .field.SubjectionEpf label.caption, .field.SubjectionHrdf label.caption").removeClass("caption"),$(".field.SubjectionPcb label.caption, .field.SubjectionSocso label.caption, .field.SubjectionOt label.caption").removeClass("caption"),$(".field.SubjectionEis, .field.SubjectionEpf, .field.SubjectionHrdf, .field.SubjectionPcb, .field.SubjectionSocso,  .field.SubjectionOt").addClass("col-md-2");var t=document.getElementById(`${this.idPrefix}MasterAllowanceId`);$(t).on("change",function(){return D(this,null,function*(){if(console.log(e.form.MasterAllowanceId.value),(0,Fe.isEmptyOrNull)(e.form.MasterAllowanceId.value)){e.hideAll(),e.form.Amount.value=null,e.form.Description.value="",e.form.FullAttendance.value=e.form.AllowanceSubjections.value=!1,$(r).trigger("change"),$(i).trigger("change");return}e.showAll(),console.log(e.form.MasterAllowanceId.value),Et.Retrieve({EntityId:e.form.MasterAllowanceId.value},p=>{console.log(p.Entity),e.form.Amount.value=p.Entity.Amount,e.form.Description.value=p.Entity.Description,e.form.AllowanceSubjections.value=p.Entity.AllowanceSubjections,$(i).trigger("change"),e.form.FullAttendance.value=p.Entity.FullAttendance,e.form.NoAbsence.value=p.Entity.NoAbsence,e.form.NoEarlyLeaving.value=p.Entity.NoEarlyLeaving,e.form.NoLate.value=p.Entity.NoLate,$(r).trigger("change"),e.form.ExemptAnnualLeave.value=p.Entity.ExemptAnnualLeave,e.form.ExemptCompassionateLeave.value=p.Entity.ExemptCompassionateLeave,e.form.ExemptEmergencyLeave.value=p.Entity.ExemptEmergencyLeave,e.form.ExemptGatepassLeave.value=p.Entity.ExemptGatepassLeave,e.form.ExemptHospitalisationLeave.value=p.Entity.ExemptHospitalisationLeave,e.form.ExemptMarriageLeave.value=p.Entity.ExemptMarriageLeave,e.form.ExemptMaternityLeave.value=p.Entity.ExemptMaternityLeave,e.form.ExemptPaternityLeave.value=p.Entity.ExemptPaternityLeave,e.form.ExemptSickLeave.value=p.Entity.ExemptSickLeave,e.form.ExemptUnpaidLeave.value=p.Entity.ExemptUnpaidLeave,e.form.OneTime.value=p.Entity.OneTime,e.form.Recurring.value=p.Entity.Recurring,e.form.SubjectionEpf.value=p.Entity.SubjectionEpf,e.form.SubjectionHrdf.value=p.Entity.SubjectionHrdf,e.form.SubjectionOt.value=p.Entity.SubjectionOt,e.form.SubjectionPcb.value=p.Entity.SubjectionPcb,e.form.SubjectionSocso.value=p.Entity.SubjectionSocso})})}),Xe.EditorUtils.setReadonly(this.form.PaidOneTime.element,!0),this.form.OneTime.value==!0&&this.form.PaidOneTime.value==!0&&Xe.EditorUtils.setReadonly(this.form.PaidOneTime.element,!1);var i=document.getElementById(this.idPrefix+"AllowanceSubjections");$(i).on("change",function(){return D(this,null,function*(){console.log("fire"),e.form.AllowanceSubjections.value==!0?($(".FullAttendance").show(),$(".NoLate").show(),$(".NoAbsence").show(),$(".NoEarlyLeaving").show(),e.form.FullAttendance.value==!1&&$(".ExemptUnpaidLeave").parent().hide()):(e.form.FullAttendance.value=e.form.NoLate.value=e.form.NoAbsence.value=!1,$(".FullAttendance").hide(),$(".NoLate").hide(),$(".NoAbsence").hide(),$(".NoEarlyLeaving").hide(),$(".ExemptUnpaidLeave").parent().hide())})});var r=document.getElementById(this.idPrefix+"FullAttendance");$(r).on("change",function(){return D(this,null,function*(){console.log("fire"),e.form.FullAttendance.value==!0?$(".ExemptUnpaidLeave").parent().show():(e.form.ExemptUnpaidLeave.value=e.form.ExemptHospitalisationLeave.value=e.form.ExemptSickLeave.value=e.form.ExemptAnnualLeave.value=e.form.ExemptMaternityLeave.value=e.form.ExemptPaternityLeave.value=e.form.ExemptMarriageLeave.value=e.form.ExemptCompassionateLeave.value=e.form.ExemptEmergencyLeave.value=e.form.ExemptGatepassLeave.value=!1,$(".ExemptUnpaidLeave").parent().hide())})});var n=document.getElementById(this.idPrefix+"Recurring");$(n).on("change",function(){return D(this,null,function*(){$(".PaidOneTime").hide(),console.log("fire"),e.form.OneTime.value==!0&&(e.form.OneTime.value=!1),e.form.Recurring.value==!0&&(e.form.OneTime.value=!1)})});var c=document.getElementById(this.idPrefix+"OneTime");$(c).on("change",function(){return D(this,null,function*(){console.log("fire"),$(".PaidOneTime").hide(),e.form.Recurring.value==!0&&(e.form.Recurring.value=!1),e.form.OneTime.value==!0&&($(".PaidOneTime").show(),e.form.Recurring.value=!1)})}),e.form.OneTime.value==!0&&($(".PaidOneTime").show(),e.form.Recurring.value=!1),this.hideAll(),this.isNew()||($(t).trigger("change"),console.log("haha")),$(".AllowanceCode").hide()}hideAll(){$(".AllowanceSubjections ").parent().hide(),$(".SubjectionEis ").parent().hide(),$(".Recurring").parent().hide(),$(".ExemptUnpaidLeave").parent().hide(),$(".NoLate, .NoAbsence, .NoEarlyLeaving, .FullAttendance").hide()}showAll(){$(".AllowanceSubjections ").parent().show(),$(".SubjectionEis ").parent().show(),$(".Recurring").parent().show(),$(".NoLate, .NoAbsence, .NoEarlyLeaving, .FullAttendance").show(),$(".ExemptUnpaidLeave").parent().show()}save_submitHandler(e){if(this.form.Recurring.value==!1&&this.form.OneTime.value==!1){(0,Fe.alertDialog)("Please choose the frequency of this allowance");return}if(this.form.AllowanceSubjections.value==!0&&this.form.FullAttendance.value==!1&&this.form.NoAbsence.value==!1&&this.form.NoEarlyLeaving.value==!1&&this.form.NoLate.value==!1){(0,Fe.alertDialog)("Please choose subjection of this allowance");return}this.form.AllowanceCode.value=this.form.MasterAllowanceId.text,super.save_submitHandler(e)}};o(ue,"EmployeeAllowanceEditDialog"),ue=R([Xe.Decorators.registerClass("HRMSoftware.EmployeeProfile.EmployeeAllowanceEditDialog")],ue);var de=class extends so.GridEditorBase{getColumnsKey(){return ye.columnsKey}getDialogType(){return ue}getLocalTextPrefix(){return I.localTextPrefix}getAddButtonCaption(){return"Add"}validateEntity(s,e){if(!super.validateEntity(s,e))return!1;var t=e!=null?e:s[this.getIdProperty()];return C.getLookupAsync().then(i=>{var n;var r=(n=this.view)==null?void 0:n.getItemById(t);r&&(console.log(i.itemById[s.MasterAllowanceId]),r.AllowanceCode=i.itemById[s.MasterAllowanceId].AllowanceCode,this.view.updateItem(t,r))}),!0}};o(de,"EmployeeAllowanceEditor"),de=R([ao.Decorators.registerEditor("HRMSoftware.EmployeeProfile.EmployeeAllowanceEditor")],de);export{I as a,ze as b,Ze as c,_e as d,T as e,er as f,ve as g,z as h,P as i,Z as j,De as k,et as l,x as m,tt as n,rt as o,ot as p,q,pr as r,st as s,de as t,pe as u,pt as v,dt as w,ut as x,j as y,$r as z,b as A,mt as B,ft as C,yt as D,C as E,Et as F,vt as G,Dt as H,S as I,lt as J,Rt as K,gt as L,L as M,ct as N,It as O,Pt as P,X as Q,_r as R,xt as S,bt as T,J as U,oo as V};
//# sourceMappingURL=chunk-NN5FEWI3.js.map
