import{a as ne}from"./chunk-K2UT2MVJ.js";import{a as d}from"./chunk-DNINIZJD.js";import{c as i,g as a,h as P,j as y,k as p}from"./chunk-L3ECGIWB.js";var gt=a(d(),1);var Oe=a(d(),1),Le=(e=>(e[e.None=0]="None",e[e.Class_1=1]="Class_1",e))(Le||{});Oe.Decorators.registerEnumType(Le,"HRMSoftware.EmployeeProfile.EISClass","HumanResource.EmployeeProfile.EISClass");var Te=a(d(),1);var T=class{format(s){let e=s.value;if(e==!1)return'<i class="fa fa-times" style="color:red"></i>';if(e==!0)return'<i class="fa fa-check" style="color:green"></i>'}};i(T,"StatusFormatter"),T=P([Te.Decorators.registerFormatter("HRMSoftware.StatusFormatter")],T);var M=class{};i(M,"EmployeeAllowanceColumns"),M.columnsKey="EmployeeProfile.EmployeeAllowance";var R=a(d(),1),He=a(p(),1);var W=class extends R.PrefixedContext{constructor(s){if(super(s),!W.init){W.init=!0;var e=R.StringEditor,t=R.LookupEditor,r=R.DecimalEditor,o=R.DateEditor,n=R.TextAreaEditor,m=R.BooleanEditor;(0,He.initFormType)(W,["AllowanceCode",e,"MasterAllowanceId",t,"Amount",r,"EffectiveFrom",o,"EffectiveUntil",o,"Description",n,"Recurring",m,"OneTime",m,"PaidOneTime",m,"AllowanceSubjections",m,"FullAttendance",m,"NoLate",m,"NoAbsence",m,"NoEarlyLeaving",m,"ExemptUnpaidLeave",m,"ExemptHospitalisationLeave",m,"ExemptSickLeave",m,"ExemptAnnualLeave",m,"ExemptMaternityLeave",m,"ExemptPaternityLeave",m,"ExemptMarriageLeave",m,"ExemptCompassionateLeave",m,"ExemptEmergencyLeave",m,"ExemptGatepassLeave",m,"SubjectionEis",m,"SubjectionEpf",m,"SubjectionHrdf",m,"SubjectionPcb",m,"SubjectionSocso",m,"SubjectionOt",m])}}},B=W;i(B,"EmployeeAllowanceForm"),B.formKey="EmployeeProfile.EmployeeAllowance";var j=a(p(),1);var E=class{static getLookup(){return(0,j.getLookup)("EmployeeAllowance.EmployeeAllowance")}static getLookupAsync(){return y(this,null,function*(){return(0,j.getLookupAsync)("EmployeeAllowance.EmployeeAllowance")})}};i(E,"EmployeeAllowanceRow"),E.idProperty="Id",E.isActiveProperty="IsActive",E.nameProperty="Description",E.localTextPrefix="EmployeeProfile.EmployeeAllowance",E.lookupKey="EmployeeAllowance.EmployeeAllowance",E.deletePermission="*",E.insertPermission="*",E.readPermission="*",E.updatePermission="*",E.Fields=(0,j.fieldsProxy)();var qe=a(p(),1),ae;(e=>(e.baseUrl="EmployeeProfile/EmployeeAllowance",e.Methods={Create:"EmployeeProfile/EmployeeAllowance/Create",Update:"EmployeeProfile/EmployeeAllowance/Update",Delete:"EmployeeProfile/EmployeeAllowance/Delete",Retrieve:"EmployeeProfile/EmployeeAllowance/Retrieve",List:"EmployeeProfile/EmployeeAllowance/List"},["Create","Update","Delete","Retrieve","List"].forEach(t=>{e[t]=function(r,o,n){return(0,qe.serviceRequest)(e.baseUrl+"/"+t,r,o,n)}})))(ae||(ae={}));var se=class{};i(se,"EmployeePersonalProfileColumns"),se.columnsKey="EmployeeProfile.EmployeePersonalProfile";var S=a(d(),1),Ce=a(p(),1);var V=class extends S.PrefixedContext{constructor(s){if(super(s),!V.init){V.init=!0;var e=S.StringEditor,t=S.IntegerEditor,r=S.DateEditor,o=S.DecimalEditor;(0,Ce.initFormType)(V,["EmployeeName",e,"EmployeeId",e,"Nric",e,"Age",t,"LastPaymentDate",r,"RecruitmentDate",r,"Birthday",r,"EmployeeEmail",e,"EpfAccountNumber",e,"ProbationPeriodEnd",r,"ProbationPeriod",t,"NoticePeriod",t,"Address",e,"TelNumber1",e,"TelNumber2",e,"PassportNumber",e,"PassportIssueDate",r,"PassportValidPeriod",t,"PassportExpiryDate",r,"BonusFactor",o,"BasicSalary",o,"Allowance",o,"InsertDate",r,"UpdateDate",r,"DeleteDate",r,"RaceId",t,"EmployeeType",t,"Sex",t,"DepartmentId",t,"IsActive",t,"InsertUserId",t,"UpdateUserId",t,"DeleteUserId",t,"DivisionId",t,"SectionId",t,"JobGradeId",t,"OccupationId",t,"BankId",t,"BankAccountNumber",e,"CityId",t,"StateId",t,"EmployeeImg",e,"NationalityId",t,"MaritalStatus",t,"GrantHrPrivilege",t,"CreateUser",t,"PayByHour",t,"PayByMonth",t,"PayByDay",t,"OtPayEntitlement",t,"DailyWorkingMinutes",t,"UserPassword",e,"UserRowId",t,"UserName",e,"ResignationDate",r,"LeaveDate",r,"Terminated",t,"Resigned",t,"EpfContribution",t])}}},le=V;i(le,"EmployeePersonalProfileForm"),le.formKey="EmployeeProfile.EmployeePersonalProfile";var ke=a(p(),1);var b=class{};i(b,"EmployeePersonalProfileRow"),b.idProperty="Id",b.nameProperty="EmployeeName",b.localTextPrefix="EmployeeProfile.EmployeePersonalProfile",b.deletePermission="Administration:HumanResources",b.insertPermission="Administration:HumanResources",b.readPermission="Administration:HumanResources",b.updatePermission="Administration:HumanResources",b.Fields=(0,ke.fieldsProxy)();var je=a(p(),1),Me;(e=>(e.baseUrl="EmployeeProfile/EmployeePersonalProfile",e.Methods={Create:"EmployeeProfile/EmployeePersonalProfile/Create",Update:"EmployeeProfile/EmployeePersonalProfile/Update",Delete:"EmployeeProfile/EmployeePersonalProfile/Delete",Retrieve:"EmployeeProfile/EmployeePersonalProfile/Retrieve",List:"EmployeeProfile/EmployeePersonalProfile/List"},["Create","Update","Delete","Retrieve","List"].forEach(t=>{e[t]=function(r,o,n){return(0,je.serviceRequest)(e.baseUrl+"/"+t,r,o,n)}})))(Me||(Me={}));var Je=a(d(),1),me=(e=>(e[e.Male=1]="Male",e[e.Female=2]="Female",e))(me||{});Je.Decorators.registerEnumType(me,"HRMSoftware.EmployeeProfile.SexType","HumanResource.EmployeeProfile.SexType");var ce=class{};i(ce,"EmployeeProfileColumns"),ce.columnsKey="EmployeeProfile.EmployeeProfile";var u=a(d(),1);var $e=a(d(),1),Ie=(e=>(e[e.Local=1]="Local",e[e.Foreigner=2]="Foreigner",e))(Ie||{});$e.Decorators.registerEnumType(Ie,"HRMSoftware.EmployeeProfile.EmployeeType","HumanResource.EmployeeProfile.EmployeeType");var Fe=a(d(),1),Ae=(e=>(e[e.Single=0]="Single",e[e.Married=1]="Married",e))(Ae||{});Fe.Decorators.registerEnumType(Ae,"HRMSoftware.EmployeeProfile.MaritalStatus","HumanResource.EmployeeProfile.MaritalStatus");var Qe=a(d(),1),he=(e=>(e[e.UnderProbation=0]="UnderProbation",e[e.PassedProbation=1]="PassedProbation",e))(he||{});Qe.Decorators.registerEnumType(he,"HRMSoftware.EmployeeProfile.ProbationClass","HumanResource.EmployeeProfile.ProbationClass");var Ke=a(d(),1);var We=a(ne(),1);var z=a(d(),1);var Xe=a(ne(),1),Ge=a(p(),1);var H=class extends Xe.GridEditorDialog{constructor(){super();this.form=new O(this.idPrefix);this.form=new O(this.idPrefix)}getFormKey(){return O.formKey}getRowDefinition(){return f}getService(){return pe.baseUrl}getLocalTextPrefix(){return f.localTextPrefix}getNameProperty(){return f.nameProperty}onDialogOpen(){super.onDialogOpen();var e=this;this.$(".DeductionCode").hide();var t=document.getElementById(`${this.idPrefix}MasterDeductionId`);$(t).on("change",function(){return y(this,null,function*(){de.Retrieve({EntityId:e.form.MasterDeductionId.value},n=>{e.form.Amount.value=n.Entity.Amount,e.form.Description.value=n.Entity.Description,e.form.OneTime.value=n.Entity.OneTime,e.form.Recurring.value=n.Entity.Recurring})})}),z.EditorUtils.setReadonly(this.form.DeductedOneTime.element,!0),this.form.OneTime.value==!0&&this.form.DeductedOneTime.value==!0&&z.EditorUtils.setReadonly(this.form.DeductedOneTime.element,!1);var r=document.getElementById(this.idPrefix+"Recurring");$(r).on("change",function(){return y(this,null,function*(){$(".DeductedOneTime").hide(),e.form.OneTime.value==!0&&(e.form.OneTime.value=!1),e.form.Recurring.value==!0&&(e.form.OneTime.value=!1)})});var o=document.getElementById(this.idPrefix+"OneTime");$(o).on("change",function(){return y(this,null,function*(){$(".DeductedOneTime").hide(),e.form.Recurring.value==!0&&(e.form.Recurring.value=!1),e.form.OneTime.value==!0&&($(".DeductedOneTime").show(),e.form.Recurring.value=!1)})}),e.form.OneTime.value==!0&&($(".DeductedOneTime").show(),e.form.Recurring.value=!1)}save_submitHandler(e){if(this.form.Recurring.value==!1&&this.form.OneTime.value==!1){(0,Ge.alertDialog)("Please choose the frequency of this deduction");return}this.form.DeductionCode.value=this.form.MasterDeductionId.text,super.save_submitHandler(e)}};i(H,"FixedDeductionEditDialog"),H=P([z.Decorators.registerClass("HRMSoftware.EmployeeProfile.FixedDeductionEditDialog")],H);var q=class extends We.GridEditorBase{getColumnsKey(){return J.columnsKey}getDialogType(){return H}getLocalTextPrefix(){return f.localTextPrefix}getAddButtonCaption(){return"Add"}validateEntity(s,e){if(!super.validateEntity(s,e))return!1;var t=e!=null?e:s[this.getIdProperty()];return v.getLookupAsync().then(r=>{var n;var o=(n=this.view)==null?void 0:n.getItemById(t);o&&(o.DeductionCode=r.itemById[s.MasterDeductionId].DeductionCode,this.view.updateItem(t,o))}),!0}};i(q,"FixedDeductionEditor"),q=P([Ke.Decorators.registerEditor("HRMSoftware.EmployeeProfile.FixedDeductionEditor")],q);var Ve=a(d(),1),Ne=(n=>(n[n.None=0]="None",n[n.Class_1=1]="Class_1",n[n.Class_3=2]="Class_3",n[n.Class_5=3]="Class_5",n[n.Class_4=4]="Class_4",n[n.Class_2=5]="Class_2",n))(Ne||{});Ve.Decorators.registerEnumType(Ne,"HRMSoftware.EmployeeProfile.EPFClass","HumanResource.EmployeeProfile.EPFClass");var ze=a(d(),1),Ue=(t=>(t[t.None=0]="None",t[t.Class_1=1]="Class_1",t[t.Class_2=2]="Class_2",t))(Ue||{});ze.Decorators.registerEnumType(Ue,"HRMSoftware.EmployeeProfile.SOCSOClass","HumanResource.EmployeeProfile.SOCSOClass");var Ye=a(d(),1),Be=(e=>(e[e.None=0]="None",e[e.Class_1=1]="Class_1",e))(Be||{});Ye.Decorators.registerEnumType(Be,"HRMSoftware.EmployeeProfile.HRDFClass","HumanResource.EmployeeProfile.HRDFClass");var Ze=a(p(),1);var Y=class extends u.PrefixedContext{constructor(s){if(super(s),!Y.init){Y.init=!0;var e=u.DateEditor,t=u.ImageUploadEditor,r=u.StringEditor,o=u.EnumEditor,n=u.LookupEditor,m=u.IntegerEditor,c=u.MultipleImageUploadEditor,U=u.BooleanEditor,N=u.DecimalEditor,Dt=C,bt=q;(0,Ze.initFormType)(Y,["ResignationDate",e,"ResignLeaveDate",e,"TerminateDate",e,"TerminateLeaveDate",e,"EmployeeImg",t,"EmployeeName",r,"EmployeeID",r,"Sex",o,"Birthday",e,"EmployeeEmail",r,"EmployeeType",o,"RecruitmentDate",e,"TelNumber1",r,"TelNumber2",r,"MaritalStatus",o,"Nric",r,"RetireDate",e,"RaceID",n,"NationalityID",n,"StateID",n,"CityID",n,"PassedProbation",o,"ProbationPeriodFrom",e,"ProbationPeriodUntil",e,"WorkingPermit",r,"ArrivalDate",e,"WorkingPermitIssueDate",e,"WorkingPermitExpireDate",e,"WorkingPermitValidFrom",e,"WorkingPermitValidUntil",e,"PassportNumber",r,"PassportIssueDate",e,"PassportValidPeriod",m,"PassportExpiryDate",e,"Address",r,"PostalCode",r,"CountryID",n,"Cp8dID",n,"DepartmentID",n,"DivisionID",n,"SectionID",n,"JobGradeID",n,"OccupationID",n,"CostCentreID",n,"JobDescription",c,"CreateUser",U,"GrantHRPrivilege",U,"UserName",r,"UserPassword",r,"WorkingSpouse",U,"ChildrenInUniversity",m,"ChildrenUnderEighteen",m,"DisabledChildInUniversity",m,"DisabledChild",m,"BasicSalary",N,"DailyWorkingMinute",m,"NightShiftAllowancePerDay",N,"BankID",n,"BankAccountNumber",r,"OtPayEntitlement",U,"FixedOtRateOption",U,"PayByMonth",U,"PayByHour",U,"PayByDay",U,"AllowanceLists",Dt,"FixedDeductionList",bt,"EpfClass",o,"EpfAccountNumber",r,"EisClass",o,"SocsoClass",o,"SocsoAccountNumber",r,"SsfwEffectiveDate",e,"HRDFClass",o,"PCBnumber",r,"CalculationDate",e,"WorkingHour",N,"WorkingDays",N,"DailyRateBase",N,"NplRateBase",N,"OtRateWeekday",N,"OtRateWeekend",N,"OtRatePublicHoliday",N])}}},ue=Y;i(ue,"EmployeeProfileForm"),ue.formKey="EmployeeProfile.EmployeeProfile";var Ee=class{};i(Ee,"EmployeeResignColumns"),Ee.columnsKey="EmployeeProfile.EmployeeResign";var F=a(d(),1),_e=a(p(),1);var Z=class extends F.PrefixedContext{constructor(s){if(super(s),!Z.init){Z.init=!0;var e=F.IntegerEditor,t=F.DateEditor;(0,_e.initFormType)(Z,["NoticePeriod",e,"ResignationDate",t,"ResignLeaveDate",t])}}},fe=Z;i(fe,"EmployeeResignForm"),fe.formKey="EmployeeProfile.EmployeeResign";var we=a(p(),1);var L=class{};i(L,"EmployeeResignRow"),L.idProperty="Id",L.localTextPrefix="EmployeeProfile.EmployeeResign",L.deletePermission="*",L.insertPermission="*",L.readPermission="*",L.updatePermission="*",L.Fields=(0,we.fieldsProxy)();var tt=a(p(),1),et;(e=>(e.baseUrl="EmployeeProfile/EmployeeResign",e.Methods={Create:"EmployeeProfile/EmployeeResign/Create",Update:"EmployeeProfile/EmployeeResign/Update",Delete:"EmployeeProfile/EmployeeResign/Delete",Retrieve:"EmployeeProfile/EmployeeResign/Retrieve",List:"EmployeeProfile/EmployeeResign/List"},["Create","Update","Delete","Retrieve","List"].forEach(t=>{e[t]=function(r,o,n){return(0,tt.serviceRequest)(e.baseUrl+"/"+t,r,o,n)}})))(et||(et={}));var J=class{};i(J,"FixedDeductionColumns"),J.columnsKey="EmployeeProfile.FixedDeduction";var D=a(d(),1),ot=a(p(),1);var _=class extends D.PrefixedContext{constructor(s){if(super(s),!_.init){_.init=!0;var e=D.StringEditor,t=D.LookupEditor,r=D.DecimalEditor,o=D.DateEditor,n=D.TextAreaEditor,m=D.BooleanEditor;(0,ot.initFormType)(_,["DeductionCode",e,"MasterDeductionId",t,"Amount",r,"EffectiveFrom",o,"EffectiveUntil",o,"Description",n,"Recurring",m,"OneTime",m,"DeductedOneTime",m])}}},O=_;i(O,"FixedDeductionForm"),O.formKey="EmployeeProfile.FixedDeduction";var rt=a(p(),1);var f=class{};i(f,"FixedDeductionRow"),f.idProperty="Id",f.isActiveProperty="IsActive",f.nameProperty="Description",f.localTextPrefix="EmployeeProfile.FixedDeduction",f.deletePermission="Administration:HumanResources",f.insertPermission="Administration:HumanResources",f.readPermission="Administration:HumanResources",f.updatePermission="Administration:HumanResources",f.Fields=(0,rt.fieldsProxy)();var it=a(p(),1),pe;(e=>(e.baseUrl="EmployeeProfile/FixedDeduction",e.Methods={Create:"EmployeeProfile/FixedDeduction/Create",Update:"EmployeeProfile/FixedDeduction/Update",Delete:"EmployeeProfile/FixedDeduction/Delete",Retrieve:"EmployeeProfile/FixedDeduction/Retrieve",List:"EmployeeProfile/FixedDeduction/List"},["Create","Update","Delete","Retrieve","List"].forEach(t=>{e[t]=function(r,o,n){return(0,it.serviceRequest)(e.baseUrl+"/"+t,r,o,n)}})))(pe||(pe={}));var ye=class{};i(ye,"MasterAllowanceColumns"),ye.columnsKey="EmployeeProfile.MasterAllowance";var I=a(d(),1),nt=a(p(),1);var w=class extends I.PrefixedContext{constructor(s){if(super(s),!w.init){w.init=!0;var e=I.StringEditor,t=I.DecimalEditor,r=I.TextAreaEditor,o=I.BooleanEditor;(0,nt.initFormType)(w,["AllowanceCode",e,"Amount",t,"Description",r,"Recurring",o,"OneTime",o,"AllowanceSubjections",o,"FullAttendance",o,"NoLate",o,"NoAbsence",o,"NoEarlyLeaving",o,"ExemptUnpaidLeave",o,"ExemptHospitalisationLeave",o,"ExemptSickLeave",o,"ExemptAnnualLeave",o,"ExemptMaternityLeave",o,"ExemptPaternityLeave",o,"ExemptMarriageLeave",o,"ExemptCompassionateLeave",o,"ExemptEmergencyLeave",o,"ExemptGatepassLeave",o,"SubjectionEis",o,"SubjectionEpf",o,"SubjectionSocso",o,"SubjectionPcb",o,"SubjectionHrdf",o,"SubjectionOt",o])}}},ve=w;i(ve,"MasterAllowanceForm"),ve.formKey="EmployeeProfile.MasterAllowance";var Q=a(p(),1);var g=class{static getLookup(){return(0,Q.getLookup)("MasterAllowance.MasterAllowance")}static getLookupAsync(){return y(this,null,function*(){return(0,Q.getLookupAsync)("MasterAllowance.MasterAllowance")})}};i(g,"MasterAllowanceRow"),g.idProperty="Id",g.isActiveProperty="IsActive",g.nameProperty="AllowanceCode",g.localTextPrefix="EmployeeProfile.MasterAllowance",g.lookupKey="MasterAllowance.MasterAllowance",g.deletePermission="Administration:HumanResources",g.insertPermission="Administration:HumanResources",g.readPermission="Administration:HumanResources",g.updatePermission="Administration:HumanResources",g.Fields=(0,Q.fieldsProxy)();var at=a(p(),1),ge;(e=>(e.baseUrl="EmployeeProfile/MasterAllowance",e.Methods={Create:"EmployeeProfile/MasterAllowance/Create",Update:"EmployeeProfile/MasterAllowance/Update",Delete:"EmployeeProfile/MasterAllowance/Delete",Retrieve:"EmployeeProfile/MasterAllowance/Retrieve",List:"EmployeeProfile/MasterAllowance/List"},["Create","Update","Delete","Retrieve","List"].forEach(t=>{e[t]=function(r,o,n){return(0,at.serviceRequest)(e.baseUrl+"/"+t,r,o,n)}})))(ge||(ge={}));var Re=class{};i(Re,"MasterDeductionColumns"),Re.columnsKey="EmployeeProfile.MasterDeduction";var A=a(d(),1),st=a(p(),1);var ee=class extends A.PrefixedContext{constructor(s){if(super(s),!ee.init){ee.init=!0;var e=A.StringEditor,t=A.DecimalEditor,r=A.TextAreaEditor,o=A.BooleanEditor;(0,st.initFormType)(ee,["DeductionCode",e,"Amount",t,"Description",r,"Recurring",o,"OneTime",o])}}},De=ee;i(De,"MasterDeductionForm"),De.formKey="EmployeeProfile.MasterDeduction";var X=a(p(),1);var v=class{static getLookup(){return(0,X.getLookup)("MasterDeduction.MasterDeduction")}static getLookupAsync(){return y(this,null,function*(){return(0,X.getLookupAsync)("MasterDeduction.MasterDeduction")})}};i(v,"MasterDeductionRow"),v.idProperty="Id",v.isActiveProperty="IsActive",v.nameProperty="DeductionCode",v.localTextPrefix="EmployeeProfile.MasterDeduction",v.lookupKey="MasterDeduction.MasterDeduction",v.deletePermission="Administration:HumanResources",v.insertPermission="Administration:HumanResources",v.readPermission="Administration:HumanResources",v.updatePermission="Administration:HumanResources",v.Fields=(0,X.fieldsProxy)();var lt=a(p(),1),de;(e=>(e.baseUrl="EmployeeProfile/MasterDeduction",e.Methods={Create:"EmployeeProfile/MasterDeduction/Create",Update:"EmployeeProfile/MasterDeduction/Update",Delete:"EmployeeProfile/MasterDeduction/Delete",Retrieve:"EmployeeProfile/MasterDeduction/Retrieve",List:"EmployeeProfile/MasterDeduction/List"},["Create","Update","Delete","Retrieve","List"].forEach(t=>{e[t]=function(r,o,n){return(0,lt.serviceRequest)(e.baseUrl+"/"+t,r,o,n)}})))(de||(de={}));var be=class{};i(be,"TerminateEmployeeColumns"),be.columnsKey="EmployeeProfile.TerminateEmployee";var G=a(d(),1),mt=a(p(),1);var te=class extends G.PrefixedContext{constructor(s){if(super(s),!te.init){te.init=!0;var e=G.IntegerEditor,t=G.DateEditor;(0,mt.initFormType)(te,["NoticePeriod",e,"TerminateDate",t,"TerminateLeaveDate",t])}}},xe=te;i(xe,"TerminateEmployeeForm"),xe.formKey="EmployeeProfile.TerminateEmployee";var ct=a(p(),1);var h=class{};i(h,"TerminateEmployeeRow"),h.idProperty="Id",h.localTextPrefix="EmployeeProfile.TerminateEmployee",h.deletePermission="*",h.insertPermission="*",h.readPermission="*",h.updatePermission="*",h.Fields=(0,ct.fieldsProxy)();var dt=a(p(),1),pt;(e=>(e.baseUrl="EmployeeProfile/TerminateEmployee",e.Methods={Create:"EmployeeProfile/TerminateEmployee/Create",Update:"EmployeeProfile/TerminateEmployee/Update",Delete:"EmployeeProfile/TerminateEmployee/Delete",Retrieve:"EmployeeProfile/TerminateEmployee/Retrieve",List:"EmployeeProfile/TerminateEmployee/List"},["Create","Update","Delete","Retrieve","List"].forEach(t=>{e[t]=function(r,o,n){return(0,dt.serviceRequest)(e.baseUrl+"/"+t,r,o,n)}})))(pt||(pt={}));var Pe=class{};i(Pe,"UserCreationColumns"),Pe.columnsKey="EmployeeProfile.UserCreation";var K=a(d(),1),ut=a(p(),1);var oe=class extends K.PrefixedContext{constructor(s){if(super(s),!oe.init){oe.init=!0;var e=K.LookupEditor,t=K.BooleanEditor;(0,ut.initFormType)(oe,["OccupationList",e,"DepartmentList",e,"DivisionList",e,"JobGradeList",e,"SectionList",e,"EmployeeRowList",e,"AllEmployee",t,"EmployeeRowHrPriveledge",e])}}},Se=oe;i(Se,"UserCreationForm"),Se.formKey="EmployeeProfile.UserCreation";var Et=a(p(),1);var x=class{};i(x,"UserCreationRow"),x.idProperty="Id",x.nameProperty="EmployeeName",x.localTextPrefix="EmployeeProfile.UserCreation",x.deletePermission="Administration:HumanResources",x.insertPermission="Administration:HumanResources",x.readPermission="Administration:HumanResources",x.updatePermission="Administration:HumanResources",x.Fields=(0,Et.fieldsProxy)();var yt=a(p(),1),ft;(e=>(e.baseUrl="EmployeeProfile/UserCreation",e.Methods={Create:"EmployeeProfile/UserCreation/Create",Update:"EmployeeProfile/UserCreation/Update",Delete:"EmployeeProfile/UserCreation/Delete",Retrieve:"EmployeeProfile/UserCreation/Retrieve",List:"EmployeeProfile/UserCreation/List"},["Create","Update","Delete","Retrieve","List"].forEach(t=>{e[t]=function(r,o,n){return(0,yt.serviceRequest)(e.baseUrl+"/"+t,r,o,n)}})))(ft||(ft={}));var Rt=a(ne(),1);var re=a(d(),1);var vt=a(ne(),1),ie=a(p(),1);var k=class extends vt.GridEditorDialog{constructor(){super();this.form=new B(this.idPrefix);this.form=new B(this.idPrefix)}getFormKey(){return B.formKey}getRowDefinition(){return E}getService(){return ae.baseUrl}getLocalTextPrefix(){return E.localTextPrefix}getNameProperty(){return E.nameProperty}onDialogOpen(){super.onDialogOpen();var e=this;$(".category-links").hide(),$(".field.SubjectionEis label.caption, .field.SubjectionEpf label.caption, .field.SubjectionHrdf label.caption").removeClass("caption"),$(".field.SubjectionPcb label.caption, .field.SubjectionSocso label.caption, .field.SubjectionOt label.caption").removeClass("caption"),$(".field.SubjectionEis, .field.SubjectionEpf, .field.SubjectionHrdf, .field.SubjectionPcb, .field.SubjectionSocso,  .field.SubjectionOt").addClass("col-md-2");var t=document.getElementById(`${this.idPrefix}MasterAllowanceId`);$(t).on("change",function(){return y(this,null,function*(){if(console.log(e.form.MasterAllowanceId.value),(0,ie.isEmptyOrNull)(e.form.MasterAllowanceId.value)){e.hideAll(),e.form.Amount.value=null,e.form.Description.value="",e.form.FullAttendance.value=e.form.AllowanceSubjections.value=!1,$(o).trigger("change"),$(r).trigger("change");return}e.showAll(),console.log(e.form.MasterAllowanceId.value),ge.Retrieve({EntityId:e.form.MasterAllowanceId.value},c=>{console.log(c.Entity),e.form.Amount.value=c.Entity.Amount,e.form.Description.value=c.Entity.Description,e.form.AllowanceSubjections.value=c.Entity.AllowanceSubjections,$(r).trigger("change"),e.form.FullAttendance.value=c.Entity.FullAttendance,e.form.NoAbsence.value=c.Entity.NoAbsence,e.form.NoEarlyLeaving.value=c.Entity.NoEarlyLeaving,e.form.NoLate.value=c.Entity.NoLate,$(o).trigger("change"),e.form.ExemptAnnualLeave.value=c.Entity.ExemptAnnualLeave,e.form.ExemptCompassionateLeave.value=c.Entity.ExemptCompassionateLeave,e.form.ExemptEmergencyLeave.value=c.Entity.ExemptEmergencyLeave,e.form.ExemptGatepassLeave.value=c.Entity.ExemptGatepassLeave,e.form.ExemptHospitalisationLeave.value=c.Entity.ExemptHospitalisationLeave,e.form.ExemptMarriageLeave.value=c.Entity.ExemptMarriageLeave,e.form.ExemptMaternityLeave.value=c.Entity.ExemptMaternityLeave,e.form.ExemptPaternityLeave.value=c.Entity.ExemptPaternityLeave,e.form.ExemptSickLeave.value=c.Entity.ExemptSickLeave,e.form.ExemptUnpaidLeave.value=c.Entity.ExemptUnpaidLeave,e.form.OneTime.value=c.Entity.OneTime,e.form.Recurring.value=c.Entity.Recurring,e.form.SubjectionEpf.value=c.Entity.SubjectionEpf,e.form.SubjectionHrdf.value=c.Entity.SubjectionHrdf,e.form.SubjectionOt.value=c.Entity.SubjectionOt,e.form.SubjectionPcb.value=c.Entity.SubjectionPcb,e.form.SubjectionSocso.value=c.Entity.SubjectionSocso})})}),re.EditorUtils.setReadonly(this.form.PaidOneTime.element,!0),this.form.OneTime.value==!0&&this.form.PaidOneTime.value==!0&&re.EditorUtils.setReadonly(this.form.PaidOneTime.element,!1);var r=document.getElementById(this.idPrefix+"AllowanceSubjections");$(r).on("change",function(){return y(this,null,function*(){console.log("fire"),e.form.AllowanceSubjections.value==!0?($(".FullAttendance").show(),$(".NoLate").show(),$(".NoAbsence").show(),$(".NoEarlyLeaving").show(),e.form.FullAttendance.value==!1&&$(".ExemptUnpaidLeave").parent().hide()):(e.form.FullAttendance.value=e.form.NoLate.value=e.form.NoAbsence.value=!1,$(".FullAttendance").hide(),$(".NoLate").hide(),$(".NoAbsence").hide(),$(".NoEarlyLeaving").hide(),$(".ExemptUnpaidLeave").parent().hide())})});var o=document.getElementById(this.idPrefix+"FullAttendance");$(o).on("change",function(){return y(this,null,function*(){console.log("fire"),e.form.FullAttendance.value==!0?$(".ExemptUnpaidLeave").parent().show():(e.form.ExemptUnpaidLeave.value=e.form.ExemptHospitalisationLeave.value=e.form.ExemptSickLeave.value=e.form.ExemptAnnualLeave.value=e.form.ExemptMaternityLeave.value=e.form.ExemptPaternityLeave.value=e.form.ExemptMarriageLeave.value=e.form.ExemptCompassionateLeave.value=e.form.ExemptEmergencyLeave.value=e.form.ExemptGatepassLeave.value=!1,$(".ExemptUnpaidLeave").parent().hide())})});var n=document.getElementById(this.idPrefix+"Recurring");$(n).on("change",function(){return y(this,null,function*(){$(".PaidOneTime").hide(),console.log("fire"),e.form.OneTime.value==!0&&(e.form.OneTime.value=!1),e.form.Recurring.value==!0&&(e.form.OneTime.value=!1)})});var m=document.getElementById(this.idPrefix+"OneTime");$(m).on("change",function(){return y(this,null,function*(){console.log("fire"),$(".PaidOneTime").hide(),e.form.Recurring.value==!0&&(e.form.Recurring.value=!1),e.form.OneTime.value==!0&&($(".PaidOneTime").show(),e.form.Recurring.value=!1)})}),e.form.OneTime.value==!0&&($(".PaidOneTime").show(),e.form.Recurring.value=!1),this.hideAll(),this.isNew()||($(t).trigger("change"),console.log("haha")),$(".AllowanceCode").hide()}hideAll(){$(".AllowanceSubjections ").parent().hide(),$(".SubjectionEis ").parent().hide(),$(".Recurring").parent().hide(),$(".ExemptUnpaidLeave").parent().hide(),$(".NoLate, .NoAbsence, .NoEarlyLeaving, .FullAttendance").hide()}showAll(){$(".AllowanceSubjections ").parent().show(),$(".SubjectionEis ").parent().show(),$(".Recurring").parent().show(),$(".NoLate, .NoAbsence, .NoEarlyLeaving, .FullAttendance").show(),$(".ExemptUnpaidLeave").parent().show()}save_submitHandler(e){if(this.form.Recurring.value==!1&&this.form.OneTime.value==!1){(0,ie.alertDialog)("Please choose the frequency of this allowance");return}if(this.form.AllowanceSubjections.value==!0&&this.form.FullAttendance.value==!1&&this.form.NoAbsence.value==!1&&this.form.NoEarlyLeaving.value==!1&&this.form.NoLate.value==!1){(0,ie.alertDialog)("Please choose subjection of this allowance");return}this.form.AllowanceCode.value=this.form.MasterAllowanceId.text,super.save_submitHandler(e)}};i(k,"EmployeeAllowanceEditDialog"),k=P([re.Decorators.registerClass("HRMSoftware.EmployeeProfile.EmployeeAllowanceEditDialog")],k);var C=class extends Rt.GridEditorBase{getColumnsKey(){return M.columnsKey}getDialogType(){return k}getLocalTextPrefix(){return E.localTextPrefix}getAddButtonCaption(){return"Add"}validateEntity(s,e){if(!super.validateEntity(s,e))return!1;var t=e!=null?e:s[this.getIdProperty()];return g.getLookupAsync().then(r=>{var n;var o=(n=this.view)==null?void 0:n.getItemById(t);o&&(console.log(r.itemById[s.MasterAllowanceId]),o.AllowanceCode=r.itemById[s.MasterAllowanceId].AllowanceCode,this.view.updateItem(t,o))}),!0}};i(C,"EmployeeAllowanceEditor"),C=P([gt.Decorators.registerEditor("HRMSoftware.EmployeeProfile.EmployeeAllowanceEditor")],C);export{E as a,ae as b,ce as c,C as d,q as e,ue as f,Ee as g,fe as h,L as i,et as j,f as k,pe as l,ye as m,ve as n,g as o,ge as p,Re as q,De as r,v as s,de as t,be as u,xe as v,h as w,pt as x,Pe as y,Se as z,x as A,ft as B};
//# sourceMappingURL=chunk-KJR5IZZY.js.map
