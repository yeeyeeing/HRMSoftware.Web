import{d as R}from"./chunk-O6KXVEE7.js";import{b as x}from"./chunk-2SJ2SYN6.js";import{a as g}from"./chunk-DNINIZJD.js";import{c as i,g as l,h as I,k as S}from"./chunk-L3ECGIWB.js";var n=l(g(),1),L=l(S(),1);var v=class{};i(v,"SetEmployeeShiftColumns"),v.columnsKey="SetEmployeeShift.SetEmployeeShift";var s=l(g(),1);var b=l(S(),1);var f=class extends s.PrefixedContext{constructor(E){if(super(E),!f.init){f.init=!0;var t=s.LookupEditor,r=s.StringEditor,o=s.DateEditor;(0,b.initFormType)(f,["EmployeeRowId",t,"EmployeeName",r,"ShiftStartDate",o,"ShiftEndDate",o,"ShiftId",t,"EmployeeGroupId",t])}}},a=f;i(a,"SetEmployeeShiftForm"),a.formKey="SetEmployeeShift.SetEmployeeShift";var q=l(S(),1);var e=class{};i(e,"SetEmployeeShiftRow"),e.idProperty="Id",e.isActiveProperty="IsActive",e.nameProperty="EmployeeName",e.localTextPrefix="SetEmployeeShift.SetEmployeeShift",e.deletePermission="Administration:HumanResources",e.insertPermission="Administration:HumanResources",e.readPermission="*",e.updatePermission="Administration:HumanResources",e.Fields=(0,q.fieldsProxy)();var P=l(S(),1),h;(t=>(t.baseUrl="SetEmployeeShift/SetEmployeeShift",t.Methods={Create:"SetEmployeeShift/SetEmployeeShift/Create",Update:"SetEmployeeShift/SetEmployeeShift/Update",Delete:"SetEmployeeShift/SetEmployeeShift/Delete",Retrieve:"SetEmployeeShift/SetEmployeeShift/Retrieve",List:"SetEmployeeShift/SetEmployeeShift/List"},["Create","Update","Delete","Retrieve","List"].forEach(r=>{t[r]=function(o,d,p){return(0,P.serviceRequest)(t.baseUrl+"/"+r,o,d,p)}})))(h||(h={}));var c=class extends n.EntityDialog{constructor(t,r,o,d){super();this.form=new a(this.idPrefix);this.EmployeeRowID=t;var p=new Date(r);this.form.ShiftStartDate.set_value(r),this.form.ShiftEndDate.set_maxValue(d),this.form.ShiftEndDate.set_minDate(p),n.EditorUtils.setReadonly(this.form.ShiftStartDate.element,!0),this.cloneButton.remove(),o==1?this.saveAndCloseButton.remove():(this.localizationButton.remove(),this.applyChangesButton.remove(),this.undeleteButton.remove())}getFormKey(){return a.formKey}getRowDefinition(){return e}getService(){return h.baseUrl}dialogOpen(t){this.isNew()?(this.deleteButton.remove(),$(".EmployeeGroupId").hide()):(0,L.isEmptyOrNull)(this.form.EmployeeGroupId.value)?$(".EmployeeGroupId").hide():this.readOnly=!0,super.dialogOpen(t),x.List({},u=>{for(var m in u.Entities)if(u.Entities[m].Id==this.EmployeeRowID){this.form.EmployeeRowId.value=u.Entities[m].Id.toString(),n.EditorUtils.setReadonly(this.form.EmployeeRowId.element,!0),this.form.EmployeeName.value=u.Entities[m].EmployeeName.toString(),n.EditorUtils.setReadonly(this.form.EmployeeName.element,!0);break}});var r=$(".fieldset").children().uniqueId(),o="",d=this.idPrefix+"PropertyGrid";for(var p in r)d==r[p].id&&(o=r[p].id.toString());var D="#"+o.replace("PropertyGrid","ShiftId");$(D).on("change",function(u){var m=new R;m.loadByIdAndOpenDialog($(D).val()),m.readOnly=!0})}};i(c,"SetEmployeeShiftDialog"),c=I([n.Decorators.registerClass("HRMSoftware.SetEmployeeShift.SetEmployeeShiftDialog")],c);export{v as a,e as b,h as c,c as d};
//# sourceMappingURL=chunk-FT4TSSDS.js.map
