import{c as j,d as V}from"./chunk-U2RRK6JY.js";import{a as Y}from"./chunk-K2UT2MVJ.js";import{a as h}from"./chunk-DNINIZJD.js";import{c as r,g as o,h as X,j as W,k as u}from"./chunk-L3ECGIWB.js";var _=o(u(),1),Z;(e=>(e.baseUrl="EmployeeGroup/EmployeeGroup",e.Methods={Create:"EmployeeGroup/EmployeeGroup/Create",Update:"EmployeeGroup/EmployeeGroup/Update",Delete:"EmployeeGroup/EmployeeGroup/Delete",Retrieve:"EmployeeGroup/EmployeeGroup/Retrieve",List:"EmployeeGroup/EmployeeGroup/List",ListGroup:"EmployeeGroup/EmployeeGroup/ListGroup"},["Create","Update","Delete","Retrieve","List","ListGroup"].forEach(t=>{e[t]=function(i,a,d){return(0,_.serviceRequest)(e.baseUrl+"/"+t,i,a,d)}})))(Z||(Z={}));var k=class{};r(k,"EmployeeGroupColumns"),k.columnsKey="EmployeeGroup.EmployeeGroup";var v=o(h(),1);var te=o(h(),1),re=o(Y(),1);var w=o(h(),1),ee=o(Y(),1),z=o(u(),1);var A=o(u(),1);var S=class extends ee.GridEditorDialog{constructor(){super();this.form=new R(this.idPrefix)}getFormKey(){return R.formKey}getLocalTextPrefix(){return c.localTextPrefix}dialogOpen(e){super.dialogOpen(e);var t=this;this.isNew()==!1&&j.List({},i=>{for(var a in i.Entities)if(i.Entities[a].Id==parseInt(this.form.ShiftId.value)){var d=new V;d.loadByIdAndOpenDialog(this.form.ShiftId.value),d.set_readOnly(!0)}}),$(this.form.ShiftStartDate.element).on("change",function(i){(0,A.isEmptyOrNull)(t.form.ShiftEndDate.value)||(0,A.isEmptyOrNull)(t.form.ShiftStartDate.value)||t.form.ShiftStartDate.valueAsDate>=t.form.ShiftEndDate.valueAsDate&&((0,z.alertDialog)("Shift Start Date cannot be later than Shift End Date"),t.form.ShiftStartDate.value="")}),$(this.form.ShiftEndDate.element).on("change",function(i){(0,A.isEmptyOrNull)(t.form.ShiftEndDate.value)||(0,A.isEmptyOrNull)(t.form.ShiftStartDate.value)||t.form.ShiftStartDate.valueAsDate>=t.form.ShiftEndDate.valueAsDate&&((0,z.alertDialog)("Shift Start Date cannot be later than Shift End Date"),t.form.ShiftEndDate.value="")}),$(this.form.ShiftId.element).on("change",function(i){j.List({},a=>{for(var d in a.Entities)if(a.Entities[d].Id==this.form.ShiftId.value){var p=new V;p.loadByIdAndOpenDialog(this.form.ShiftId.value),p.set_readOnly(!0)}})})}save_submitHandler(e){super.save_submitHandler(e)}};r(S,"EmployeeGroupShiftEditDialog"),S=X([w.Decorators.registerClass("HRMSoftware.EmployeeGroup.EmployeeGroupShiftEditDialog")],S);var oe=o(u(),1),ie=o(u(),1);var D=class extends re.GridEditorBase{getColumnsKey(){return x.columnsKey}getDialogType(){return S}getLocalTextPrefix(){return c.localTextPrefix}getAddButtonCaption(){return"Add Shift"}validateEntity(s,e){function t(p){return new Date(p)}r(t,"parseDate");function i(p,y,U,b){return p<b&&y>=U}r(i,"areShiftsOverlapping");function a(p){var y=!1;for(let E=0;E<p.length;E++){var U=t(p[E].ShiftStartDate),b=t(p[E].ShiftEndDate);for(let I=0;I<p.length;I++)if(E!=I){var Q=t(p[I].ShiftStartDate),M=t(p[I].ShiftEndDate);if(i(U,b,Q,M)){var F="There is a clash between "+p[E].Shift+" and "+p[I].Shift;(0,ie.alertDialog)(F),y=!0;break}}if(y==!0)break}return y}if(r(a,"areAnyShiftsOverlapping"),!super.validateEntity(s,e))return!1;var d=e!=null?e:s[this.getIdProperty()];return console.log(this.value),(0,oe.getLookupAsync)("ShiftRow.ShiftRow").then(p=>{var Q;var y=(Q=this.view)==null?void 0:Q.getItemById(d);let U=s.ShiftId.toString(),b=parseInt(U);s.ShiftId=b,console.log(s),console.log(y),console.log(d),y&&(y.Shift=p.itemById[s.ShiftId].ShiftName,a(this.value)==!0&&(this.value=this.value.slice(0,-1),console.log(this.value),this.view.refresh()),this.value=this.value.sort((M,F)=>new Date(M.ShiftStartDate).getTime()-new Date(F.ShiftStartDate).getTime()))}),!0}};r(D,"EmployeeGroupShiftEditor"),D=X([te.Decorators.registerEditor("HRMSoftware.EmployeeGroup.EmployeeGroupShiftEditor")],D);var se=o(u(),1);var P=class extends v.PrefixedContext{constructor(s){if(super(s),!P.init){P.init=!0;var e=v.StringEditor,t=v.TextAreaEditor,i=v.LookupEditor,a=D;(0,se.initFormType)(P,["Name",e,"ShiftColor",e,"Description",t,"OccupationList",i,"DepartmentList",i,"DivisionList",i,"JobGradeList",i,"SectionList",i,"EmployeeList",i,"NewAddedEmployee",i,"Shifts",a,"ActualShifts",a])}}},T=P;r(T,"EmployeeGroupForm"),T.formKey="EmployeeGroup.EmployeeGroup";var C=class{};r(C,"EmployeeGroupingsColumns"),C.columnsKey="EmployeeGroup.EmployeeGroupings";var g=o(h(),1),ne=o(u(),1);var H=class extends g.PrefixedContext{constructor(s){if(super(s),!H.init){H.init=!0;var e=g.IntegerEditor,t=g.DateEditor;(0,ne.initFormType)(H,["IsActive",e,"InsertUserId",e,"UpdateUserId",e,"DeleteUserId",e,"InsertDate",t,"UpdateDate",t,"DeleteDate",t,"EmployeeRowId",e,"EmployeeGroupId",e])}}},K=H;r(K,"EmployeeGroupingsForm"),K.formKey="EmployeeGroup.EmployeeGroupings";var ae=o(u(),1);var m=class{};r(m,"EmployeeGroupingsRow"),m.idProperty="Id",m.isActiveProperty="IsActive",m.localTextPrefix="EmployeeGroup.EmployeeGroupings",m.deletePermission="Administration:HumanResources",m.insertPermission="Administration:HumanResources",m.readPermission="*",m.updatePermission="Administration:HumanResources",m.Fields=(0,ae.fieldsProxy)();var ue=o(u(),1),pe;(e=>(e.baseUrl="EmployeeGroup/EmployeeGroupings",e.Methods={Create:"EmployeeGroup/EmployeeGroupings/Create",Update:"EmployeeGroup/EmployeeGroupings/Update",Delete:"EmployeeGroup/EmployeeGroupings/Delete",Retrieve:"EmployeeGroup/EmployeeGroupings/Retrieve",List:"EmployeeGroup/EmployeeGroupings/List"},["Create","Update","Delete","Retrieve","List"].forEach(t=>{e[t]=function(i,a,d){return(0,ue.serviceRequest)(e.baseUrl+"/"+t,i,a,d)}})))(pe||(pe={}));var L=o(u(),1);var l=class{static getLookup(){return(0,L.getLookup)("EmployeeGroup.EmployeeGroup")}static getLookupAsync(){return W(this,null,function*(){return(0,L.getLookupAsync)("EmployeeGroup.EmployeeGroup")})}};r(l,"EmployeeGroupRow"),l.idProperty="Id",l.isActiveProperty="IsActive",l.nameProperty="Name",l.localTextPrefix="EmployeeGroup.EmployeeGroup",l.lookupKey="EmployeeGroup.EmployeeGroup",l.deletePermission="Administration:HumanResources",l.insertPermission="Administration:HumanResources",l.readPermission="*",l.updatePermission="Administration:HumanResources",l.Fields=(0,L.fieldsProxy)();var x=class{};r(x,"EmployeeGroupShiftColumns"),x.columnsKey="EmployeeGroup.EmployeeGroupShift";var q=o(h(),1),de=o(u(),1);var O=class extends q.PrefixedContext{constructor(s){if(super(s),!O.init){O.init=!0;var e=q.LookupEditor,t=q.DateEditor;(0,de.initFormType)(O,["ShiftId",e,"ShiftStartDate",t,"ShiftEndDate",t])}}},R=O;r(R,"EmployeeGroupShiftForm"),R.formKey="EmployeeGroup.EmployeeGroupShift";var N=class{};r(N,"EmployeeGroupShiftPatternColumns"),N.columnsKey="EmployeeGroup.EmployeeGroupShiftPattern";var G=o(h(),1),ce=o(u(),1);var J=class extends G.PrefixedContext{constructor(s){if(super(s),!J.init){J.init=!0;var e=G.IntegerEditor,t=G.DateEditor;(0,ce.initFormType)(J,["EmployeeRowId",e,"InsertDate",t,"ShiftStartDate",t,"ShiftEndDate",t,"ShiftId",e,"UpdateDate",t,"DeleteDate",t,"IsActive",e,"InsertUserId",e,"DeleteUserId",e,"UpdateUserId",e,"EmployeeGroupId",e])}}},B=J;r(B,"EmployeeGroupShiftPatternForm"),B.formKey="EmployeeGroup.EmployeeGroupShiftPattern";var le=o(u(),1);var f=class{};r(f,"EmployeeGroupShiftPatternRow"),f.idProperty="Id",f.isActiveProperty="IsActive",f.localTextPrefix="EmployeeGroup.EmployeeGroupShiftPattern",f.deletePermission="Administration:HumanResources",f.insertPermission="Administration:HumanResources",f.readPermission="Administration:HumanResources",f.updatePermission="Administration:HumanResources",f.Fields=(0,le.fieldsProxy)();var fe=o(u(),1),me;(e=>(e.baseUrl="EmployeeGroup/EmployeeGroupShiftPattern",e.Methods={Create:"EmployeeGroup/EmployeeGroupShiftPattern/Create",Update:"EmployeeGroup/EmployeeGroupShiftPattern/Update",Delete:"EmployeeGroup/EmployeeGroupShiftPattern/Delete",Retrieve:"EmployeeGroup/EmployeeGroupShiftPattern/Retrieve",List:"EmployeeGroup/EmployeeGroupShiftPattern/List"},["Create","Update","Delete","Retrieve","List"].forEach(t=>{e[t]=function(i,a,d){return(0,fe.serviceRequest)(e.baseUrl+"/"+t,i,a,d)}})))(me||(me={}));var ye=o(u(),1);var c=class{};r(c,"EmployeeGroupShiftRow"),c.idProperty="Id",c.isActiveProperty="IsActive",c.localTextPrefix="EmployeeGroup.EmployeeGroupShift",c.deletePermission="Administration:HumanResources",c.insertPermission="Administration:HumanResources",c.readPermission="Administration:HumanResources",c.updatePermission="Administration:HumanResources",c.Fields=(0,ye.fieldsProxy)();var Se=o(u(),1),ve;(e=>(e.baseUrl="EmployeeGroup/EmployeeGroupShift",e.Methods={Create:"EmployeeGroup/EmployeeGroupShift/Create",Update:"EmployeeGroup/EmployeeGroupShift/Update",Delete:"EmployeeGroup/EmployeeGroupShift/Delete",Retrieve:"EmployeeGroup/EmployeeGroupShift/Retrieve",List:"EmployeeGroup/EmployeeGroupShift/List"},["Create","Update","Delete","Retrieve","List"].forEach(t=>{e[t]=function(i,a,d){return(0,Se.serviceRequest)(e.baseUrl+"/"+t,i,a,d)}})))(ve||(ve={}));export{k as a,T as b,C as c,K as d,m as e,pe as f,l as g,Z as h,x as i,R as j,N as k,B as l,f as m,me as n,c as o,ve as p};
//# sourceMappingURL=chunk-2372Z4UN.js.map
