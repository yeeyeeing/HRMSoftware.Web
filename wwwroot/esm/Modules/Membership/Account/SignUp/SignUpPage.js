import{a as f}from"../../../../_chunks/chunk-DRQSB3Q4.js";import{e as m,f as u,g as t}from"../../../../_chunks/chunk-EUGFEW3M.js";import{a as o}from"../../../../_chunks/chunk-IYSPN7FL.js";import{a as p}from"../../../../_chunks/chunk-DNINIZJD.js";import{c as s,g as l,k as c}from"../../../../_chunks/chunk-L3ECGIWB.js";var d=l(p(),1),i=l(c(),1);function h(){new a($("#SignUpPanel"))}s(h,"pageInit");var r=o.Forms.Membership.SignUp,a=class extends d.PropertyPanel{constructor(e){super(e);this.form=new m(this.idPrefix),this.form.Email.element.attr("autocomplete","off"),this.form.Password.element.attr("autocomplete","new-password"),this.form.ConfirmEmail.addValidationRule(this.uniqueName,n=>{if(this.form.ConfirmEmail.value!==this.form.Email.value)return o.Validation.EmailConfirm}),this.form.ConfirmPassword.addValidationRule(this.uniqueName,n=>{if(this.form.ConfirmPassword.value!==this.form.Password.value)return o.Validation.PasswordConfirmMismatch})}getFormKey(){return m.formKey}submitClick(){this.validateForm()&&(0,i.serviceCall)({url:(0,i.resolveUrl)("~/Account/SignUp"),request:{DisplayName:this.form.DisplayName.value,Email:this.form.Email.value,Password:this.form.Password.value},onSuccess:e=>{if(e.DemoActivationLink){(0,i.informationDialog)(`You would normally receive an e-mail with instructions to active your account now.

But as this is a DEMO, you'll be redirected to the activation page automatically. `,()=>{window.location.href=(0,i.resolveUrl)(e.DemoActivationLink)});return}(0,i.informationDialog)(r.Success,()=>{window.location.href=(0,i.resolveUrl)("~/")})}})}renderContents(){let e=this.useIdPrefix();this.element.empty().append(t(u,{children:[t(f,{}),t("div",{class:"s-Panel p-4",children:[t("h5",{class:"text-center my-4",children:r.FormTitle}),t("p",{class:"text-center",children:r.FormInfo}),t("form",{id:e.Form,action:"",autoComplete:"off",children:[t("input",{autoComplete:"false",name:"hidden",type:"text",style:"display:none;"}),t("div",{id:e.PropertyGrid}),t("div",{class:"px-field",children:t("button",{id:e.SubmitButton,type:"submit",class:"btn btn-primary my-4 w-100",onClick:n=>{n.preventDefault(),this.submitClick()},children:r.SubmitButton})})]})]})]}))}};s(a,"SignUpPanel");export{h as default};
//# sourceMappingURL=SignUpPage.js.map
