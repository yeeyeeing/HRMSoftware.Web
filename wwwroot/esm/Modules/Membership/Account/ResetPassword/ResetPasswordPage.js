import{a as l}from"../../../../_chunks/chunk-IDSOH7UP.js";import{d as a,g as t}from"../../../../_chunks/chunk-EUGFEW3M.js";import{a as i}from"../../../../_chunks/chunk-6IC4MFYL.js";import{a as p}from"../../../../_chunks/chunk-DNINIZJD.js";import{c as n,g as m,k as h}from"../../../../_chunks/chunk-L3ECGIWB.js";var c=m(p(),1),s=m(h(),1);function w(u){$(function(){new o($("#PanelDiv").addClass("s-full-page justify-content-center"),u)})}n(w,"pageInit");var d=i.Forms.Membership.ResetPassword,o=class extends c.PropertyPanel{constructor(e,r){super(e,r);this.form=new a(this.idPrefix);this.form.NewPassword.addValidationRule(this.uniqueName,f=>{if(this.form.NewPassword.value.length<7)return(0,s.format)(i.Validation.MinRequiredPasswordLength,7)}),this.form.ConfirmPassword.addValidationRule(this.uniqueName,f=>{if(this.form.ConfirmPassword.value!==this.form.NewPassword.value)return i.Validation.PasswordConfirmMismatch})}getFormKey(){return a.formKey}submitClick(){if(this.validateForm()){var e=this.getSaveEntity();e.Token=this.byId("Token").val(),(0,s.serviceCall)({url:(0,s.resolveUrl)("~/Account/ResetPassword"),request:e,onSuccess:()=>{(0,s.informationDialog)(d.Success,()=>{window.location.href=(0,s.resolveUrl)("~/Account/Login")})}})}}renderContents(){let e=this.useIdPrefix();this.element.empty().append(t("div",{class:"s-container-tight",children:[t(l,{}),t("div",{class:"s-Panel p-4",children:[t("h5",{class:"text-center mb-4",children:d.FormTitle}),t("form",{id:e.Form,action:"",children:[t("div",{id:e.PropertyGrid}),t("button",{id:e.SubmitButton,type:"submit",class:"btn btn-primary mx-8 w-100",onClick:r=>{r.preventDefault(),this.submitClick()},children:d.SubmitButton}),t("input",{type:"hidden",id:e.Token,value:this.options.token})]})]})]}))}};n(o,"ResetPasswordPanel");export{o as ResetPasswordPanel,w as default};
//# sourceMappingURL=ResetPasswordPage.js.map
