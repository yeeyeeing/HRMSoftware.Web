import{G as J}from"../../../../_chunks/chunk-BAMNZFIK.js";import"../../../../_chunks/chunk-DA7Z2NN7.js";import{a as v}from"../../../../_chunks/chunk-27W64ILM.js";import{c as b,d as S,e as o,f as p}from"../../../../_chunks/chunk-NN5FEWI3.js";import{l as M}from"../../../../_chunks/chunk-KCWQ5BXW.js";import{f as w,j as Q,n as k,r as R}from"../../../../_chunks/chunk-MVZ476J5.js";import"../../../../_chunks/chunk-DMDSRNFC.js";import{a as x}from"../../../../_chunks/chunk-LLMDZJQJ.js";import{b as I}from"../../../../_chunks/chunk-MUCPV7IN.js";import"../../../../_chunks/chunk-K2UT2MVJ.js";import{a as g}from"../../../../_chunks/chunk-DNINIZJD.js";import{c as u,g as c,h as f,k as E}from"../../../../_chunks/chunk-L3ECGIWB.js";var Y=c(E(),1);var y=c(g(),1);var m=c(g(),1),L=c(E(),1);var l=class extends m.EntityDialog{constructor(){super(...arguments);this.form=new S(this.idPrefix)}getFormKey(){return S.formKey}getRowDefinition(){return o}getService(){return p.baseUrl}dialogOpen(s){super.dialogOpen(s);var e=!0,t=this;for((0,L.serviceCall)({service:J.baseUrl+"/GetTodayDateTime",method:"GET",data:{},async:!1,onSuccess:n=>{t.dateString=n,e=!1}});e==!0;);var a=document.getElementById(this.idPrefix+"PayMonth"),A=document.getElementById(this.idPrefix+"PayYear");let N=new m.Select2Editor($(a)),C=new m.Select2Editor($(A)),P=["January","February","March","April","May","June","July","August","September","October","November","December"];var D=new Date(t.dateString),h=D.getFullYear(),B=D.getMonth();for(let n=0;n<P.length;n++)N.addItem({id:n.toString(),text:P[n].toString()});t.isNew()&&N.set_value(B.toString());for(let n=-1;n<2;n++)C.addItem({id:(h+n).toString(),text:(h+n).toString()});t.isNew()&&C.set_value(h.toString())}};u(l,"EmployeeBonusDialog"),l=f([m.Decorators.registerClass("HRMSoftware.EmployeeProfile.EmployeeBonusDialog")],l);var F=c(E(),1);var i=c(g(),1);var d=class extends y.EntityGrid{getColumnsKey(){return b.columnsKey}getDialogType(){return l}getRowDefinition(){return o}getService(){return p.baseUrl}constructor(r){super(r)}getQuickFilters(){let r=super.getQuickFilters();var s=o;return F.Authorization.hasPermission(v.HumanResources)&&(r.push({cssClass:"hidden-xs",field:s.Fields.CostCentreName,type:i.Select2Editor,title:"Cost Centre"}),r.push({cssClass:"hidden-xs",field:s.Fields.OccupationName,type:i.Select2Editor,title:"Occupation"}),r.push({cssClass:"hidden-xs",field:s.Fields.JobGradeName,type:i.Select2Editor,title:"Job Grade"}),r.push({cssClass:"hidden-xs",field:s.Fields.DivisionName,type:i.Select2Editor,title:"Division"}),r.push({cssClass:"hidden-xs",field:s.Fields.DepartmentName,type:i.Select2Editor,title:"Department"}),r.push({cssClass:"hidden-xs",field:s.Fields.SectionName,type:i.Select2Editor,title:"Section"}),r.push({cssClass:"hidden-xs",field:s.Fields.EmployeeName,type:i.Select2Editor,title:"Name"}),r.push({cssClass:"hidden-xs",field:s.Fields.EmployeeID,type:i.Select2Editor,title:"Employee ID"}),r.reverse()),r.push({cssClass:"hidden-xs",field:s.Fields.PayMonth,type:i.Select2Editor,title:"Pay Month"}),r.push({cssClass:"hidden-xs",field:s.Fields.PayYear,type:i.Select2Editor,title:"Pay Year"}),r}createQuickFilters(){let r=["January","February","March","April","May","June","July","August","September","October","November","December"];super.createQuickFilters(),F.Authorization.hasPermission(v.HumanResources)?(k.List({},e=>{for(var t in e.Entities)this.findQuickFilter(i.Select2Editor,o.Fields.OccupationName).items.push({id:e.Entities[t].Name.toString(),text:e.Entities[t].Name.toString()})}),Q.List({},e=>{for(var t in e.Entities)this.findQuickFilter(i.Select2Editor,o.Fields.JobGradeName).items.push({id:e.Entities[t].Name.toString(),text:e.Entities[t].Name.toString()})}),x.List({},e=>{for(var t in e.Entities)this.findQuickFilter(i.Select2Editor,o.Fields.DepartmentName).items.push({id:e.Entities[t].Name.toString(),text:e.Entities[t].Name.toString()})}),w.List({},e=>{for(var t in e.Entities)this.findQuickFilter(i.Select2Editor,o.Fields.DivisionName).items.push({id:e.Entities[t].Name.toString(),text:e.Entities[t].Name.toString()})}),R.List({},e=>{for(var t in e.Entities)this.findQuickFilter(i.Select2Editor,o.Fields.SectionName).items.push({id:e.Entities[t].Name.toString(),text:e.Entities[t].Name.toString()})}),I.List({},e=>{for(var t in e.Entities)this.findQuickFilter(i.Select2Editor,o.Fields.EmployeeName).items.push({id:e.Entities[t].EmployeeName.toString(),text:e.Entities[t].EmployeeName.toString()}),this.findQuickFilter(i.Select2Editor,o.Fields.EmployeeID).items.push({id:e.Entities[t].EmployeeID.toString(),text:e.Entities[t].EmployeeID.toString()})}),M.List({},e=>{for(var t in e.Entities)this.findQuickFilter(i.Select2Editor,o.Fields.CostCentreName).items.push({id:e.Entities[t].Name.toString(),text:e.Entities[t].Name.toString()})})):this.toolbar.findButton("add-button").toggle(!1);for(var s in r)this.findQuickFilter(i.Select2Editor,o.Fields.PayMonth).items.push({id:s.toString(),text:r[s].toString()});p.List({},e=>{let t=[];for(var a in e.Entities)t.indexOf(e.Entities[a].PayYear)==-1&&t.push(e.Entities[a].PayYear);for(var a in t)this.findQuickFilter(i.Select2Editor,o.Fields.PayYear).items.push({id:t[a].toString(),text:t[a].toString()})})}};u(d,"EmployeeBonusGrid"),d=f([y.Decorators.registerClass("HRMSoftware.EmployeeProfile.EmployeeBonusGrid")],d);function G(){(0,Y.initFullHeightGridPage)(new d($("#GridDiv")).element)}u(G,"pageInit");export{G as default};
//# sourceMappingURL=EmployeeBonusPage.js.map
