import{G as J}from"../../../../_chunks/chunk-BAMNZFIK.js";import"../../../../_chunks/chunk-DA7Z2NN7.js";import{a as D}from"../../../../_chunks/chunk-27W64ILM.js";import{o as R,p as v,q as g,r as u}from"../../../../_chunks/chunk-NN5FEWI3.js";import{l as M}from"../../../../_chunks/chunk-KCWQ5BXW.js";import{f as x,j as k,n as Q,r as I}from"../../../../_chunks/chunk-MVZ476J5.js";import"../../../../_chunks/chunk-DMDSRNFC.js";import{a as C}from"../../../../_chunks/chunk-LLMDZJQJ.js";import{b as L}from"../../../../_chunks/chunk-MUCPV7IN.js";import"../../../../_chunks/chunk-K2UT2MVJ.js";import{a as h}from"../../../../_chunks/chunk-DNINIZJD.js";import{c as d,g as c,h as p,k as E}from"../../../../_chunks/chunk-L3ECGIWB.js";var j=c(E(),1);var l=c(h(),1),Y=c(E(),1);var a=class extends l.EntityDialog{constructor(){super(...arguments);this.form=new v(this.idPrefix)}getFormKey(){return v.formKey}getRowDefinition(){return g}getService(){return u.baseUrl}dialogOpen(i){super.dialogOpen(i);var f=!0,t=this;for((0,Y.serviceCall)({service:J.baseUrl+"/GetTodayDateTime",method:"GET",data:{},async:!1,onSuccess:n=>{t.dateString=n,f=!1}});f==!0;);var e=document.getElementById(this.idPrefix+"PayMonth"),s=document.getElementById(this.idPrefix+"PayYear");let b=new l.Select2Editor($(e)),N=new l.Select2Editor($(s)),P=["January","February","March","April","May","June","July","August","September","October","November","December"];var w=new Date(t.dateString),S=w.getFullYear(),G=w.getMonth();for(let n=0;n<P.length;n++)b.addItem({id:n.toString(),text:P[n].toString()});t.isNew()&&b.set_value(G.toString());for(let n=-1;n<2;n++)N.addItem({id:(S+n).toString(),text:(S+n).toString()});t.isNew()&&N.set_value(S.toString())}};d(a,"EmployeeIncentiveDialog"),a=p([l.Decorators.registerClass("HRMSoftware.EmployeeProfile.EmployeeIncentiveDialog")],a);var y=c(h(),1);var F=c(E(),1),r=c(h(),1);var m=class extends y.EntityGrid{getColumnsKey(){return R.columnsKey}getDialogType(){return a}getRowDefinition(){return g}getService(){return u.baseUrl}constructor(o){super(o)}getQuickFilters(){let o=super.getQuickFilters();var i=this.getRowDefinition();return F.Authorization.hasPermission(D.HumanResources)&&(o.push({cssClass:"hidden-xs",field:i.Fields.CostCentreName,type:r.Select2Editor,title:"Cost Centre"}),o.push({cssClass:"hidden-xs",field:i.Fields.OccupationName,type:r.Select2Editor,title:"Occupation"}),o.push({cssClass:"hidden-xs",field:i.Fields.JobGradeName,type:r.Select2Editor,title:"Job Grade"}),o.push({cssClass:"hidden-xs",field:i.Fields.DivisionName,type:r.Select2Editor,title:"Division"}),o.push({cssClass:"hidden-xs",field:i.Fields.DepartmentName,type:r.Select2Editor,title:"Department"}),o.push({cssClass:"hidden-xs",field:i.Fields.SectionName,type:r.Select2Editor,title:"Section"}),o.push({cssClass:"hidden-xs",field:i.Fields.EmployeeName,type:r.Select2Editor,title:"Name"}),o.push({cssClass:"hidden-xs",field:i.Fields.EmployeeID,type:r.Select2Editor,title:"Employee ID"}),o.reverse()),o.push({cssClass:"hidden-xs",field:i.Fields.PayMonth,type:r.Select2Editor,title:"Pay Month"}),o.push({cssClass:"hidden-xs",field:i.Fields.PayYear,type:r.Select2Editor,title:"Pay Year"}),o}createQuickFilters(){let o=["January","February","March","April","May","June","July","August","September","October","November","December"];super.createQuickFilters();var i=this;F.Authorization.hasPermission(D.HumanResources)?(Q.List({},t=>{for(var e in t.Entities)this.findQuickFilter(r.Select2Editor,i.getRowDefinition().Fields.OccupationName).items.push({id:t.Entities[e].Name.toString(),text:t.Entities[e].Name.toString()})}),k.List({},t=>{for(var e in t.Entities)this.findQuickFilter(r.Select2Editor,i.getRowDefinition().Fields.JobGradeName).items.push({id:t.Entities[e].Name.toString(),text:t.Entities[e].Name.toString()})}),C.List({},t=>{for(var e in t.Entities)this.findQuickFilter(r.Select2Editor,i.getRowDefinition().Fields.DepartmentName).items.push({id:t.Entities[e].Name.toString(),text:t.Entities[e].Name.toString()})}),x.List({},t=>{for(var e in t.Entities)this.findQuickFilter(r.Select2Editor,i.getRowDefinition().Fields.DivisionName).items.push({id:t.Entities[e].Name.toString(),text:t.Entities[e].Name.toString()})}),I.List({},t=>{for(var e in t.Entities)this.findQuickFilter(r.Select2Editor,i.getRowDefinition().Fields.SectionName).items.push({id:t.Entities[e].Name.toString(),text:t.Entities[e].Name.toString()})}),L.List({},t=>{for(var e in t.Entities)this.findQuickFilter(r.Select2Editor,i.getRowDefinition().Fields.EmployeeName).items.push({id:t.Entities[e].EmployeeName.toString(),text:t.Entities[e].EmployeeName.toString()}),this.findQuickFilter(r.Select2Editor,i.getRowDefinition().Fields.EmployeeID).items.push({id:t.Entities[e].EmployeeID.toString(),text:t.Entities[e].EmployeeID.toString()})}),M.List({},t=>{for(var e in t.Entities)this.findQuickFilter(r.Select2Editor,i.getRowDefinition().Fields.CostCentreName).items.push({id:t.Entities[e].Name.toString(),text:t.Entities[e].Name.toString()})})):this.toolbar.findButton("add-button").toggle(!1);for(var f in o)this.findQuickFilter(r.Select2Editor,i.getRowDefinition().Fields.PayMonth).items.push({id:f.toString(),text:o[f].toString()});u.List({},t=>{let e=[];for(var s in t.Entities)e.indexOf(t.Entities[s].PayYear)==-1&&e.push(t.Entities[s].PayYear);for(var s in e)this.findQuickFilter(r.Select2Editor,i.getRowDefinition().Fields.PayYear).items.push({id:e[s].toString(),text:e[s].toString()})})}};d(m,"EmployeeIncentiveGrid"),m=p([y.Decorators.registerClass("HRMSoftware.EmployeeProfile.EmployeeIncentiveGrid")],m);function A(){(0,j.initFullHeightGridPage)(new m($("#GridDiv")).element)}d(A,"pageInit");export{A as default};
//# sourceMappingURL=EmployeeIncentivePage.js.map
