import{c as Qe,d as Gt}from"../../../../_chunks/chunk-2W3R3JAJ.js";import{a as Wt}from"../../../../_chunks/chunk-NNRE4DRV.js";import{h as Mt}from"../../../../_chunks/chunk-RTS3PGWE.js";import{a as Tt}from"../../../../_chunks/chunk-HR7XNGC4.js";import{a as Ht}from"../../../../_chunks/chunk-XZWHNQBU.js";import{a as Bt}from"../../../../_chunks/chunk-F6BPY5OW.js";import{a as Ft}from"../../../../_chunks/chunk-3NNO6A5I.js";import{G as Lt}from"../../../../_chunks/chunk-VLL7NB2K.js";import{a as At}from"../../../../_chunks/chunk-33LYT3QR.js";import{d as It,e as Xt,f as ei}from"../../../../_chunks/chunk-7LATD64C.js";import{a as Ot}from"../../../../_chunks/chunk-VHXXD5DZ.js";import{d as Nt}from"../../../../_chunks/chunk-I3VQVPHQ.js";import{d as xt}from"../../../../_chunks/chunk-OLYWZP6G.js";import"../../../../_chunks/chunk-3XL6K2Z3.js";import"../../../../_chunks/chunk-CICJSBLQ.js";import"../../../../_chunks/chunk-BFH3N3PU.js";import{d as Ut}from"../../../../_chunks/chunk-6ZNY3LBE.js";import"../../../../_chunks/chunk-T7E74GLF.js";import{d as Ct}from"../../../../_chunks/chunk-K6RLFFE2.js";import{c as St,d as kt}from"../../../../_chunks/chunk-USJNQGRS.js";import{c as $t}from"../../../../_chunks/chunk-U2RRK6JY.js";import{d as He}from"../../../../_chunks/chunk-HDHDXEPW.js";import"../../../../_chunks/chunk-BVVXSYMS.js";import{n as Fe}from"../../../../_chunks/chunk-DA7Z2NN7.js";import{a as Be}from"../../../../_chunks/chunk-27W64ILM.js";import{s as Rt,v as ot}from"../../../../_chunks/chunk-XMVX6RS3.js";import"../../../../_chunks/chunk-HERT6KZV.js";import"../../../../_chunks/chunk-DMDSRNFC.js";import"../../../../_chunks/chunk-TIB4BNCY.js";import{a as Je,b as k}from"../../../../_chunks/chunk-BA2LGLQM.js";import"../../../../_chunks/chunk-K2UT2MVJ.js";import{a as nt}from"../../../../_chunks/chunk-DNINIZJD.js";import{c as R,g as _,h as Ke,j as ie,k as de}from"../../../../_chunks/chunk-L3ECGIWB.js";var Vt=_(nt(),1),Re=_(de(),1),Ie=_(de(),1),$e=_(de(),1),_t=_(de(),1);var ae=_(nt(),1);var m=_(nt(),1);var Ne=_(de(),1);var p=_(de(),1);var De=_(de(),1);var Pe=class extends m.EntityDialog{constructor(){super();this.form=new ot(this.idPrefix);this.list_of_employee_id=[];this.list_of_employee_row_id=[];this.ListOfUserName=[];this.OriginalValue={};this.EditedValue={};this.form.FixedDeductionList.slickGrid.setOptions({rowHeight:30}),this.form.AllowanceLists.slickGrid.setOptions({rowHeight:30}),this.form.EmployeeCareerPath.slickGrid.setOptions({rowHeight:30}),this.cloneButton.remove(),k.List({},e=>{for(var a in e.Entities)this.list_of_employee_id.push(e.Entities[a].EmployeeID),this.list_of_employee_row_id.push(e.Entities[a].Id)}),He.List({},e=>{for(var a in e.Entities)e.Entities[a].IsActive==1&&(this.ProbationMonths=e.Entities[a].ProbationPeriod,this.RetireAge=e.Entities[a].RetireAge)})}getFormKey(){return ot.formKey}getRowDefinition(){return Je}getService(){return k.baseUrl}createUser(){var e=this;Fe.Create({Entity:{Username:this.form.UserName.value,DisplayName:this.form.EmployeeName.value,Password:this.form.UserPassword.value,PasswordConfirm:this.form.UserPassword.value,Email:this.form.EmployeeEmail.value,MobilePhoneNumber:this.form.TelNumber1.value}})}onSaveSuccess(e){var a=this,g=this.entityId;if(this.isNew()){var u=p.Authorization.userDefinition.Username,s=new Date,h="Employee "+this.form.EmployeeName.value+" is created by "+u+" on "+s;Qe.Create({Entity:{Description:h,OldValue:null,NewValue:null,FieldName:null,EmployeeRowId:this.EmployeeRowID}}),this.form.CreateUser.value==!0&&this.createUser()}else if(!this.isNew())if(this.form.CreateUser.value==!0)Fe.List({},E=>{var o=0;for(var H in E.Entities)E.Entities[H].EmployeeRowID==g&&(o=1,Fe.Update({EntityId:E.Entities[H].UserId,Entity:{DisplayName:this.form.EmployeeName.value,Email:this.form.EmployeeEmail.value,MobilePhoneNumber:this.form.TelNumber1.value}}));o==0&&a.createUser(),this.Record(this.EditedValue);var F=Object.keys(this.EditedValue),A=p.Authorization.userDefinition.Username,U=new Date;for(let I of F)if(this.EditedValue[I]!=this.OriginalValue[I]&&typeof this.OriginalValue[I]!="object"&&typeof this.EditedValue[I]!="object"){var B=I;if(B=B.replace(/ID/g,""),(0,p.isEmptyOrNull)(this.OriginalValue[I]))var J=B+" of "+this.form.EmployeeName.value+" is set by "+A+" to "+this.EditedValue[I]+" on "+U;else var J=B+" of "+this.form.EmployeeName.value+" is changed by "+A+" from "+this.OriginalValue[I]+" to "+this.EditedValue[I]+" on "+U;Qe.Create({Entity:{Description:J,OldValue:this.OriginalValue[I],NewValue:this.EditedValue[I],FieldName:I,EmployeeRowId:this.EmployeeRowID}})}});else{this.Record(this.EditedValue);var b=Object.keys(this.EditedValue),u=p.Authorization.userDefinition.Username;for(let o of b)if(this.EditedValue[o]!==this.OriginalValue[o]&&typeof this.OriginalValue[o]!="object"&&typeof this.EditedValue[o]!="object"){var s=new Date,N=o;if(N=N.replace(/ID/g,""),(0,p.isEmptyOrNull)(this.OriginalValue[o]))var h=N+" of "+this.form.EmployeeName.value+" is set by "+u+" to "+this.EditedValue[o]+" on "+s;else var h=N+" of "+this.form.EmployeeName.value+" is changed by "+u+" from "+this.OriginalValue[o]+" to "+this.EditedValue[o]+" on "+s;Qe.Create({Entity:{Description:h,OldValue:this.OriginalValue[o],NewValue:this.EditedValue[o],FieldName:o,EmployeeRowId:this.EmployeeRowID}})}}super.onSaveSuccess(e)}onDialogOpen(){super.onDialogOpen();var e=this,a=document.getElementById(this.idPrefix+"EpfAccountNumber");$(a).on("input",function(){return ie(this,null,function*(){let i=this.value;i=i.replace(/\D/g,""),i.length>19&&(i=i.slice(0,19)),this.value=i})});var g=document.getElementById(this.idPrefix+"Nric");$(g).on("input",function(){return ie(this,null,function*(){let i=this.value;i=i.replace(/\D/g,""),i.length>12&&(i=i.slice(0,12)),this.value=i})});var u=document.getElementById(this.idPrefix+"SsfwNumber");$(u).on("input",function(){return ie(this,null,function*(){let i=this.value;i=i.replace(/\D/g,""),i.length>12&&(i=i.slice(0,12)),this.value=i})}),m.EditorUtils.setReadonly(e.form.Age.element,!0),$(".EmployeeCareerPath .add-button").on("click",function(){$(".s-HRMSoftware-EmployeeProfile-EmployeeCareerPathEditDialog .s-TemplatedDialog .s-DialogContent .s-Form .EmployeeRowId .s-LookupEditor").val(e.entityId).trigger("change")}),$(".OtPayEntitlement").parent().after(`<ul role="tablist" class="nav nav-tabs property-tabs">
            <li class="nav-item" role="presentation"> <a class="nav-link custom active AllowanceLists" data-bs-toggle="tab" role="tab">Allowance</a> </li>
            <li class="nav-item" role="presentation"> <a class="nav-link custom FixedDeductionList" data-bs-toggle="tab" role="tab"> Deductions</a></li>
        </ul>
        `),$(".field.FixedDeductionList").parent().hide(),$(".field.OtPayEntitlement, .field.FixedOtRateOption, .field.PayByMonth, .field.PayByHour, .field.PayByDay").addClass("col-2"),document.querySelectorAll(".nav-link.custom").forEach(i=>{i.addEventListener("click",function(){document.querySelectorAll(".nav-link.custom").forEach(P=>P.classList.remove("active")),this.classList.add("active"),console.log(this.classList);let f=Object.values(this.classList).includes("AllowanceLists"),v=Object.values(this.classList).includes("FixedDeductionList");f?($(".field.AllowanceLists").parent().show(),$(".field.FixedDeductionList").parent().hide()):v&&($(".field.AllowanceLists").parent().hide(),$(".field.FixedDeductionList").parent().show())})}),$(".FixedOtRateOption").hide();var re=document.getElementById(`${this.idPrefix}EmployeeType`);$(re).on("change",function(){return ie(this,null,function*(){$(".SsfwNumber, .Nric").hide(),parseInt(e.form.EmployeeType.value)==1 .valueOf()?$(".Nric").show():parseInt(e.form.EmployeeType.value)==2 .valueOf()&&$(".SsfwNumber").show()})}),this.isNew()?$(".CareerPahth").parent().hide():($(re).trigger("change"),m.EditorUtils.setReadonly(e.form.BasicSalary.element,!0),m.EditorUtils.setReadonly(e.form.DivisionID.element,!0),m.EditorUtils.setReadonly(e.form.DepartmentID.element,!0),m.EditorUtils.setReadonly(e.form.OccupationID.element,!0),m.EditorUtils.setReadonly(e.form.SectionID.element,!0),m.EditorUtils.setReadonly(e.form.JobGradeID.element,!0));var h=document.getElementById(`${this.idPrefix}OtPayEntitlement`);$(h).on("change",function(){return ie(this,null,function*(){e.form.OtPayEntitlement.value==!0?$(".FixedOtRateOption, .OtRateWeekday, .OtRateWeekend, .OtRatePublicHoliday, .FixedOtRateOption").show():e.form.OtPayEntitlement.value==!1&&(e.form.OtRateWeekday.value=e.form.OtRateWeekend.value=e.form.OtRatePublicHoliday.value=0,$(".OtRateWeekday, .OtRateWeekend, .OtRatePublicHoliday, .FixedOtRateOption").hide())})}),$(h).trigger("change");var b=document.getElementById(`${this.idPrefix}FixedOtRateOption`);$(b).on("change",function(){return ie(this,null,function*(){e.form.FixedOtRateOption.value==!0?(m.EditorUtils.setReadonly(e.form.OtRatePublicHoliday.element,!1),m.EditorUtils.setReadonly(e.form.OtRateWeekday.element,!1),m.EditorUtils.setReadonly(e.form.OtRateWeekend.element,!1)):e.form.FixedOtRateOption.value==!1&&(m.EditorUtils.setReadonly(e.form.OtRatePublicHoliday.element,!0),m.EditorUtils.setReadonly(e.form.OtRateWeekday.element,!0),m.EditorUtils.setReadonly(e.form.OtRateWeekend.element,!0))})}),$(b).trigger("change"),m.EditorUtils.setReadonly(this.form.WorkingHour.element,!0),m.EditorUtils.setReadonly(this.form.WorkingDays.element,!0),m.EditorUtils.setReadonly(this.form.DailyRateBase.element,!0),m.EditorUtils.setReadonly(this.form.NplRateBase.element,!0);var N=this.form.UserPassword.element,E=this.form.UserName.element;$(N).attr("autocomplete","off"),$(E).attr("autocomplete","off"),m.EditorUtils.setReadonly(this.form.PassedProbation.element,!0);let o=document.createElement("div");o.style.position="absolute",o.style.backgroundColor="#000",o.style.color="#fff",o.style.padding="4px",o.style.borderRadius="4px",o.style.zIndex=Number.MAX_SAFE_INTEGER.toString(),o.style.display="none",document.body.appendChild(o),(parseInt(this.form.EmployeeType.value)==1||this.isNew())&&$(".IssueDate, .WorkingPermitIssueDate, .WorkingPermitExpireDate, .WorkingPermitValidFrom, .WorkingPermitValidUntil, .ArrivalDate").hide(),this.validateBeforeSave(),this.form.CreateUser.addValidationRule(this.uniqueName,i=>this.form.CreateUser.value&&((0,p.isEmptyOrNull)(this.form.UserName.value)||(0,p.isEmptyOrNull)(this.form.UserPassword.value))?"Please fill in UserName and Password":null);var H=document.getElementById(this.idPrefix+"Birthday");m.EditorUtils.setReadonly(this.form.RetireDate.element,!0),$(H).on("change",function(){var i=e.form.Birthday.valueAsDate;let f=i.getFullYear()+e.RetireAge,v=new Date(i);v.setFullYear(f),v<new Date&&v.setFullYear(f+1),e.form.RetireDate.valueAsDate=v});var F=document.getElementById(this.idPrefix+"UserName"),A="Username Cannot Start With Number, No Special Characters";$(F).on("blur",function(){(0,p.isEmptyOrNull)($(this).val())&&($(this).val(A),$(this).css({color:"grey"}))}),$(F).on("focus",function(){$(this).val()==A&&($(this).val(""),$(this).css({color:"black"}))}),$(F).on("change",function(){$(this).val()!=""&&$(this).val()!=A?$(this).css("color","black"):$(this).css("color","grey")}),$(F).on("keydown",function(i){var f=this.selectionStart,v=/[A-Za-z0-9]/,P=[8,9,13,16,17,18,19,20,27,33,34,35,36,37,38,39,40,45,46,144,145];i.key.match(v)||P.includes(i.keyCode)?f===0&&i.key.match(/[0-9]/)&&i.preventDefault():i.preventDefault()}),$(F).on("mouseenter",()=>{o.innerHTML="Please dont use repeated username <br> Username can not contain anything else than number and characters";let i=$(E)[0].getBoundingClientRect();o.style.display="block",o.style.top=`${i.bottom}px`,o.style.left=`${i.left}px`}),$(F).on("mouseleave",()=>{o.style.display="none"});var U=document.getElementById(this.idPrefix+"UserPassword"),B="Password length must be greater or equal to 6";$(U).on("blur",function(){(0,p.isEmptyOrNull)($(this).val())&&($(this).val(B),$(this).css({color:"grey"}))}),$(U).on("focus",function(){$(this).val()==B&&($(this).val(""),$(this).css({color:"black"}))}),$(U).on("change",function(){$(this).val()!=""&&$(this).val()!=B?$(this).css("color","black"):$(this).css("color","grey")}),$(U).on("mouseenter",()=>{o.innerHTML="Password length must be greater or equal to 6";let i=$(U)[0].getBoundingClientRect();o.style.display="block",o.style.top=`${i.bottom}px`,o.style.left=`${i.left}px`}),$(U).on("mouseleave",()=>{o.style.display="none"});var J=document.getElementById(this.idPrefix+"CalculationDate");if($(J).on("change",()=>{(0,Ne.serviceCall)({service:k.baseUrl+"/CalculateWorkingHourAndDayWithDate",data:{EmployeeRowID:this.entityId,Date:e.form.CalculationDate.value},method:"GET",async:!1,onSuccess:i=>{!(0,p.isEmptyOrNull)(i.Entities[0].NumberOfWorkingDays)&&i.Entities[0].NumberOfWorkingDays>0?e.form.WorkingHour.value=i.Entities[0].TotalWorkingTimeInMinutes/i.Entities[0].NumberOfWorkingDays:e.form.WorkingHour.value=0,e.form.WorkingDays.value=i.Entities[0].NumberOfWorkingDays,e.form.DailyRateBase.value=i.Entities[0].DailyRateBase,e.form.NplRateBase.value=i.Entities[0].NplRateBase},onError:i=>{console.log(i.Error)}}),e.form.OtPayEntitlement.value==!0?(0,Ne.serviceCall)({service:k.baseUrl+"/CalculateOtRate",data:{EmployeeRowID:this.entityId,Date:e.form.CalculationDate.value},method:"GET",async:!1,onSuccess:i=>{console.log(i),e.form.OtRateWeekday.value=i.Entities[0].OtRateWeekday,e.form.OtRateWeekend.value=i.Entities[0].OtRateWeekend,e.form.OtRatePublicHoliday.value=i.Entities[0].OtRatePublicHoliday}}):(e.form.OtRateWeekday.value=e.form.OtRateWeekend.value=e.form.OtRatePublicHoliday.value=0,$(".OtRateWeekday, .OtRateWeekend, .OtRatePublicHoliday").hide())}),(0,Ne.serviceCall)({service:Lt.baseUrl+"/GetTodayDateTime",method:"GET",data:{},async:!1,onSuccess:i=>{e.form.CalculationDate.value=i,$(J).trigger("change")}}),this.isNew()){var I=document.querySelectorAll(".text-bg-danger");I.forEach(function(i){$(i).hide()});var Ce=document.querySelectorAll(".text-bg-warning");Ce.forEach(function(i){$(i).hide()});var Q=document.querySelectorAll(".text-bg-success");Q.forEach(function(i){$(i).hide()})}else{if(this.OriginalEmployeeId=this.form.EmployeeID.value,this.Username=this.form.UserName.value,parseInt(this.form.PassedProbation.value)==1){var Q=document.querySelectorAll(".text-bg-success");Q.forEach(function(f){$(f).hide()}),m.EditorUtils.setReadonly(this.form.ProbationPeriodUntil.element,!0),m.EditorUtils.setReadonly(this.form.ProbationPeriodFrom.element,!0)}k.Retrieve({EntityId:this.entityId},i=>{i.Entity.Retired==0&&i.Entity.Terminated==0&&i.Entity.Resigned==0?$(".tool-button").removeClass("hidden"):(e.readOnly=!0,i.Entity.Terminated==1?(e.dialogTitle=`Terminated Employee (${e.form.EmployeeID.value})`,$(".TerminateDate").show(),$(".TerminateLeaveDate").show()):i.Entity.Resigned==1?(e.dialogTitle=`Resigned Employee (${e.form.EmployeeID.value})`,$(".ResignationDate").show(),$(".ResignLeaveDate").show()):i.Entity.Retired==1&&(e.dialogTitle=`Retired Employee (${e.form.EmployeeID.value})`))})}Fe.List({},i=>{for(var f in i.Entities)i.Entities[f].Username==this.form.EmployeeID.value&&(this.UserRowID=i.Entities[f].UserId),this.ListOfUserName.push(i.Entities[f].Username)});var ce=document.getElementById(this.idPrefix+"ProbationPeriod"),Me=document.getElementById(this.idPrefix+"ProbationPeriodEnd"),jt=document.getElementById(this.idPrefix+"ProbationPeriodStart"),fe=document.getElementById(this.idPrefix+"RecruitmentDate"),re=document.getElementById(this.idPrefix+"EmployeeType"),Ze=document.getElementById(this.idPrefix+"PayByDay"),We=document.getElementById(this.idPrefix+"PayByMonth"),Ge=document.getElementById(this.idPrefix+"PayByHour");if($(Ze).on("change",function(i){e.form.PayByDay.value&&(e.form.PayByHour.value=!1,e.form.PayByMonth.value=!1)}),$(Ge).on("change",function(i){e.form.PayByHour.value&&(e.form.PayByDay.value=!1,e.form.PayByMonth.value=!1)}),$(We).on("change",function(i){e.form.PayByMonth.value&&(e.form.PayByHour.value=!1,e.form.PayByDay.value=!1)}),$(re).on("change",function(i){$(re).val()==1?($(".EpfContribution").hide(),$(".WorkingPermit").hide(),$(".WorkingPermitIssueDate").hide(),$(".WorkingPermitExpireDate").hide(),$(".WorkingPermitValidFrom").hide(),$(".WorkingPermitValidUntil").hide(),$(".ArrivalDate").hide()):($(".EpfContribution").show(),$(".WorkingPermit").show(),$(".WorkingPermitIssueDate").show(),$(".WorkingPermitExpireDate").show(),$(".WorkingPermitValidFrom").show(),$(".WorkingPermitValidUntil").show(),$(".ArrivalDate").show(),console.log(e.form.EpfClass.items[0].disabled=!0))}),$(Me).prop("readonly",!0),$(ce).on("change",function(i){var f=$(fe).val();if((0,p.isEmptyOrNull)(f))return;var v=f.split("/");let P=new Date(parseInt(v[2]),parseInt(v[0])-1,parseInt(v[1]));P.setMonth(P.getMonth()+3);let pe=P.getFullYear(),he=P.getMonth()+1,ye=P.getDate();var ve=`${he}/${ye}/${pe}`;$(Me).val(ve)}),$(fe).on("change",function(i){var f=$(fe).val();if(console.log("haha"),!e.isNew())return;console.log("haha");var v=f.split("/");let P=new Date(parseInt(v[2]),parseInt(v[0])-1,parseInt(v[1]));P.setMonth(P.getMonth()+3);let pe=P.getFullYear(),he=P.getMonth()+1,ye=P.getDate();var ve=`${he}/${ye}/${pe}`;e.form.ProbationPeriodFrom.value=e.form.RecruitmentDate.value,e.form.ProbationPeriodUntil.value=ve}),this.isNew())$(".EpfContribution").hide(),$(".UserName").hide(),$(".UserPassword").hide(),$(".GrantHRPrivilege").hide(),$(".CreateUser").on("change",i=>{e.form.CreateUser.value==!0?($(".GrantHRPrivilege").show(),$(".UserName").show(),(0,p.isEmptyOrNull)($(E).val())&&($(E).val(A),$(E).css({color:"grey"})),$(".UserPassword").show(),console.log((0,p.isEmptyOrNull)($(U).val())),(0,p.isEmptyOrNull)($(U).val())&&($(U).val(B),$(U).css({color:"grey"}))):($(".GrantHRPrivilege").val(""),$(".UserName").val(""),$(".UserPassword").val(""),$(".GrantHRPrivilege").hide(),$(".UserName").hide(),$(".UserPassword").hide())});else{if(this.form.CreateUser.value==!0?(m.EditorUtils.setReadonly(this.form.CreateUser.element,!0),m.EditorUtils.setReadonly(this.form.UserPassword.element,!0),m.EditorUtils.setReadonly(this.form.UserName.element,!0)):($(".UserName").hide(),$(".UserPassword").hide(),$(".GrantHRPrivilege").hide(),$(".CreateUser").on("change",i=>{this.form.CreateUser.value==!0?($(".UserName").show(),$(".UserPassword").show(),$(".GrantHRPrivilege").show()):($(".GrantHRPrivilege").hide(),$(".UserName").hide(),$(".UserPassword").hide())})),(0,p.isEmptyOrNull)(this.form.RetireDate.value)){var Ue=e.form.Birthday.valueAsDate;let i=Ue.getFullYear()+e.RetireAge,f=new Date(Ue);f.setFullYear(i),f<new Date&&f.setFullYear(i+1),e.form.RetireDate.valueAsDate=f}$(fe).prop("readonly",!1),this.Record(this.OriginalValue);for(var Ve in this.list_of_employee_id)this.list_of_employee_id[Ve]==this.form.EmployeeID.value&&(this.EmployeeRowID=this.list_of_employee_row_id[Ve]);parseInt(this.form.PassedProbation.value)==1&&(m.EditorUtils.setReadonly(this.form.ProbationPeriodFrom.element,!0),m.EditorUtils.setReadonly(this.form.ProbationPeriodUntil.element,!0)),(0,p.isEmptyOrNull)(e.form.PassedProbation.value)&&(e.form.PassedProbation.value=0 .toString(),k.Update({EntityId:this.entityId,Entity:{PassedProbation:0}}))}}Record(e){var N,E;var a=this.propertyGrid.get_items(),g=[];for(var u in a){var s=a[u].name;g.push(s)}let h={};for(let o of g){var b=(N=this.form[o])==null?void 0:N.text;(typeof b=="undefined"||b===null)&&(b=(E=this.form[o])==null?void 0:E.value,(typeof b=="undefined"||b===null)&&(b="")),h[o]=b}Object.assign(e,h)}getDialogOptions(){let e=super.getDialogOptions();return e.height=800,e.width=1200,e}save_submitHandler(e){var a=[];function g(o){return/^[0-9]/.test(o)}R(g,"startsWithNumber");function u(o){return!/[^a-zA-Z0-9]/.test(o)}R(u,"containsOnlyNumbersAndChars"),this.form.UserName.value=="Username Cannot Start With Number, No Special Characters"&&(this.form.UserName.value="");var s=this;if(parseInt(s.form.EmployeeType.value)==1 .valueOf()?(0,p.isEmptyOrNull)(s.form.Nric.value)?a.push("Please fill in NRIC number"):s.form.Nric.value.length<12&&a.push("The length of NRIC should be 12"):parseInt(s.form.EmployeeType.value)==2 .valueOf()&&((0,p.isEmptyOrNull)(s.form.SsfwNumber.value)?a.push("Please fill in SSFW number"):s.form.SsfwNumber.value.length<12&&a.push("The length of SSFW should be 12")),this.isNew()||this.Username.toLowerCase()!=this.form.UserName.value.toLowerCase()&&!(0,p.isEmptyOrNull)(this.Username))for(var h in this.ListOfUserName)this.form.UserName.value.toLowerCase()==this.ListOfUserName[h].toLowerCase()&&a.push("Please use another username, there is another user with same username");this.form.CreateUser.value==!0&&this.form.UserPassword.value==""&&a.push("Please fill in UserPassword"),this.form.CreateUser.value==!0&&this.form.UserPassword.value.length<6&&a.push("Length of UserPassword cannot be less than 6"),this.form.CreateUser.value==!0&&g(this.form.UserName.value)==!0&&a.push("User Name cannot start with number"),this.form.CreateUser.value==!0&&u(this.form.UserName.value)==!1&&a.push("User Name cannot contain anything else than number and characters");var b=document.getElementById(this.idPrefix+"EmployeeType");$(b).val()==1&&this.form.Nric.value==""&&a.push("Please fill in the Identity Card Number"),this.form.FixedOtRateOption.value==!0&&((0,p.isEmptyOrNull)(this.form.OtRatePublicHoliday.value)||(0,p.isEmptyOrNull)(this.form.OtRateWeekday.value)||(0,p.isEmptyOrNull)(this.form.OtRateWeekend.value))&&a.push("Please fill in the Ot Rate");var N=this.form.EmployeeID.value.toString();if(this.isNew()||!this.isNew()&&this.form.EmployeeID.value!=this.OriginalEmployeeId)for(var E in this.list_of_employee_id)this.list_of_employee_id[E]===N&&a.push("There is a active employee with the ID, please check again.");if(a.length>0){let o=a.map(H=>`- ${H}`).join(`
`);(0,Ne.alertDialog)(o)}else super.save_submitHandler(e)}getToolbarButtons(){var e=super.getToolbarButtons(),a=this,g=document.createElement("style");return g.textContent=`
            .hidden {
      display: none;
    }
    .nav-link.custom {
        cursor: pointer;
    }

            `,document.head.appendChild(g),e.push({title:"Empoyee Retire",cssClass:"text-bg-primary p-2 hidden retireButton",onClick:()=>{var u=new Date;a.form.RetireDate.valueAsDate>u?(0,De.confirm)("This employee has not reached the retire date, are you sure?",()=>{(0,De.confirm)("Are you sure this employee has retired?",()=>{k.Update({EntityId:a.entityId,Entity:{Retired:1}}),a.readOnly=!0,a.dialogTitle=`Retired Employee (${a.form.EmployeeID.value})`,$(".confirmEmployee").addClass("hidden"),$(".terminateButton").addClass("hidden"),$(".resignButton").addClass("hidden"),$(".retireButton").addClass("hidden")})}):(0,De.confirm)("Are you sure this employee has retired?",()=>{k.Update({EntityId:a.entityId,Entity:{Retired:1}}),a.readOnly=!0,a.dialogTitle=`Retired Employee (${a.form.EmployeeID.value})`,$(".confirmEmployee").addClass("hidden"),$(".terminateButton").addClass("hidden"),$(".resignButton").addClass("hidden"),$(".retireButton").addClass("hidden")})}}),e.push({title:"Confirm Empoyee",cssClass:"text-bg-success p-2 confirmEmployee hidden",onClick:()=>{var u=new Date;(0,p.isEmptyOrNull)(a.form.ProbationPeriodUntil.valueAsDate)?(0,De.confirm)("Do you want to pass probation of this employee?",()=>{k.Update({EntityId:a.entityId,Entity:{PassedProbation:1}}),$(".confirmEmployee").addClass("hidden")}):a.form.ProbationPeriodUntil.valueAsDate>u&&(0,De.confirm)("This employee has not passed probation period, are you sure?",()=>{(0,De.confirm)("Do you want to pass probation of this employee?",()=>{k.Update({EntityId:a.entityId,Entity:{PassedProbation:1}}),$(".confirmEmployee").addClass("hidden")})})}}),e.push({title:"Terminate Employee",cssClass:"text-bg-danger p-2 hidden terminateButton",onClick:()=>{var u=new Bt;u.loadByIdAndOpenDialog(this.entityId),u.element.on("dialogclose",function(){k.Retrieve({EntityId:a.entityId},s=>{s.Entity.Retired==0&&s.Entity.Terminated==0&&s.Entity.Resigned==0?$(".tool-button").removeClass("hidden"):(a.readOnly=!0,s.Entity.Terminated==1?a.dialogTitle=`Terminated Employee (${a.form.EmployeeID.value})`:s.Entity.Resigned==1?a.dialogTitle=`Resigned Employee (${a.form.EmployeeID.value})`:s.Entity.Retired==1&&(a.dialogTitle=`Retired Employee (${a.form.EmployeeID.value})`))})})}}),e.push({title:"Employee Resign",cssClass:"text-bg-warning p-2 hidden resignButton",onClick:()=>{var u=new Ft;u.loadByIdAndOpenDialog(this.entityId),u.element.on("dialogclose",function(){k.Retrieve({EntityId:a.entityId},s=>{s.Entity.Retired==0&&s.Entity.Terminated==0&&s.Entity.Resigned==0?$(".tool-button").removeClass("hidden"):(a.readOnly=!0,s.Entity.Terminated==1?a.dialogTitle=`Terminated Employee (${a.form.EmployeeID.value})`:s.Entity.Resigned==1?a.dialogTitle=`Resigned Employee (${a.form.EmployeeID.value})`:s.Entity.Retired==1&&(a.dialogTitle=`Retired Employee (${a.form.EmployeeID.value})`))})})}}),e}};R(Pe,"EmployeeProfileDialog"),Pe=Ke([m.Decorators.registerClass("HRMSoftware.EmployeeProfile.EmployeeProfileDialog")],Pe);var me=_(de(),1);var we=class extends ae.EntityGrid{constructor(e){super(e);this.RowIdWithInitialisedLeave=[];this.RowIdOfEmployees=[];this.AnnualLeaveStartingRange=[];this.SickLeaveStartingRange=[];this.AnnualLeaveEndingRange=[];this.SickLeaveEndingRange=[];this.EntitledAnnualLeave=[];this.EntitledSickLeave=[];this.PrevYearAnnualLeaveStartingRange=[];this.PrevYearSickLeaveStartingRange=[];this.PrevYearAnnualLeaveEndingRange=[];this.PrevYearSickLeaveEndingRange=[];this.PrevYearEntitledAnnualLeave=[];this.PrevYearEntitledSickLeave=[];this.DynamicList=[];this.UserID=[];this.EmployeeRowID=[]}getColumnsKey(){return Rt.columnsKey}getDialogType(){return Pe}getRowDefinition(){return Je}getService(){return k.baseUrl}getAddButtonCaption(){return"Create Employee Profile"}getQuickFilters(){return super.getQuickFilters()}onViewProcessData(e){e=super.onViewProcessData(e),this.toolbar.findButton("column-picker-button").toggle(!1);var a=e.Entities;return this.RowIdOfEmployees.length=0,e}createToolbarExtensions(){super.createToolbarExtensions(),this.rowSelection=new ae.GridRowSelectionMixin(this,{selectable:e=>!0})}getColumns(){ae.DataGrid.defaultRowHeight=100;var e=super.getColumns();return e.splice(0,0,{field:"Employee Leave",name:"",format:a=>{var g='<a class="inline-action leave-application" title="leave"><i class="fa fa-plane"></i></a><br><a class="inline-action employee-post" title="employee profile edit history"><i class="fa fa-wrench"></i></a>';return g},width:12,minWidth:12,maxWidth:12}),e.splice(0,0,{field:"Employee Shift History",name:"",format:a=>{var g='<a class="inline-action shift-history" title="shift history"><i class="fa fa-book"></i></a><br><a class="inline-action basic-info" title="basic info"> <i class="fa fa-user-tie"></i></a>';return g},width:12,minWidth:12,maxWidth:12}),e}getButtons(){var e=super.getButtons();return me.Authorization.hasPermission(Be.HumanResources)&&e.push({title:"Batch User Creation",cssClass:"apply-changes-button",onClick:a=>{(0,me.confirm)("Do you want to create users in batch?",()=>{var g=new Ht;g.dialogOpen(),g.element.on("dialogclose",function(){location.reload()})})},separator:!0}),e}onClick(e,a,g){if(super.onClick(e,a,g),!e.isDefaultPrevented()){var u=this.itemAt(a),s=$(e.target);s.parent().hasClass("inline-action")&&(s=s.parent()),s.hasClass("basic-info")&&(0,me.confirm)("Do you want to view basic employee data?",()=>{var h=new Ut(u.Id);h.loadByIdAndOpenDialog(u.Id),h.set_readOnly(!0),h.element.on("dialogopen",function(){})}),s.hasClass("employee-post")&&(0,me.confirm)("Do you want to view employee profile edit history?",()=>{var h=new Gt(u.Id);h.dialogOpen()}),s.hasClass("leave-application")&&(0,me.confirm)("Do you want to view leave details?",()=>{Nt.List({},h=>{var b=h.Entities.filter(E=>E.EmployeeRowId===u.Id);b.sort((E,o)=>{let H=new Date(E.NextEntitlementDate).getTime(),F=new Date(o.NextEntitlementDate).getTime();return H-F});var N=new Tt(u.Id);N.loadByIdAndOpenDialog(b[b.length-1].Id)})}),s.hasClass("shift-history")&&(0,me.confirm)("Do you want to view the shift history?",()=>{var h=new At(u.EmployeeID,u.Id);h.dialogOpen()})}}};R(we,"EmployeeProfileGrid"),we=Ke([ae.Decorators.filterable(),ae.Decorators.registerClass("HRMSoftware.EmployeeProfile.EmployeeProfileGrid")],we);var st=_(Xt(),1),Yt=_(ei(),1);function K(ue,x){for(let e=0;e<ue.length;e++)if(ue[e].Id===x)return ue[e].Name;return null}R(K,"findRowById");function ti(){var ue;if(He.List({},t=>{for(var r in t.Entities)if(t.Entities[r].IsActive==1){ue=t.Entities[r].BasedCountry;break}}),$e.Authorization.hasPermission(Be.HumanResources)){He.List({},t=>{if(t.Entities.length==0){let r=document.createElement("main");r.id="main-content",r.className="main-container",r.innerHTML="<h1>This page is used to create Employee Profiles and new users</h1><p>Please initialise company settings to start using this feature.</p>",$("#GridDiv").append(r);return}else(0,_t.initFullHeightGridPage)(new we($("#GridDiv")).element)});return}(0,Yt.default)(st);var x,e=[],a=[],g=[],u=[],s=[],h=[],b=[],N=!1;for((0,Ie.serviceCall)({service:$t.baseUrl+"/ListShift",method:"GET",data:{},async:!1,onSuccess:t=>{N=!0;let r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];for(var n in t.Entities){var c=[],l=[],d=[];for(var y in r)c.push(t.Entities[n][r[y]+"StartingFrom"]),l.push(t.Entities[n][r[y]+"EndingAt"]),d.push(t.Entities[n][r[y]+"WorkingTime"]);b.push({ShiftName:t.Entities[n].ShiftName,WorkingHourFromList:c,WorkingHourUntilList:l,WorkingTimeList:d,Color:t.Entities[n].ShiftColor,ShiftIdList:t.Entities[n].Id}),u.push(c),s.push(l),h.push(d),e.push(t.Entities[n].ShiftName),a.push(t.Entities[n].ShiftColor),g.push(t.Entities[n].Id)}},onError:t=>{console.log(t)}});N==!1;);var E=[],o=!1;for((0,Ie.serviceCall)({service:St.baseUrl+"/ListPublicHoliday",method:"GET",data:{},async:!1,onSuccess:t=>{o=!0;for(var r in t.Entities)E.push({PublicHolidayDate:t.Entities[r].Date,PublicHolidayName:t.Entities[r].Name,PublicHolidayId:t.Entities[r].Id})},onError:t=>{console.log(t)}});o==!1;);var H=[],F=!1;for((0,Ie.serviceCall)({service:Mt.baseUrl+"/ListGroup",method:"GET",data:{},async:!1,onSuccess:t=>{F=!0;for(var r in t.Entities)H.push({GroupName:t.Entities[r].Name,GroupColor:t.Entities[r].ShiftColor,GroupID:t.Entities[r].Id})},onError:t=>{console.log(t)}});F==!1;);var A=[],U=!1;for((0,Ie.serviceCall)({service:xt.baseUrl+"/ListTakenLeaveFromID",method:"GET",data:{EmployeeRowID:$e.Authorization.userDefinition.EmployeeRowID},async:!1,onSuccess:t=>{U=!0;for(var r in t.Entities){var n=0;t.Entities[r].LeaveReasonId==4&&t.Entities[r].HalfDay==1&&(n=1),A.push({StartDate:t.Entities[r].StartDate.substring(0,10),EndDate:t.Entities[r].EndDate.substring(0,10),HalfDate:n,LeaveReason:t.Entities[r].LeaveReasonId,ID:t.Entities[r].Id})}},onError:t=>{console.log(t)}});U==!1;);var B,J,I,Ce=new Date,Q=Ce.getMonth()+1,ce=Ce.getFullYear(),Me=`${Ce.getFullYear()}-${(Ce.getMonth()+1).toString().padStart(2,"0")}`;function jt(t,r,n){if(r>n){var c=n;n=r,r=c}return t>=r&&t<=n}R(jt,"isInRange");function fe(t){return t<10?"0"+t:t.toString()}R(fe,"addLeadingZero");function re(t,r,n){var c=[],l=[],d=[];for(var y in t){var C=new Date(t[y].PublicHolidayDate.substring(0,10)),S=C.getFullYear(),D=C.getMonth()+1;S==r&&D==n&&(c.push(t[y].PublicHolidayName),l.push(t[y].PublicHolidayDate.substring(0,10)),d.push(t[y].PublicHolidayId))}return[c,l,d]}R(re,"GetCurrentMonthHoliday");function Ze(t,r){let n=[],c=new Date(t,r-1,1);for(let l=6;l>0;l--){let d=new Date(c);d.setMonth(d.getMonth()-l),n.push(`${d.getFullYear()}-${(d.getMonth()+1).toString().padStart(2,"0")}`)}n.push(`${c.getFullYear()}-${(c.getMonth()+1).toString().padStart(2,"0")}`);for(let l=1;l<=6;l++){let d=new Date(c);d.setMonth(d.getMonth()+l),n.push(`${d.getFullYear()}-${(d.getMonth()+1).toString().padStart(2,"0")}`)}return n}R(Ze,"generateMonthRange");function We(t,r,n){var c=new Date(r,n,0).getDate();let l=[];for(let L=1;L<=c;L++){var d=`${r}-${fe(n)}-${fe(L)}`,y=null,C=new Date(d);for(var S in t){var D=new Date(t[S].ShiftStartDate),z=new Date(t[S].ShiftEndDate);if(C.setHours(0),C.setMinutes(0),C.setSeconds(0),C.setMilliseconds(0),typeof t[S].EmployeeGroupID!==void 0&&C>=D&&C<=z){y=t[S].EmployeeGroupID;break}}l.push({date:d,shift:null,GroupID:y})}return l}R(We,"generateListOfDate");function Ge(t,r){console.log(r);for(var n in r){let d=new Date(r[n].ShiftStartDate.substring(0,10)),y=new Date(r[n].ShiftEndDate.substring(0,10));for(var c of t){var l=new Date(c.date);l>=d&&l<=y&&c.GroupID==null&&(c.shift=r[n].ShiftId)}}return t}R(Ge,"appendShift");function Ue(t,r,n,c,l){console.log(t);let d=new Date(t[0].date).getDay(),y=t.length,C=d,S=[];for(let T=1;T<=y;T++){var D=new Date(t[T-1].date),z=`${D.getFullYear()}-${(D.getMonth()+1).toString().padStart(2,"0")}-${D.getDate().toString().padStart(2,"0")}`;let G=(C+T-1)%7,se=Math.floor((d+T-1)/7),le=T;var L=t[T-1].shift,ne=t[T-1].GroupID,j=null,M=null,Y=null;for(var w in c)if(c[w].PublicHolidayDate.substring(0,10)==z){M=Y=c[w].PublicHolidayName,j="#FF0000",L=null,ne=null;break}if(L!=null){var O;for(var w in n)if(n[w].ShiftIdList==L){O=w;break}j=n[O].Color,M=n[O].ShiftName,n[O].WorkingHourUntilList[G]===void 0&&n[O].WorkingHourFromList[G]==null?(M="Rest Day",j="#FFFFE0",Y="Happy Holidays"):n[O].WorkingHourFromList[G]!=null&&n[O].WorkingHourUntilList[G]!=null&&(Y=n[O].WorkingHourFromList[G]+"-"+n[O].WorkingHourUntilList[G])}else if(ne!=null){for(var w in r)if(r[w].GroupID==ne){M=Y=r[w].GroupName,j=r[w].GroupColor;break}}var q=(0,Re.getLookup)("LeaveReason.LeaveReason");for(var w in l){var Z=new Date(l[w].StartDate),oe=new Date(l[w].EndDate),be=l[w].LeaveReason,W;for(var X in q.items)if(q.items[X].Id==be){W=q.items[X].LeaveReason.replace(/\s/g,"");break}D>=Z&&D<=oe&&(M=Y=W,j="#00FF00",L=null)}S.push({x:G,y:5-se,color:j,shiftstring:M,value:L,date:z,custom:{monthDay:le,details:Y}})}return console.log(S),S}R(Ue,"generateChartData");function Ve(t,r,n){return r===void 0||n===void 0?!1:t.getTime()>=r.getTime()&&t.getTime()<=n.getTime()}R(Ve,"isDateBetween");function i(t,r){var c=st.chart("Employee-Timetable",{chart:{type:"heatmap"},title:{text:"",align:"left"},accessibility:{landmarkVerbosity:"one"},tooltip:{enabled:!0,outside:!0,zIndex:20,headerFormat:"",pointFormat:"{point.date:%A, %b %e, %Y} </br>{point.custom.details:%s }",nullFormat:"{point.date:%A, %b %e, %Y} </br>{point.custom.details:%s }"},xAxis:{categories:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],opposite:!0,lineWidth:26,offset:13,lineColor:"rgba(27, 26, 37, 0.2)",labels:{rotation:0,y:20,style:{textTransform:"uppercase",fontWeight:"bold"}},accessibility:{description:"weekdays",rangeDescription:"X Axis is showing all 7 days of the week, starting with Sunday."}},yAxis:{min:0,max:5,accessibility:{description:"weeks"},visible:!1},legend:{enable:!1,layout:"vertical",verticalAlign:"middle"},series:[{showInLegend:!1,keys:["x","y","value","date","color","id"],data:t,nullColor:"rgba(196, 196, 196, 0.2)",borderWidth:2,borderColor:"rgba(196, 196, 196, 0.2)",dataLabels:[{enabled:!0,format:"{#unless point.custom.empty}{point.shiftstring}{/unless}",style:{textOutline:"none",fontWeight:"normal",fontSize:"0.73rem"},y:4},{enabled:!0,align:"left",verticalAlign:"top",format:"{#unless point.custom.details}{point.custom.details}{/unless}",backgroundColor:"whitesmoke",padding:2,style:{textOutline:"none",color:"rgba(70, 70, 92, 1)",fontSize:"0.8rem",fontWeight:"bold",opacity:.5},x:1,y:1}]}],plotOptions:{series:{point:{events:{click:function(){var y=-1,C=0;for(var S in t)if(t[S].x==this.x&&t[S].y==this.y){var D=new Date(t[S].date),z=D.getDate(),L=D.getMonth()+1,ne=D.getFullYear(),M=!1;let ee=`${ne}-${L.toString().padStart(2,"0")}-${z.toString().padStart(2,"0")}`;var j=new Date(ee),M=!1;for(var Y in A){var w=new Date(A[Y].StartDate),O=new Date(A[Y].EndDate);if(D>=w&&D<=O){var q=new Ot;q.loadByIdAndOpenDialog(A[Y].ID),q.set_readOnly(!0),C=1;break}}if(C==1)break;var Z=!1;for(var oe in r)if(r[oe].PublicHolidayDate==ee){var be=r[oe].Id;Z=!0;break}if(Z=!0)break;for(var W in x){var X=new Date(x[W].ShiftStartDate),T=new Date(x[W].ShiftEndDate),G=x[W].ShiftEndDate;if(x[W].EmployeeGroupID!==void 0&&D>=X&&D<=T){y=x[W].EmployeeGroupID,M=!0;break}if(Ve(j,X,T)){y=x[W].Id;var se=new Ct($e.Authorization.userDefinition.EmployeeRowID,ee,1,G);se.loadByIdAndOpenDialog(y),se.set_readOnly(!0)}}if(M){var le=new Wt;le.loadByIdAndOpenDialog(y),le.set_readOnly(!0)}if(Z){var Se=new kt;Se.loadByIdAndOpenDialog(be),Se.set_readOnly(!0)}break}}}}}}}),l=c.chartWidth,d=c.chartHeight;return[l,d]}if(R(i,"plot"),!$e.Authorization.hasPermission(Be.HumanResources)){var f=document.createElement("style");f.setAttribute("type","text/css"),f.innerHTML=` body {margin-top:20px;}

            .card-style1 {
                box-shadow: 0px 0px 10px 0px rgb(89 75 128 / 9 %);
            }
            .border - 0 {
                border: 0!important;
            }
            .card {
                position: relative;
                display: flex;
                flex-direction: column;
                min-width: 0;
                word-wrap: break-word;
                background-color: #fff;
                background-clip: border-box;
                border: 1px solid rgba(0, 0, 0, .125);
                border-radius: 0.25rem;
            }
            section {
                padding: 120px 0;
                overflow: hidden;
                background: #fff;
            }
            .mb-2-3,.my-2-3 {
                margin-bottom: 2.3rem;
            }

            .section-title {
                font-weight: 600;
                letter-spacing: 2px;
                text-transform: uppercase;
                margin-bottom: 10px;
                position: relative;
                display: inline-block;
            }

            .text-primary {
                    color: #ceaa4d!important;
                }

            .text-secondary {
                    color: #15395A!important;
                }

            .font-weight-600 {
                    font-weight: 600;
                }

            .display-26 {
                    font-size: 1.3rem;
                }

        @media screen and(min-width: 992px) {
        .p-lg-7 {
                padding: 4rem;
            }
        }

        @media screen and(min-width: 768px) {
        .p-md-6 {
                padding: 3.5rem;
            }
        }

        @media screen and(min-width: 576px) {
        .p-sm-2-3 {
                padding: 2.3rem;
            }
        }

    .p-1-9 {
            padding: 1.9rem;
        }

    .bg-secondary {
            background: #15395A!important;
        }

        @media screen and(min - width: 576px) {
        .pe-sm-6,.px-sm-6{
                padding-right: 3.5rem;
            }
        }

        @media screen and(min-width: 576px) {
        .ps-sm-6,.px-sm-6 {
                padding-left: 3.5rem;
            }
        }

    .pe-1-9,.px-1-9{
            padding-right: 1.9rem;
        }

    .ps-1-9,.px-1-9 {
            padding-left: 1.9rem;
        }

    .pb-1-9,.py-1-9 {
            padding-bottom: 1.9rem;
        }

    .pt-1-9,.py-1-9{
            padding-top: 1.9rem;
        }
    .mb-1-9,.my-1-9 {
            margin-bottom: 1.9rem;
        }

        @media(min-width: 992px) {
        .d-lg-inline-block {
                display: inline - block!important;
            }
        }
    .rounded {
            border-radius: 0.25rem!important;
        }
        .tab {
          overflow: hidden;
          border: 1px solid #ccc;
          background-color: #f1f1f1;
        }

        .tab button {
          background-color: inherit;
          float: left;
          border: none;
          outline: none;
          cursor: pointer;
          padding: 14px 16px;
          transition: 0.3s;
        }

        .tab button:hover {
          background-color: #ddd;
        }

        .tab button.active {
          background-color: #ccc;
        }


        .tabcontent {
          display: none;
          padding: 6px 12px;
          border: 1px solid #ccc;
          border-top: none;
        animation: fadeEffect 1s; /* Fading effect takes 1 second */

        }

        @keyframes fadeEffect {
          from {opacity: 0;}
          to {opacity: 1;}
        }
        `;var v=document.createElement("div");v.setAttribute("class","row");var P=document.createElement("div");P.setAttribute("class","container");var pe=document.createElement("section");pe.setAttribute("class","bg-light");var he=document.createElement("DIV");he.setAttribute("class","col-lg-12 mb-4 mb-sm-5");var ye=document.createElement("DIV");ye.setAttribute("class","card card-style1 border-0");var ve=document.createElement("DIV");ve.setAttribute("class","card-body");var Oe=document.createElement("div");Oe.setAttribute("class","row align-items-center");var ge=document.createElement("img");ge.setAttribute("id","myImg"),ge.width=63,ge.height=112.5;var zt=document.createElement("DIV");zt.setAttribute("class","col-lg-12 mb-4 mb-sm-5");var Xe=document.createElement("DIV");Xe.classList.add("category-title"),Xe.setAttribute("id","Employee-Timetable");var _e=!1,lt=(0,Re.getLookup)("Department.Department"),dt=(0,Re.getLookup)("Division.Division"),mt=(0,Re.getLookup)("Section.Section"),ut=(0,Re.getLookup)("JobGrade.JobGrade"),ct=(0,Re.getLookup)("Occupation.Occupation"),ft=!1;for((0,Ie.serviceCall)({service:It.baseUrl+"/RetriveShiftHistory",method:"GET",data:{EmployeeID:$e.Authorization.userDefinition.EmployeeRowID},async:!1,onSuccess:t=>{x=t.Entities,B=We(x,ce,Q);for(var r in t.Entities)if(parseInt(t.Entities[r].Id)==0){_e=!0;break}ft=!0},onError:t=>{console.log(t)}});ft==!1;);console.log(_e),(0,Ie.serviceCall)({service:k.baseUrl+"/EmployeeProfileBasedOnID",data:{EmployeeID:$e.Authorization.userDefinition.EmployeeRowID},method:"GET",async:!1,onSuccess:t=>{t.Entities[0].EmployeeImg?ge.src="/upload/"+t.Entities[0].EmployeeImg:t.Entities[0].Sex==1?ge.src="https://i.stack.imgur.com/l60Hf.png":t.Entities[0].Sex==0&&(ge.src="https://st.depositphotos.com/2218212/2938/i/950/depositphotos_29388097-stock-illustration-facebook-profile.jpg");var r=document.createElement("div");r.appendChild(ge),r.setAttribute("class","col-lg-2 mb-4 mb-lg-0");var n=document.createElement("div");n.setAttribute("class","col-lg-5 px-xl-10");var c=document.createElement("div");c.setAttribute("class","col-lg-5 px-xl-10");var l=document.createElement("ul");l.setAttribute("class","list-unstyled ");var d=document.createElement("ul");d.setAttribute("class","list-unstyled ");var y=document.createElement("li"),C=document.createElement("span");C.setAttribute("class","text-secondary me-1 font-weight-600"),C.innerText="Name",y.appendChild(C),y.insertAdjacentText("beforeend",t.Entities[0].EmployeeName),l.appendChild(y);var S=document.createElement("li"),D=document.createElement("span");D.setAttribute("class","text-secondary me-1 font-weight-600"),D.innerText="Employee ID",S.appendChild(D),S.insertAdjacentText("beforeend",t.Entities[0].EmployeeID),l.appendChild(S),console.log(t.Entities[0]);var z=document.createElement("li"),L=document.createElement("span");L.setAttribute("class","text-secondary me-1 font-weight-600"),L.innerText="Age",z.appendChild(L),z.insertAdjacentText("beforeend",t.Entities[0].Age),l.appendChild(z);let ne=new Date(t.Entities[0].RecruitmentDate),j=new Date,M=j.getFullYear()-ne.getFullYear(),Y=j.getMonth()-ne.getMonth();var w=document.createElement("li"),O=document.createElement("span");O.setAttribute("class","text-secondary me-1 font-weight-600");var q;if(M==0?(O.innerText="Month of service",q=Y.toString()):(O.innerText="Year of service",q=M.toString()),w.appendChild(O),w.insertAdjacentText("beforeend",q),l.appendChild(w),K(lt.items,t.Entities[0].DepartmentId)!=null){var Z=document.createElement("li"),oe=document.createElement("span");oe.setAttribute("class","text-secondary me-1 font-weight-600"),oe.innerText="Department",Z.appendChild(oe),Z.insertAdjacentText("beforeend",K(lt.items,t.Entities[0].DepartmentId)),d.appendChild(Z)}if(K(dt.items,t.Entities[0].DivisionId)!=null){var be=document.createElement("li"),W=document.createElement("span");W.setAttribute("class","text-secondary me-1 font-weight-600"),W.innerText="Division",be.appendChild(W),be.insertAdjacentText("beforeend",K(dt.items,t.Entities[0].DivisionId)),d.appendChild(be)}if(K(mt.items,t.Entities[0].SectionId)!=null){var X=document.createElement("li"),T=document.createElement("span");T.setAttribute("class","text-secondary me-1 font-weight-600"),T.innerText="Section",X.appendChild(T),X.insertAdjacentText("beforeend",K(mt.items,t.Entities[0].SectionId)),d.appendChild(X)}if(K(ct.items,t.Entities[0].OccupationId)!=null){var G=document.createElement("li"),se=document.createElement("span");se.setAttribute("class","text-secondary me-1 font-weight-600"),se.innerText="Occupation",G.appendChild(se),G.insertAdjacentText("beforeend",K(ct.items,t.Entities[0].OccupationId)),d.appendChild(G)}if(K(ut.items,t.Entities[0].JobGradeId)!=null){var le=document.createElement("li"),Se=document.createElement("span");Se.setAttribute("class"," text-secondary me-1 font-weight-600"),Se.innerText="JobGrade",le.appendChild(Se),le.insertAdjacentText("beforeend",K(ut.items,t.Entities[0].JobGradeId)),d.appendChild(le)}n.appendChild(l),c.appendChild(d),Oe.appendChild(r),Oe.appendChild(n),Oe.appendChild(c),ve.appendChild(Oe),ye.appendChild(ve),he.appendChild(ye),v.append(he),P.append(v),pe.append(P),$("#GridDiv").append(pe),$("#GridDiv").append(f);var ee=document.createElement("DIV");ee.setAttribute("id","time-box"),ee.setAttribute("class","row"),ee.setAttribute("align","right");var pt=document.createElement("DIV"),Ye=document.createElement("INPUT");Ye.setAttribute("id","Month"),Ye.setAttribute("type","text"),Ye.setAttribute("class","monthSelect"),pt.appendChild(Ye),ee.appendChild(pt);function ht(it,Le){var V,Te,Ee;for(Te=document.getElementsByClassName("tabcontent"),V=0;V<Te.length;V++)Te[V].style.display="none";for(Ee=document.getElementsByClassName("tablinks"),V=0;V<Ee.length;V++)Ee[V].className=Ee[V].className.replace(" active","");document.getElementById(Le)!=null&&(document.getElementById(Le).style.display="block"),it.currentTarget.className+=" active"}R(ht,"open");var je=document.createElement("div");je.setAttribute("class","tab");var ke=document.createElement("button");ke.addEventListener("click",function(){ht(event,"shifttab")},!1),ke.setAttribute("class","tablinks"),ke.innerText="Shift",ke.setAttribute("id","defaultOpen");var ze=document.createElement("button");ze.addEventListener("click",function(){ht(event,"tab2")},!1),ze.setAttribute("class","tablinks"),ze.innerText="tab2",je.appendChild(ke),je.appendChild(ze);var Ae=document.createElement("DIV");Ae.setAttribute("class","tabcontent"),Ae.setAttribute("id","shifttab"),Ae.appendChild(ee),Ae.appendChild(Xe);var te=document.createElement("DIV");te.setAttribute("class","tabcontent"),te.setAttribute("id","tab2");var yt=document.createElement("h3");yt.textContent="Tab 2";var vt=document.createElement("p");vt.textContent="This is the content of Tab 2",te.appendChild(yt),te.appendChild(vt),v.appendChild(je),v.appendChild(Ae),v.appendChild(te);var qe=Ze(ce,Q);let gt=new Vt.Select2Editor($("#Month"));for(var xe=0;xe<qe.length;xe++)gt.addItem({id:xe.toString(),text:qe[xe].toString()}),qe[xe].toString()==Me&&gt.set_value(xe.toString());$("#Month").on("change",function(){return ie(this,null,function*(){var it=$(this).val(),Le=qe[it];J=parseInt(Le.split("-")[0]),I=parseInt(Le.split("-")[1]),Q=I,ce=J;var V=We(x,J,I);_e==!1&&(V=Ge(V,x));var[Te,Ee,Qt]=re(E,ce,Q),at=[];for(var rt in Ee)at.push({PublicHolidayDate:Ee[rt],PublicHolidayId:Qt[rt],PublicHolidayName:Te[rt]});var Zt=Ue(V,H,b,at,A),Pt,wt;[Pt,wt]=i(Zt,at),te.style.width=String(Pt)+"px",te.style.height=String(wt)+"px"})}),_e==!1&&(B=Ge(B,x));var[qt,bt,Kt]=re(E,ce,Q),et=[];for(var tt in bt)et.push({PublicHolidayDate:bt[tt],PublicHolidayId:Kt[tt],PublicHolidayName:qt[tt]});var Jt=Ue(B,H,b,et,A),Et,Dt;[Et,Dt]=i(Jt,et),te.style.width=String(Et)+"px",te.style.height=String(Dt)+"px",ke.click()},onError:t=>{console.log(t.Error)}})}}R(ti,"pageInit");export{ti as default};
//# sourceMappingURL=EmployeeProfilePage.js.map
