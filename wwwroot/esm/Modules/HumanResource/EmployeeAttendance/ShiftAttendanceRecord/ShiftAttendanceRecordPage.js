import{e as G,f as L,g as r,h as E}from"../../../../_chunks/chunk-O6VRCEVL.js";import{l as O}from"../../../../_chunks/chunk-DCWHR4KR.js";import"../../../../_chunks/chunk-DA7Z2NN7.js";import{a as F}from"../../../../_chunks/chunk-27W64ILM.js";import"../../../../_chunks/chunk-TXZZYEY4.js";import{f as x,j as w,n as B}from"../../../../_chunks/chunk-HERT6KZV.js";import"../../../../_chunks/chunk-DMDSRNFC.js";import{a as M}from"../../../../_chunks/chunk-TIB4BNCY.js";import{b as Q}from"../../../../_chunks/chunk-J32UWVCU.js";import"../../../../_chunks/chunk-K2UT2MVJ.js";import{a as R}from"../../../../_chunks/chunk-DNINIZJD.js";import{c as p,g as k,h as I,k as H}from"../../../../_chunks/chunk-L3ECGIWB.js";var P=k(H(),1);var n=k(R(),1);var N=k(R(),1);var m=class extends N.EntityDialog{constructor(){super();this.form=new L(this.idPrefix);this.editButton.remove(),this.applyChangesButton.remove();var t=document.createElement("link");t.rel="stylesheet",t.href="https://cdn.jsdelivr.net/npm/clocklet@0.3.0/css/clocklet.min.css";var e=document.createElement("script");e.src="https://cdn.jsdelivr.net/npm/clocklet@0.3.0",document.head.appendChild(t),document.head.appendChild(e);var o=$(".fieldset").children().attr("id");let l="PropertyGrid",c="TimeInHour",T="TimeOutHour",f="ShiftStartTimeHour",b="ShiftEndTimeHour",a=o.lastIndexOf(l);if(a!==-1)var A=o.substring(0,a)+c,g=o.substring(0,a)+T,D=o.substring(0,a)+f,_=o.substring(0,a)+b;var S=document.getElementById(A);S.setAttribute("data-clocklet",""),S.setAttribute("id","time-start-clocklet"),S.addEventListener("clocklet.opening",function(d){let s=document.getElementById("time-start-clocklet");s&&(s.style.zIndex=Number.MAX_SAFE_INTEGER.toString())}),S.addEventListener("clocklet.closed",function(d){});var h=document.getElementById(g);h.setAttribute("data-clocklet",""),h.setAttribute("id","time-end-clocklet"),h.addEventListener("clocklet.opening",function(d){let s=document.getElementById("time-end-clocklet");s&&(s.style.zIndex=Number.MAX_SAFE_INTEGER.toString())}),h.addEventListener("clocklet.closed",function(d){});var v=document.getElementById(D);v.setAttribute("data-clocklet",""),v.setAttribute("id","shift-start-clocklet"),v.addEventListener("clocklet.opening",function(d){let s=document.getElementById("shift-start-clocklet");s&&(s.style.zIndex=Number.MAX_SAFE_INTEGER.toString())}),v.addEventListener("clocklet.closed",function(d){});var y=document.getElementById(_);y.setAttribute("data-clocklet",""),y.setAttribute("id","shift-end-clocklet"),y.addEventListener("clocklet.opening",function(d){let s=document.getElementById("shift-end-clocklet");s&&(s.style.zIndex=Number.MAX_SAFE_INTEGER.toString())}),y.addEventListener("clocklet.closed",function(d){})}getFormKey(){return L.formKey}getRowDefinition(){return r}getService(){return E.baseUrl}onDialogOpen(){super.onDialogOpen(),this.isNew()||E.Retrieve({EntityId:this.entityId},t=>{var e=new Date(t.Entity.ShiftStartTime),o=e.getHours().toString().padStart(2,"0"),l=e.getMinutes().toString().padStart(2,"0"),c=`${o}:${l}`,T=document.getElementById("shift-start-clocklet");T.value=c;var f=new Date(t.Entity.ShiftEndTime);o=f.getHours().toString().padStart(2,"0"),l=f.getMinutes().toString().padStart(2,"0"),c=`${o}:${l}`;var b=document.getElementById("shift-end-clocklet");b.value=c;var a=new Date(t.Entity.TimeIn);o=a.getHours().toString().padStart(2,"0"),l=a.getMinutes().toString().padStart(2,"0"),c=`${o}:${l}`;var A=document.getElementById("time-start-clocklet");A.value=c;var g=new Date(t.Entity.TimeOut);o=g.getHours().toString().padStart(2,"0"),l=g.getMinutes().toString().padStart(2,"0"),c=`${o}:${l}`;var D=document.getElementById("time-end-clocklet");D.value=c})}};p(m,"ShiftAttendanceRecordDialog"),m=I([N.Decorators.registerClass("HRMSoftware.EmployeeAttendance.ShiftAttendanceRecordDialog")],m);var C=k(H(),1);var u=class extends n.EntityGrid{getColumnsKey(){return G.columnsKey}getDialogType(){return m}getRowDefinition(){return r}getService(){return E.baseUrl}getQuickFilters(){let i=super.getQuickFilters();return C.Authorization.hasPermission(F.HumanResources)&&(i.push({cssClass:"hidden-xs",field:r.Fields.OccupationName,type:n.Select2Editor,title:"Occupation"}),i.push({cssClass:"hidden-xs",field:r.Fields.JobGradeName,type:n.Select2Editor,title:"Job Grade"}),i.push({cssClass:"hidden-xs",field:r.Fields.DivisionName,type:n.Select2Editor,title:"Division"}),i.push({cssClass:"hidden-xs",field:r.Fields.DepartmentName,type:n.Select2Editor,title:"Department"}),i.push({cssClass:"hidden-xs",field:r.Fields.EmployeeName,type:n.Select2Editor,title:"Name"}),i.push({cssClass:"hidden-xs",field:r.Fields.EmployeeID,type:n.Select2Editor,title:"Employee ID"}),i.push({cssClass:"hidden-xs",field:r.Fields.CostCentreName,type:n.Select2Editor,title:"Cost Centre"}),i.reverse()),i}createQuickFilters(){if(super.createQuickFilters(),C.Authorization.hasPermission(F.HumanResources)){let i=["January","February","March","April","May","June","July","August","September","October","November","December"];B.List({},t=>{for(var e in t.Entities)this.findQuickFilter(n.Select2Editor,r.Fields.OccupationName).items.push({id:t.Entities[e].Name.toString(),text:t.Entities[e].Name.toString()})}),w.List({},t=>{for(var e in t.Entities)this.findQuickFilter(n.Select2Editor,r.Fields.JobGradeName).items.push({id:t.Entities[e].Name.toString(),text:t.Entities[e].Name.toString()})}),M.List({},t=>{for(var e in t.Entities)this.findQuickFilter(n.Select2Editor,r.Fields.DepartmentName).items.push({id:t.Entities[e].Name.toString(),text:t.Entities[e].Name.toString()})}),x.List({},t=>{for(var e in t.Entities)this.findQuickFilter(n.Select2Editor,r.Fields.DivisionName).items.push({id:t.Entities[e].Name.toString(),text:t.Entities[e].Name.toString()})}),Q.List({},t=>{for(var e in t.Entities)this.findQuickFilter(n.Select2Editor,r.Fields.EmployeeName).items.push({id:t.Entities[e].EmployeeName.toString(),text:t.Entities[e].EmployeeName.toString()}),this.findQuickFilter(n.Select2Editor,r.Fields.EmployeeID).items.push({id:t.Entities[e].EmployeeID.toString(),text:t.Entities[e].EmployeeID.toString()})}),O.List({},t=>{for(var e in t.Entities)this.findQuickFilter(n.Select2Editor,r.Fields.CostCentreName).items.push({id:t.Entities[e].Name.toString(),text:t.Entities[e].Name.toString()})})}}constructor(i){super(i)}getColumns(){var i=super.getColumns(),t;if(!C.Authorization.hasPermission(F.HumanResources))for(t in i)(i[t].name=="Employee Id"||i[t].name=="Approved By")&&i.splice(t,1);return i}onViewProcessData(i){return i=super.onViewProcessData(i),this.toolbar.findButton("column-picker-button").toggle(!1),i}};p(u,"ShiftAttendanceRecordGrid"),u=I([n.Decorators.registerClass("HRMSoftware.EmployeeAttendance.ShiftAttendanceRecordGrid")],u);function z(){(0,P.initFullHeightGridPage)(new u($("#GridDiv")).element)}p(z,"pageInit");export{z as default};
//# sourceMappingURL=ShiftAttendanceRecordPage.js.map
