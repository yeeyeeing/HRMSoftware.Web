import{a as C,b as S,c as d,d as h}from"../../../../_chunks/chunk-O6VRCEVL.js";import"../../../../_chunks/chunk-DA7Z2NN7.js";import{a as v}from"../../../../_chunks/chunk-27W64ILM.js";import"../../../../_chunks/chunk-XMVX6RS3.js";import{f as P,j as b,n as x}from"../../../../_chunks/chunk-HERT6KZV.js";import"../../../../_chunks/chunk-DMDSRNFC.js";import{a as R}from"../../../../_chunks/chunk-TIB4BNCY.js";import{b as E}from"../../../../_chunks/chunk-BA2LGLQM.js";import"../../../../_chunks/chunk-K2UT2MVJ.js";import{a as y}from"../../../../_chunks/chunk-DNINIZJD.js";import{c as a,g as c,h as f,j as D,k as A}from"../../../../_chunks/chunk-L3ECGIWB.js";var Q=c(A(),1);var g=c(y(),1);var o=c(y(),1);var l=class extends o.EntityDialog{constructor(){super();this.form=new S(this.idPrefix)}getFormKey(){return S.formKey}getRowDefinition(){return d}getService(){return h.baseUrl}dialogOpen(e){var i=document.getElementById(this.idPrefix+"AuthenticationTime");i.setAttribute("data-clocklet",""),i.addEventListener("clocklet.opening",function(n){var s=document.getElementById(this.id);s&&(s.style.zIndex=Number.MAX_SAFE_INTEGER.toString())}),$(document.getElementById(this.idPrefix.substring(0,this.idPrefix.lastIndexOf("_")))).click(function(){});var I=this.form.AuthenticationSecond.value,N=document.getElementById(this.idPrefix+"AuthenticationSecond");let B=new o.Select2Editor($(N));for(let n=0;n<=60;n++)B.addItem({id:n.toString(),text:n.toString()});I!=null&&$(N).val(I.toString()).trigger("change"),super.dialogOpen(e),o.EditorUtils.setReadonly(this.form.PersonName.element,!0);var k=this.form.EmployeeRowID.value;E.List({},n=>{var s=document.getElementById(this.idPrefix+"EmployeeRowID");let O=new o.Select2Editor($(s));var T=document.getElementById(this.idPrefix+"PersonName");let u=[];for(var p in n.Entities)O.addItem({id:n.Entities[p].Id.toString(),text:n.Entities[p].EmployeeID.toString()}),u.push({id:n.Entities[p].Id,name:n.Entities[p].EmployeeName});$(s).on("change",function(){return D(this,null,function*(){for(var w in u)u[w].id==$(s).val()&&$(T).val(u[w].name)})}),k!=null&&$(s).val(k.toString()).trigger("change")}),this.form.AuthenticationTime.value!=null&&(this.form.AuthenticationTime.value=this.form.AuthenticationTime.value.substring(0,4))}};a(l,"EmployeeAttendanceDialog"),l=f([o.Decorators.registerClass("HRMSoftware.EmployeeAttendance.EmployeeAttendanceDialog")],l);var F=c(A(),1),r=c(y(),1);var m=class extends g.EntityGrid{getColumnsKey(){return C.columnsKey}getDialogType(){return l}getRowDefinition(){return d}getService(){return h.baseUrl}constructor(t){super(t);var e=document.createElement("link");e.rel="stylesheet",e.href="https://cdn.jsdelivr.net/npm/clocklet/css/clocklet.min.css";var i=document.createElement("script");i.src="https://cdn.jsdelivr.net/npm/clocklet",document.head.appendChild(e),document.head.appendChild(i)}onViewProcessData(t){return t=super.onViewProcessData(t),this.toolbar.findButton("column-picker-button").toggle(!1),t}getQuickFilters(){let t=super.getQuickFilters();var e=d;return F.Authorization.hasPermission(v.HumanResources)&&(t.push({cssClass:"hidden-xs",field:e.Fields.OccupationName,type:r.Select2Editor,title:"Occupation"}),t.push({cssClass:"hidden-xs",field:e.Fields.JobGradeName,type:r.Select2Editor,title:"Job Grade"}),t.push({cssClass:"hidden-xs",field:e.Fields.DivisionName,type:r.Select2Editor,title:"Division"}),t.push({cssClass:"hidden-xs",field:e.Fields.DepartmentName,type:r.Select2Editor,title:"Department"}),t.push({cssClass:"hidden-xs",field:e.Fields.EmployeeName,type:r.Select2Editor,title:"Name"}),t.push({cssClass:"hidden-xs",field:e.Fields.EmployeeId,type:r.Select2Editor,title:"Employee ID"}),t.reverse()),t}createQuickFilters(){super.createQuickFilters();var t=d;F.Authorization.hasPermission(v.HumanResources)?(x.List({},e=>{for(var i in e.Entities)this.findQuickFilter(r.Select2Editor,t.Fields.OccupationName).items.push({id:e.Entities[i].Name.toString(),text:e.Entities[i].Name.toString()})}),b.List({},e=>{for(var i in e.Entities)this.findQuickFilter(r.Select2Editor,t.Fields.JobGradeName).items.push({id:e.Entities[i].Name.toString(),text:e.Entities[i].Name.toString()})}),R.List({},e=>{for(var i in e.Entities)this.findQuickFilter(r.Select2Editor,t.Fields.DepartmentName).items.push({id:e.Entities[i].Name.toString(),text:e.Entities[i].Name.toString()})}),P.List({},e=>{for(var i in e.Entities)this.findQuickFilter(r.Select2Editor,t.Fields.DivisionName).items.push({id:e.Entities[i].Name.toString(),text:e.Entities[i].Name.toString()})}),E.List({},e=>{for(var i in e.Entities)this.findQuickFilter(r.Select2Editor,t.Fields.EmployeeName).items.push({id:e.Entities[i].EmployeeName.toString(),text:e.Entities[i].EmployeeName.toString()}),this.findQuickFilter(r.Select2Editor,t.Fields.EmployeeId).items.push({id:e.Entities[i].EmployeeID.toString(),text:e.Entities[i].EmployeeID.toString()})})):this.toolbar.findButton("add-button").toggle(!1)}};a(m,"EmployeeAttendanceGrid"),m=f([g.Decorators.registerClass("HRMSoftware.EmployeeAttendance.EmployeeAttendanceGrid")],m);function G(){(0,Q.initFullHeightGridPage)(new m($("#GridDiv")).element)}a(G,"pageInit");export{G as default};
//# sourceMappingURL=EmployeeAttendancePage.js.map
