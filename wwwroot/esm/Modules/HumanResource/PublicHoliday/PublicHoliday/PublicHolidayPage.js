import{a as P}from"../../../../_chunks/chunk-5O3QBP2P.js";import"../../../../_chunks/chunk-KEJQ7JSJ.js";import{d as S}from"../../../../_chunks/chunk-DC5JUE5I.js";import"../../../../_chunks/chunk-SPO25IZJ.js";import"../../../../_chunks/chunk-7WX7CVOG.js";import"../../../../_chunks/chunk-PPMBDC6H.js";import{a as w,b as D,c as v,d as H}from"../../../../_chunks/chunk-E4P46BHF.js";import{d as R}from"../../../../_chunks/chunk-HDHDXEPW.js";import"../../../../_chunks/chunk-BVVXSYMS.js";import"../../../../_chunks/chunk-3NATHMDL.js";import"../../../../_chunks/chunk-RTQCGMRU.js";import"../../../../_chunks/chunk-MVZ476J5.js";import"../../../../_chunks/chunk-DMDSRNFC.js";import"../../../../_chunks/chunk-LLMDZJQJ.js";import{b as C}from"../../../../_chunks/chunk-J5PFZI4S.js";import"../../../../_chunks/chunk-K2UT2MVJ.js";import{a as U}from"../../../../_chunks/chunk-DNINIZJD.js";import{c as i,g as d,h as f,k as b}from"../../../../_chunks/chunk-L3ECGIWB.js";var E=d(b(),1);var a=d(U(),1);var n=d(b(),1);var t=class extends a.EntityGrid{getColumnsKey(){return w.columnsKey}getDialogType(){return H}getRowDefinition(){return D}getService(){return v.baseUrl}constructor(e){super(e)}getButtons(){var e=super.getButtons();return e.push({title:"Renew Public Holiday",cssClass:"apply-changes-button",onClick:s=>{(0,n.confirm)("Do you sure you want to renew the public holiday",()=>{var r;R.List({},l=>{r=l.Entities[0].BasedCountry,console.log(r),S.List({},o=>{for(var u in o.Entities){var h=new P(r),c=o.Entities[u].Year,p=h.getHolidays(c);for(var g in p){var k=p[g].date.substring(0,10),m=new Date(k),c=m.getFullYear(),I=(m.getMonth()+1).toString().padStart(2,"0"),B=m.getDate().toString().padStart(2,"0"),L=`${c}-${I}-${B}`,x=p[g].name;(0,n.serviceCall)({service:C.baseUrl+"/CreatePublicHolidayRecord",data:{HolidayName:x,Date:L,CountryCode:r},method:"GET",async:!1,onSuccess:y=>{},onError:y=>{console.log(y.Error)}})}}location.reload()})})})},separator:!0}),e}onViewProcessData(e){return e=super.onViewProcessData(e),this.toolbar.findButton("column-picker-button").toggle(!1),e}onClick(e,s,r){if(super.onClick(e,s,r),!e.isDefaultPrevented()){var l=this.itemAt(s),o=$(e.target),u=o[0].checked==!0?1:-1;v.Update({EntityId:l.Id,Entity:{IsActive:u}})}}};i(t,"PublicHolidayGrid"),t=f([a.Decorators.registerClass("HRMSoftware.PublicHoliday.PublicHolidayGrid")],t);function Y(){(0,E.initFullHeightGridPage)(new t($("#GridDiv")).element)}i(Y,"pageInit");export{Y as default};
//# sourceMappingURL=PublicHolidayPage.js.map
