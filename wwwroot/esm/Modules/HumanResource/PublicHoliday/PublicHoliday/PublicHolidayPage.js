import{a as H}from"../../../../_chunks/chunk-5O3QBP2P.js";import"../../../../_chunks/chunk-KEJQ7JSJ.js";import{d as S}from"../../../../_chunks/chunk-DC5JUE5I.js";import"../../../../_chunks/chunk-SPO25IZJ.js";import"../../../../_chunks/chunk-7WX7CVOG.js";import"../../../../_chunks/chunk-PPMBDC6H.js";import{a as f,b,c as w,d as R}from"../../../../_chunks/chunk-USJNQGRS.js";import{d as y}from"../../../../_chunks/chunk-2YAUIENJ.js";import"../../../../_chunks/chunk-BVVXSYMS.js";import"../../../../_chunks/chunk-KJR5IZZY.js";import{b as v}from"../../../../_chunks/chunk-2SJ2SYN6.js";import"../../../../_chunks/chunk-K2UT2MVJ.js";import{a as k}from"../../../../_chunks/chunk-DNINIZJD.js";import{c as r,g as c,h as d,k as g}from"../../../../_chunks/chunk-L3ECGIWB.js";var C=c(g(),1);var i=c(k(),1);var a=c(g(),1);var t=class extends i.EntityGrid{getColumnsKey(){return f.columnsKey}getDialogType(){return R}getRowDefinition(){return b}getService(){return w.baseUrl}constructor(e){super(e)}getButtons(){var e=super.getButtons();return e.push({title:"Renew Public Holiday",cssClass:"apply-changes-button",onClick:I=>{(0,a.confirm)("Do you sure you want to renew the public holiday",()=>{var o;y.List({},D=>{o=D.Entities[0].BasedCountry,console.log(o),S.List({},u=>{for(var P in u.Entities){var E=new H(o),n=u.Entities[P].Year,s=E.getHolidays(n);for(var p in s){var h=s[p].date.substring(0,10),l=new Date(h),n=l.getFullYear(),B=(l.getMonth()+1).toString().padStart(2,"0"),L=l.getDate().toString().padStart(2,"0"),x=`${n}-${B}-${L}`,Y=s[p].name;(0,a.serviceCall)({service:v.baseUrl+"/CreatePublicHolidayRecord",data:{HolidayName:Y,Date:x,CountryCode:o},method:"GET",async:!1,onSuccess:m=>{},onError:m=>{console.log(m.Error)}})}}location.reload()})})})},separator:!0}),e}onViewProcessData(e){return e=super.onViewProcessData(e),this.toolbar.findButton("column-picker-button").toggle(!1),e}};r(t,"PublicHolidayGrid"),t=d([i.Decorators.registerClass("HRMSoftware.PublicHoliday.PublicHolidayGrid")],t);function F(){(0,C.initFullHeightGridPage)(new t($("#GridDiv")).element)}r(F,"pageInit");export{F as default};
//# sourceMappingURL=PublicHolidayPage.js.map
