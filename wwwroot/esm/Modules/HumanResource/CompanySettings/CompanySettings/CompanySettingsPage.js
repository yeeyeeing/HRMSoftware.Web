import{a as re}from"../../../../_chunks/chunk-5O3QBP2P.js";import"../../../../_chunks/chunk-KEJQ7JSJ.js";import{a as ne,b as w,c as M,d as B}from"../../../../_chunks/chunk-2YAUIENJ.js";import"../../../../_chunks/chunk-BVVXSYMS.js";import{n as ie}from"../../../../_chunks/chunk-HERT6KZV.js";import"../../../../_chunks/chunk-DMDSRNFC.js";import"../../../../_chunks/chunk-TIB4BNCY.js";import"../../../../_chunks/chunk-K2UT2MVJ.js";import{a as te}from"../../../../_chunks/chunk-DNINIZJD.js";import{c as h,g as C,h as R,j as i,k as ae}from"../../../../_chunks/chunk-L3ECGIWB.js";var oe=C(ae(),1);var F=C(te(),1);var t=C(te(),1);var r=C(ae(),1);var v=class extends t.EntityDialog{constructor(){super(...arguments);this.form=new w(this.idPrefix)}getFormKey(){return w.formKey}getRowDefinition(){return M}getService(){return B.baseUrl}getDialogOptions(){let n=super.getDialogOptions();return n.height=800,n.width=1200,n}ConstructOtDescription(){if(this.form.FixedOtRateCalculation.value==!0){if(this.form.FixedOtRateDenominator.value<=0){this.form.OtCalculationDescription.value="";return}this.form.OtCalculationDescription.value=`Hourly Ot Rate = (Basic Salary + Allowances Subjected)/ (${this.form.FixedOtRateDenominator.value} x Employee's Daily Working Hours)`}else this.form.VariableOtRateCalculation.value==!0?this.form.OtCalculationDescription.value="Hourly Ot Rate = (Basic Salary + Allowances Subjected)/Working Hours":this.form.OTMonthDays.value==!0?this.form.OtCalculationDescription.value="Hourly Ot Rate = (Basic Salary + Allowances Subjected)/Current Month Days":this.form.OtCalculationDescription.value=""}ConstructNplDescription(){if(this.form.DailyNplBasedOnWorkingHour.value==!0)this.form.NoPaidLeaveDes.value="Daily No Paid Leave Rate = Basic Salary/Working Hours";else if(this.form.DailyNplBasedOnFixedDenominator.value==!0){if(this.form.FixedNPLDenominator.value<=0){this.form.NoPaidLeaveDes.value="";return}this.form.NoPaidLeaveDes.value=`Daily No Paid Leave Rate = Basic Salary/ (${this.form.FixedNPLDenominator.value} x Employee's Daily Working Hours)`}else this.form.DailyNplMonthDays.value==!0?this.form.NoPaidLeaveDes.value="Daily No Paid Leave Rate = Basic Salary/Current Month Days":this.form.NoPaidLeaveDes.value=""}ConstructHourlyNplDescription(){this.form.HourlyNoPaidLeaveNPL.value==!0?this.form.HourlyNoPaidLeaveDes.value="Hourly No Paid Leave Rate = Daily No Paid Leave Rate / Employee's Daily Working Hours":this.form.HourlyNoPaidLeaveAbsent.value==!0?this.form.HourlyNoPaidLeaveDes.value="Hourly No Paid Leave Rate = Daily Absent/  Employee's Daily Working Hours":this.form.HourlyNoPaidLeaveDes.value=""}ConstructEarlyLeavingDescription(){if(this.form.EarlyLeavingBasedOnWorkingHour.value==!0)this.form.EarlyLeavingDes.value="Early Leaving Penalty Per Minute = Basic Salary/Working Hours";else if(this.form.EarlyLeavingBasedOnFixedDenominator.value==!0){if(this.form.FixedEarlyLeavingDenominator.value<=0){this.form.EarlyLeavingDes.value="";return}this.form.EarlyLeavingDes.value=`Early Leaving Penalty Per Minute = Basic Salary/ (${this.form.FixedEarlyLeavingDenominator.value} x Employee's Daily Working Hours)`}else this.form.EarlyLeavingMonthDays.value==!0?this.form.EarlyLeavingDes.value="Early Leaving Penalty Per Minute = Basic Salary/Current Month Days":this.form.EarlyLeavingDes.value=""}ConstructLateArrivalDescription(){if(this.form.LateArrivalBasedOnWorkingHour.value==!0)this.form.LateArrivalDes.value="Late Arrival Penalty Per Minute = Basic Salary/Working Hours";else if(this.form.LateArrivalBasedOnFixedDenominator.value==!0){if(this.form.FixedLateArrivalDenominator.value<=0){this.form.LateArrivalDes.value="";return}this.form.LateArrivalDes.value=`Late Arrival Penalty Per Minute = Basic Salary/ (${this.form.FixedLateArrivalDenominator.value} x Employee's Daily Working Hours)`}else this.form.LateArrivalMonthDays.value==!0?this.form.LateArrivalDes.value="Late Arrival Penalty Per Minute = Basic Salary/Current Month Days":this.form.LateArrivalDes.value=""}ConstructAbsentDescription(){if(this.form.AbsentBasedOnWorkingHour.value==!0)this.form.AbsentDes.value="Daily Absent Penalty = Basic Salary/Working Hours";else if(this.form.AbsentBasedOnFixedDenominator.value==!0){if(this.form.FixedAbsentDenominator.value<=0){this.form.AbsentDes.value="";return}this.form.AbsentDes.value=`Daily Absent Penalty = Basic Salary/${this.form.FixedAbsentDenominator.value} `}else this.form.AbsentMonthDays.value==!0?this.form.AbsentDes.value="Daily Absent Penalty = Basic Salary/Current Month Days":this.form.AbsentDes.value=""}dialogOpen(n){super.dialogOpen(n);var e=this;$(".field.WeekdayTwo, .field.WeekdayOnePointFive, .field.WeekendTwo, .field.WeekendOnePointFive, .field.PublicHolidayTwo, .field.PublicHolidayOnePointFive").addClass("col-md-2"),this.getDialogTitle(),e.form.MoneyClaimingEitherOne.value==!1&&!(e.form.MoneyClaimingEmployeeApproval.value==!0&&e.form.MoneyClaimingHrApproval.value==!0)&&$(".MoneyClaimingEitherOne").hide(),e.form.LeaveApplicationEitherOne.value==!1&&!(e.form.LeaveApplicationEmployeeApproval.value==!0&&e.form.LeaveApplicationHrApproval.value==!0)&&$(".LeaveApplicationEitherOne").hide(),e.form.OTEitherOne.value==!1&&!(e.form.OTApplicationEmployeeApproval.value==!0&&e.form.OTApplicationHrApproval.value==!0)&&$(".OTEitherOne").hide();var u=document.getElementById(this.idPrefix+"MoneyClaimingEmployeeApproval");$(u).on("change",function(){return i(this,null,function*(){e.form.MoneyClaimingEmployeeApproval.value==!0&&e.form.MoneyClaimingHrApproval.value==!0?$(".MoneyClaimingEitherOne").show():($(".MoneyClaimingEitherOne").hide(),e.form.MoneyClaimingEitherOne.value=!1)})});var c=document.getElementById(this.idPrefix+"MoneyClaimingHrApproval");$(c).on("change",function(){return i(this,null,function*(){e.form.MoneyClaimingEmployeeApproval.value==!0&&e.form.MoneyClaimingHrApproval.value==!0?$(".MoneyClaimingEitherOne").show():($(".MoneyClaimingEitherOne").hide(),e.form.MoneyClaimingEitherOne.value=!1)})});var y=document.getElementById(this.idPrefix+"LeaveApplicationEmployeeApproval");$(y).on("change",function(){return i(this,null,function*(){e.form.LeaveApplicationEmployeeApproval.value==!0&&e.form.LeaveApplicationHrApproval.value==!0?$(".LeaveApplicationEitherOne").show():($(".LeaveApplicationEitherOne").hide(),e.form.LeaveApplicationEitherOne.value=!1)})});var O=document.getElementById(this.idPrefix+"LeaveApplicationHrApproval");$(O).on("change",function(){return i(this,null,function*(){e.form.LeaveApplicationEmployeeApproval.value==!0&&e.form.LeaveApplicationHrApproval.value==!0?$(".LeaveApplicationEitherOne").show():($(".LeaveApplicationEitherOne").hide(),e.form.LeaveApplicationEitherOne.value=!1)})});var D=document.getElementById(this.idPrefix+"FixedOtRateCalculation");$(D).on("change",function(){return i(this,null,function*(){e.form.FixedOtRateCalculation.value==!0&&(e.form.VariableOtRateCalculation.value=e.form.OTMonthDays.value=!1),e.form.FixedOtRateCalculation.value==!0?$(".FixedOtRateDenominator").show():e.form.FixedOtRateCalculation.value==!1&&$(".FixedOtRateDenominator").hide(),e.ConstructOtDescription()})}),$(D).trigger("change");var P=document.getElementById(this.idPrefix+"FixedOtRateDenominator");$(P).on("change",function(){return i(this,null,function*(){e.ConstructOtDescription()})});var T=document.getElementById(this.idPrefix+"VariableOtRateCalculation");$(T).on("change",function(){return i(this,null,function*(){e.form.VariableOtRateCalculation.value==!0&&(e.form.FixedOtRateCalculation.value=e.form.OTMonthDays.value=!1,$(".FixedOtRateDenominator").hide()),e.ConstructOtDescription()})});var S=document.getElementById(this.idPrefix+"OTMonthDays");$(S).on("change",function(){return i(this,null,function*(){e.form.OTMonthDays.value==!0&&(e.form.FixedOtRateCalculation.value=e.form.VariableOtRateCalculation.value=!1,$(".FixedOtRateDenominator").hide()),e.ConstructOtDescription()})});var ue=document.getElementById(this.idPrefix+"WeekendTwo");$(ue).on("change",function(){return i(this,null,function*(){e.form.WeekendOnePointFive.value==!0&&(e.form.WeekendOnePointFive.value=!1)})});var fe=document.getElementById(this.idPrefix+"WeekendOnePointFive");$(fe).on("change",function(){return i(this,null,function*(){e.form.WeekendTwo.value==!0&&(e.form.WeekendTwo.value=!1)})});var me=document.getElementById(this.idPrefix+"WeekdayTwo");$(me).on("change",function(){return i(this,null,function*(){e.form.WeekdayOnePointFive.value==!0&&(e.form.WeekdayOnePointFive.value=!1)})});let I=["DailyNplBasedOnWorkingHour","DailyNplBasedOnFixedDenominator","DailyNplMonthDays"],ve=document.getElementById(this.idPrefix+"FixedNPLDenominator");I.forEach(a=>{let l=document.getElementById(this.idPrefix+a);l.addEventListener("change",s=>{l.checked&&I.filter(o=>o!==a).forEach(o=>{let E=document.getElementById(this.idPrefix+o);E.checked=!1}),e.ConstructNplDescription()})}),$(ve).on("change",function(){return i(this,null,function*(){e.ConstructNplDescription()})}),e.ConstructNplDescription();let N=["HourlyNoPaidLeaveNPL","HourlyNoPaidLeaveAbsent"];N.forEach(a=>{let l=document.getElementById(this.idPrefix+a);l.addEventListener("change",s=>{l.checked&&N.filter(o=>o!==a).forEach(o=>{let E=document.getElementById(this.idPrefix+o);E.checked=!1}),e.ConstructHourlyNplDescription()})}),e.ConstructHourlyNplDescription();let W=["EarlyLeavingBasedOnWorkingHour","EarlyLeavingBasedOnFixedDenominator","EarlyLeavingMonthDays"],ce=document.getElementById(this.idPrefix+"FixedEarlyLeavingDenominator");W.forEach(a=>{let l=document.getElementById(this.idPrefix+a);l.addEventListener("change",s=>{l.checked&&W.filter(o=>o!==a).forEach(o=>{let E=document.getElementById(this.idPrefix+o);E.checked=!1}),e.ConstructEarlyLeavingDescription()})}),$(ce).on("change",function(){return i(this,null,function*(){e.ConstructEarlyLeavingDescription()})}),e.ConstructEarlyLeavingDescription();let J=["LateArrivalBasedOnWorkingHour","LateArrivalBasedOnFixedDenominator","LateArrivalMonthDays"],de=document.getElementById(this.idPrefix+"FixedLateArrivalDenominator");J.forEach(a=>{let l=document.getElementById(this.idPrefix+a);l.addEventListener("change",()=>{l.checked&&J.filter(s=>s!==a).forEach(s=>{let o=document.getElementById(this.idPrefix+s);o.checked=!1}),e.ConstructLateArrivalDescription()})}),$(de).on("change",function(){return i(this,null,function*(){e.ConstructLateArrivalDescription()})}),e.ConstructLateArrivalDescription();let G=["AbsentBasedOnWorkingHour","AbsentBasedOnFixedDenominator","AbsentMonthDays"],he=document.getElementById(this.idPrefix+"FixedAbsentDenominator");G.forEach(a=>{let l=document.getElementById(this.idPrefix+a);l.addEventListener("change",()=>{l.checked&&G.filter(s=>s!==a).forEach(s=>{let o=document.getElementById(this.idPrefix+s);o.checked=!1}),e.ConstructAbsentDescription()})}),$(he).on("change",function(){return i(this,null,function*(){e.ConstructAbsentDescription()})}),e.ConstructAbsentDescription();var ye=document.getElementById(this.idPrefix+"WeekdayOnePointFive");$(ye).on("change",function(){return i(this,null,function*(){e.form.WeekdayTwo.value==!0&&(e.form.WeekdayTwo.value=!1)})});var pe=document.getElementById(this.idPrefix+"PublicHolidayTwo");$(pe).on("change",function(){return i(this,null,function*(){e.form.PublicHolidayOnePointFive.value==!0&&(e.form.PublicHolidayOnePointFive.value=!1)})});var ge=document.getElementById(this.idPrefix+"PublicHolidayOnePointFive");$(ge).on("change",function(){return i(this,null,function*(){e.form.PublicHolidayTwo.value==!0&&(e.form.PublicHolidayTwo.value=!1)})});var Ee=document.getElementById(this.idPrefix+"OTApplicationEmployeeApproval");$(Ee).on("change",function(){return i(this,null,function*(){e.form.OTApplicationEmployeeApproval.value==!0&&e.form.OTApplicationHrApproval.value==!0?$(".OTEitherOne").show():($(".OTEitherOne").hide(),e.form.OTEitherOne.value=!1)})});var Oe=document.getElementById(this.idPrefix+"OTApplicationHrApproval");$(Oe).on("change",function(){return i(this,null,function*(){e.form.OTApplicationEmployeeApproval.value==!0&&e.form.OTApplicationHrApproval.value==!0?$(".OTEitherOne").show():($(".OTEitherOne").hide(),e.form.OTEitherOne.value=!1)})}),this.dialogTitle="";var _=new re;this.applyChangesButton.hide(),this.deleteButton.hide();var L=this.form.RefreshLeaveOnSpecificDate,H=this.form.RefreshLeaveOnYearOfService,A=this.form.LeaveRefreshDay.element,x=this.form.LeaveRefreshMonth.element;t.EditorUtils.setReadonly(A,!0),t.EditorUtils.setReadonly(x,!0),t.EditorUtils.setReadonly(this.form.OtCalculationDescription.element,!0),t.EditorUtils.setReadonly(this.form.NoPaidLeaveDes.element,!0),t.EditorUtils.setReadonly(this.form.EarlyLeavingDes.element,!0),t.EditorUtils.setReadonly(this.form.LateArrivalDes.element,!0),t.EditorUtils.setReadonly(this.form.AbsentDes.element,!0),t.EditorUtils.setReadonly(this.form.HourlyNoPaidLeaveDes.element,!0);var m=1;this.isNew()==!1&&(m=this.form.PayDay.value);var V=document.getElementById(this.idPrefix+"PayDay");let De=new t.Select2Editor($(V));for(let a=1;a<=31;a++)De.addItem({id:a.toString(),text:a.toString()});$(V).val(m.toString()).trigger("change"),m=1,this.isNew()==!1&&this.form.RefreshLeaveOnSpecificDate.value==!0&&(m=this.form.LeaveRefreshDay.value);var Y=document.getElementById(this.idPrefix+"LeaveRefreshDay");let Pe=new t.Select2Editor($(Y));for(let a=1;a<=31;a++)Pe.addItem({id:a.toString(),text:a.toString()});$(Y).val(m.toString()).trigger("change");let Le=["January","February","March","April","May","June","July","August","September","October","November","December"];m=1,this.isNew()==!1&&this.form.RefreshLeaveOnSpecificDate.value==!0&&(m=this.form.LeaveRefreshMonth.value);var j=document.getElementById(this.idPrefix+"LeaveRefreshMonth");let Ae=new t.Select2Editor($(j));for(let a=1;a<=12;a++)Ae.addItem({id:a.toString(),text:Le[a-1]});$(j).val(m.toString()).trigger("change");var xe=document.getElementById(this.idPrefix+"RefreshLeaveOnSpecificDate");$(xe).on("change",function(){return i(this,null,function*(){H.value==!0&&(H.value=!1),L.value==!0?(t.EditorUtils.setReadonly(A,!1),t.EditorUtils.setReadonly(x,!1)):L.value==!1&&(t.EditorUtils.setReadonly(A,!0),t.EditorUtils.setReadonly(x,!0))})});var be=document.getElementById(this.idPrefix+"RefreshLeaveOnYearOfService");$(be).on("change",function(){return i(this,null,function*(){L.value==!0&&(L.value=!1),H.value==!0&&(t.EditorUtils.setReadonly(A,!0),t.EditorUtils.setReadonly(x,!0))})});var K=this.form.EntitleAnnualBasedOnJobGrade,U=this.form.EntitleAnnualBasedOnYearOfService,Ce=document.getElementById(this.idPrefix+"EntitleAnnualBasedOnJobGrade");$(Ce).on("change",function(){return i(this,null,function*(){U.value==!0&&(U.value=!1)})});var Re=document.getElementById(this.idPrefix+"EntitleAnnualBasedOnYearOfService");$(Re).on("change",function(){return i(this,null,function*(){K.value==!0&&(K.value=!1)})});var Q=this.form.MonthlyEntitlementAnnualLeave,q=this.form.OneOffEntitlementAnnualLeave,Me=document.getElementById(this.idPrefix+"MonthlyEntitlementAnnualLeave");$(Me).on("change",function(){return i(this,null,function*(){q.value==!0&&(q.value=!1)})});var Be=document.getElementById(this.idPrefix+"OneOffEntitlementAnnualLeave");$(Be).on("change",function(){return i(this,null,function*(){Q.value==!0&&(Q.value=!1)})});var b=this.form.MaximumBasicSalaryToEntitleForOTPay,p=this.form.MaximumBasicSalary,g=this.form.OTJobGradeTime,z=document.getElementById(this.idPrefix+"MaximumBasicSalaryToEntitleForOTPay"),Fe=document.getElementById(this.idPrefix+"MaximumJobGradeToEntitleForOTPay");$(z).on("change",function(){return i(this,null,function*(){e.form.MaximumJobGradeToEntitleForOTPay.value==!0&&(e.form.MaximumJobGradeToEntitleForOTPay.value=!1),b.value==!1&&e.form.MaximumJobGradeToEntitleForOTPay.value==!1?(t.EditorUtils.setReadonly(g.element,!0),t.EditorUtils.setReadonly(p.element,!0)):(t.EditorUtils.setReadonly(g.element,b.value),t.EditorUtils.setReadonly(p.element,e.form.MaximumJobGradeToEntitleForOTPay.value))})}),$(Fe).on("change",function(){return i(this,null,function*(){e.form.MaximumBasicSalaryToEntitleForOTPay.value==!0&&(e.form.MaximumBasicSalaryToEntitleForOTPay.value=!1),b.value==!1&&e.form.MaximumJobGradeToEntitleForOTPay.value==!1?(t.EditorUtils.setReadonly(g.element,!0),t.EditorUtils.setReadonly(p.element,!0)):(t.EditorUtils.setReadonly(g.element,b.value),t.EditorUtils.setReadonly(p.element,e.form.MaximumJobGradeToEntitleForOTPay.value))})}),$(z).trigger("change");let X=["ClockOutGracePeriod","ClockInGracePeriod","OTMinimumMinute","MaximumOtMinute"];for(var Te in X){var f=document.getElementById(this.idPrefix+X[Te]);$(f).on("blur",function(){$(this).val()==""&&($(this).val("(Minutes)"),$(f).css({color:"grey"}))}),$(f).on("focus",function(){$(this).val()=="(Minutes)"&&($(this).val(""),$(f).css({color:"black"}))}),$(f).val()!=""&&$(f).val()!="(Minutes)"?$(f).css({color:"black"}):$(f).css({color:"grey"}),$(f).on("change",function(){$(this).val()!=""&&$(this).val()!="(Minutes)"?$(this).css("color","black"):$(this).css("color","grey")})}var Z="";this.isNew()==!0?(t.EditorUtils.setReadonly(g.element,!0),t.EditorUtils.setReadonly(p.element,!0),this.form.MaximumBasicSalary.value=0):this.isNew()==!1&&(Z=this.form.BasedCountry.value,this.form.RefreshLeaveOnSpecificDate.value==!0?(t.EditorUtils.setReadonly(this.form.LeaveRefreshDay.element,!1),t.EditorUtils.setReadonly(this.form.LeaveRefreshMonth.element,!1)):this.form.RefreshLeaveOnYearOfService.value==!0&&(t.EditorUtils.setReadonly(this.form.LeaveRefreshDay.element,!0),t.EditorUtils.setReadonly(this.form.LeaveRefreshMonth.element,!0)));var ee=document.getElementById(this.idPrefix+"BasedCountry");let Se=new t.Select2Editor($(ee));for(var k in _.getCountries()){var $e=_.getCountries()[k]+", "+k;Se.addItem({id:k.toString(),text:$e.toString()})}this.isNew()==!1&&$(ee).val(Z.toString()).trigger("change"),ie.List({},a=>{var l=document.getElementById(this.idPrefix+"MaximumPosition");let s=new t.Select2Editor($(l));for(var o in a.Entities)s.addItem({id:a.Entities[o].Id.toString(),text:a.Entities[o].Name.toString()})})}save_submitHandler(n){if(this.form.RefreshLeaveOnSpecificDate.value==!0){if(this.form.LeaveRefreshMonth.value==null){(0,r.alertDialog)("Please Fill in the leave Refresh Month");return}if(this.form.LeaveRefreshDay.value==null){(0,r.alertDialog)("Please Fill in the leave Refresh Day");return}}if(this.form.MaximumBasicSalaryToEntitleForOTPay.value==!0&&this.form.MaximumBasicSalary.value==null){(0,r.alertDialog)("Please Fill in the Maximum Basic Salary");return}if(this.form.MaximumJobGradeToEntitleForOTPay.value==!0&&this.form.OTJobGradeTime.value==null){(0,r.alertDialog)("Please Fill in the Maximum OT Pays");return}if(this.form.FixedOtRateCalculation.value==!1&&this.form.VariableOtRateCalculation.value==!1){(0,r.alertDialog)("Please Choose the Ot Calculation Method");return}if(this.form.WeekdayTwo.value==!1&&this.form.WeekdayOnePointFive.value==!1){(0,r.alertDialog)("Please Choose Weekday Ot Calculation Method");return}if(this.form.WeekendTwo.value==!1&&this.form.WeekendOnePointFive.value==!1){(0,r.alertDialog)("Please Choose Weekend Ot Calculation Method");return}if(this.form.PublicHolidayTwo.value==!1&&this.form.PublicHolidayOnePointFive.value==!1){(0,r.alertDialog)("Please Choose Public Holiday Ot Calculation Method");return}if(this.form.DailyNplBasedOnFixedDenominator.value==!1&&this.form.DailyNplBasedOnWorkingHour.value==!1&&this.form.DailyNplMonthDays.value==!1){(0,r.alertDialog)("Please Choose NPL Penalty Calculation Method");return}if(this.form.EarlyLeavingBasedOnFixedDenominator.value==!1&&this.form.EarlyLeavingBasedOnWorkingHour.value==!1&&this.form.EarlyLeavingMonthDays.value==!1){(0,r.alertDialog)("Please Choose Early Leaving Penalty Calculation Method");return}if(this.form.LateArrivalBasedOnFixedDenominator.value==!1&&this.form.LateArrivalBasedOnWorkingHour.value==!1&&this.form.LateArrivalMonthDays.value==!1){(0,r.alertDialog)("Please Choose Late Arrival Penalty Calculation Method");return}if(this.form.AbsentBasedOnFixedDenominator.value==!1&&this.form.AbsentBasedOnWorkingHour.value==!1&&this.form.AbsentMonthDays.value==!1){(0,r.alertDialog)("Please Choose Absent Penalty Calculation Method");return}if(this.form.HourlyNoPaidLeaveNPL.value==!1&&this.form.HourlyNoPaidLeaveAbsent.value==!1){(0,r.alertDialog)("Please Choose Hourly NPL Penalty Calculation Method");return}if(this.form.OTMinimumMinute.value<0){(0,r.alertDialog)("Minute Value must be greater than 0");return}if(this.form.RefreshLeaveOnSpecificDate.value==!0){var e=new Date,u=e.getFullYear(),c=this.form.LeaveRefreshMonth.value,y=this.form.LeaveRefreshDay.value;let S=new Date(u,c,y);if(!isNaN(S.getTime())){(0,r.alertDialog)("Please select a valid leave refresh date");return}}let O=new Set;for(var D in this.form.OTJobGradeTime.value){var P=this.form.OTJobGradeTime.value[D].JobGradeId;if(O.has(P)){(0,r.alertDialog)("This id has been defined");return}O.add(P)}var T=n;this.isNew()==!1?(0,r.confirm)("Edit changes to the company settings?",()=>{super.save_submitHandler(T)}):super.save_submitHandler(n)}onSaveSuccess(n){super.onSaveSuccess(n),this.isNew()!=!0&&location.reload()}onDialogClose(){super.onDialogClose()}};h(v,"CompanySettingsDialog"),v=R([t.Decorators.registerClass("HRMSoftware.CompanySettings.CompanySettingsDialog")],v);var d=class extends F.EntityGrid{constructor(n){super(n);this.RowID=[]}getColumnsKey(){return ne.columnsKey}getDialogType(){return v}getRowDefinition(){return M}getService(){return B.baseUrl}getAddButtonCaption(){return"Create Company Settings"}onViewProcessData(n){n=super.onViewProcessData(n),n.Entities.length>=1&&this.toolbar.findButton("add-button").toggle(!1),this.toolbar.findButton("column-picker-button").toggle(!1);var e=new Date;this.RowID=[];for(var u in n.Entities){this.RowID.push(n.Entities[u].Id);var c=n.Entities[u].EffectiveSince,y=n.Entities[u].EffectiveUntil;y===void 0&&(this.EditPolicyRow=Number(u),this.EditPolicyId=n.Entities[u].Id)}return n}onClick(n,e,u){n.preventDefault();var c=new v;c.loadByIdAndOpenDialog(this.RowID[e]),e!=this.EditPolicyRow&&c.set_readOnly(!0),super.onClick(n,e,u)}};h(d,"CompanySettingsGrid"),d=R([F.Decorators.registerClass("HRMSoftware.CompanySettings.CompanySettingsGrid")],d);function He(){(0,oe.initFullHeightGridPage)(new d($("#GridDiv")).element)}h(He,"pageInit");export{He as default};
//# sourceMappingURL=CompanySettingsPage.js.map
