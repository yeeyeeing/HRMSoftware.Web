{
  "version": 3,
  "sources": ["../../../../../../node_modules/html2canvas/node_modules/tslib/tslib.es6.js", "../../../../../../node_modules/src/css/layout/bounds.ts", "../../../../../../node_modules/html2canvas/node_modules/src/Util.ts", "../../../../../../node_modules/html2canvas/node_modules/css-line-break/node_modules/src/Util.ts", "../../../../../../node_modules/html2canvas/node_modules/css-line-break/node_modules/src/Trie.ts", "../../../../../../node_modules/html2canvas/node_modules/css-line-break/node_modules/utrie/node_modules/src/index.ts", "../../../../../../node_modules/html2canvas/node_modules/src/linebreak-trie.ts", "../../../../../../node_modules/html2canvas/node_modules/src/LineBreak.ts", "../../../../../../node_modules/src/css/syntax/tokenizer.ts", "../../../../../../node_modules/src/css/syntax/parser.ts", "../../../../../../node_modules/src/css/types/length.ts", "../../../../../../node_modules/src/css/types/length-percentage.ts", "../../../../../../node_modules/src/css/types/angle.ts", "../../../../../../node_modules/src/css/types/color.ts", "../../../../../../node_modules/src/css/property-descriptors/background-clip.ts", "../../../../../../node_modules/src/css/property-descriptors/background-color.ts", "../../../../../../node_modules/src/css/types/functions/gradient.ts", "../../../../../../node_modules/src/css/types/functions/linear-gradient.ts", "../../../../../../node_modules/src/css/types/functions/-prefix-linear-gradient.ts", "../../../../../../node_modules/src/css/types/functions/-webkit-gradient.ts", "../../../../../../node_modules/src/css/types/functions/radial-gradient.ts", "../../../../../../node_modules/src/css/types/functions/-prefix-radial-gradient.ts", "../../../../../../node_modules/src/css/types/image.ts", "../../../../../../node_modules/src/css/property-descriptors/background-image.ts", "../../../../../../node_modules/src/css/property-descriptors/background-origin.ts", "../../../../../../node_modules/src/css/property-descriptors/background-position.ts", "../../../../../../node_modules/src/css/property-descriptors/background-repeat.ts", "../../../../../../node_modules/src/css/property-descriptors/background-size.ts", "../../../../../../node_modules/src/css/property-descriptors/border-color.ts", "../../../../../../node_modules/src/css/property-descriptors/border-radius.ts", "../../../../../../node_modules/src/css/property-descriptors/border-style.ts", "../../../../../../node_modules/src/css/property-descriptors/border-width.ts", "../../../../../../node_modules/src/css/property-descriptors/color.ts", "../../../../../../node_modules/src/css/property-descriptors/direction.ts", "../../../../../../node_modules/src/css/property-descriptors/display.ts", "../../../../../../node_modules/src/css/property-descriptors/float.ts", "../../../../../../node_modules/src/css/property-descriptors/letter-spacing.ts", "../../../../../../node_modules/src/css/property-descriptors/line-break.ts", "../../../../../../node_modules/src/css/property-descriptors/line-height.ts", "../../../../../../node_modules/src/css/property-descriptors/list-style-image.ts", "../../../../../../node_modules/src/css/property-descriptors/list-style-position.ts", "../../../../../../node_modules/src/css/property-descriptors/list-style-type.ts", "../../../../../../node_modules/src/css/property-descriptors/margin.ts", "../../../../../../node_modules/src/css/property-descriptors/overflow.ts", "../../../../../../node_modules/src/css/property-descriptors/overflow-wrap.ts", "../../../../../../node_modules/src/css/property-descriptors/padding.ts", "../../../../../../node_modules/src/css/property-descriptors/text-align.ts", "../../../../../../node_modules/src/css/property-descriptors/position.ts", "../../../../../../node_modules/src/css/property-descriptors/text-shadow.ts", "../../../../../../node_modules/src/css/property-descriptors/text-transform.ts", "../../../../../../node_modules/src/css/property-descriptors/transform.ts", "../../../../../../node_modules/src/css/property-descriptors/transform-origin.ts", "../../../../../../node_modules/src/css/property-descriptors/visibility.ts", "../../../../../../node_modules/src/css/property-descriptors/word-break.ts", "../../../../../../node_modules/src/css/property-descriptors/z-index.ts", "../../../../../../node_modules/src/css/types/time.ts", "../../../../../../node_modules/src/css/property-descriptors/opacity.ts", "../../../../../../node_modules/src/css/property-descriptors/text-decoration-color.ts", "../../../../../../node_modules/src/css/property-descriptors/text-decoration-line.ts", "../../../../../../node_modules/src/css/property-descriptors/font-family.ts", "../../../../../../node_modules/src/css/property-descriptors/font-size.ts", "../../../../../../node_modules/src/css/property-descriptors/font-weight.ts", "../../../../../../node_modules/src/css/property-descriptors/font-variant.ts", "../../../../../../node_modules/src/css/property-descriptors/font-style.ts", "../../../../../../node_modules/src/core/bitwise.ts", "../../../../../../node_modules/src/css/property-descriptors/content.ts", "../../../../../../node_modules/src/css/property-descriptors/counter-increment.ts", "../../../../../../node_modules/src/css/property-descriptors/counter-reset.ts", "../../../../../../node_modules/src/css/property-descriptors/duration.ts", "../../../../../../node_modules/src/css/property-descriptors/quotes.ts", "../../../../../../node_modules/src/css/property-descriptors/box-shadow.ts", "../../../../../../node_modules/src/css/property-descriptors/paint-order.ts", "../../../../../../node_modules/src/css/property-descriptors/webkit-text-stroke-color.ts", "../../../../../../node_modules/src/css/property-descriptors/webkit-text-stroke-width.ts", "../../../../../../node_modules/src/css/index.ts", "../../../../../../node_modules/src/core/debugger.ts", "../../../../../../node_modules/src/dom/element-container.ts", "../../../../../../node_modules/html2canvas/node_modules/src/grapheme-break-trie.ts", "../../../../../../node_modules/html2canvas/node_modules/text-segmentation/node_modules/src/Util.ts", "../../../../../../node_modules/html2canvas/node_modules/text-segmentation/node_modules/src/Trie.ts", "../../../../../../node_modules/html2canvas/node_modules/text-segmentation/node_modules/utrie/node_modules/src/index.ts", "../../../../../../node_modules/html2canvas/node_modules/src/GraphemeBreak.ts", "../../../../../../node_modules/src/core/features.ts", "../../../../../../node_modules/src/css/layout/text.ts", "../../../../../../node_modules/src/dom/text-container.ts", "../../../../../../node_modules/src/dom/replaced-elements/image-element-container.ts", "../../../../../../node_modules/src/dom/replaced-elements/canvas-element-container.ts", "../../../../../../node_modules/src/dom/replaced-elements/svg-element-container.ts", "../../../../../../node_modules/src/dom/elements/li-element-container.ts", "../../../../../../node_modules/src/dom/elements/ol-element-container.ts", "../../../../../../node_modules/src/dom/replaced-elements/input-element-container.ts", "../../../../../../node_modules/src/dom/elements/select-element-container.ts", "../../../../../../node_modules/src/dom/elements/textarea-element-container.ts", "../../../../../../node_modules/src/dom/replaced-elements/iframe-element-container.ts", "../../../../../../node_modules/src/dom/node-parser.ts", "../../../../../../node_modules/src/css/types/functions/counter.ts", "../../../../../../node_modules/src/dom/document-cloner.ts", "../../../../../../node_modules/src/core/cache-storage.ts", "../../../../../../node_modules/src/render/vector.ts", "../../../../../../node_modules/src/render/bezier-curve.ts", "../../../../../../node_modules/src/render/bound-curves.ts", "../../../../../../node_modules/src/render/effects.ts", "../../../../../../node_modules/src/render/path.ts", "../../../../../../node_modules/src/render/stacking-context.ts", "../../../../../../node_modules/src/render/border.ts", "../../../../../../node_modules/src/render/box-sizing.ts", "../../../../../../node_modules/src/render/background.ts", "../../../../../../node_modules/src/core/util.ts", "../../../../../../node_modules/src/render/font-metrics.ts", "../../../../../../node_modules/src/render/renderer.ts", "../../../../../../node_modules/src/render/canvas/canvas-renderer.ts", "../../../../../../node_modules/src/render/canvas/foreignobject-renderer.ts", "../../../../../../node_modules/src/core/logger.ts", "../../../../../../node_modules/src/core/context.ts", "../../../../../../node_modules/src/index.ts", "../../../../../../Modules/HumanResource/OrganisationChart/OrgChart.js/src/orgchart.js", "../../../../../../Modules/HumanResource/OrganisationChart/OrganisationChart/OrgChartStyle.ts", "../../../../../../Modules/HumanResource/OrganisationChart/OrganisationChart/OrganisationChartPage.ts"],
  "sourcesContent": ["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || from);\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n", "import {Context} from '../../core/context';\n\nexport class Bounds {\n    constructor(readonly left: number, readonly top: number, readonly width: number, readonly height: number) {}\n\n    add(x: number, y: number, w: number, h: number): Bounds {\n        return new Bounds(this.left + x, this.top + y, this.width + w, this.height + h);\n    }\n\n    static fromClientRect(context: Context, clientRect: ClientRect): Bounds {\n        return new Bounds(\n            clientRect.left + context.windowBounds.left,\n            clientRect.top + context.windowBounds.top,\n            clientRect.width,\n            clientRect.height\n        );\n    }\n\n    static fromDOMRectList(context: Context, domRectList: DOMRectList): Bounds {\n        const domRect = Array.from(domRectList).find((rect) => rect.width !== 0);\n        return domRect\n            ? new Bounds(\n                  domRect.left + context.windowBounds.left,\n                  domRect.top + context.windowBounds.top,\n                  domRect.width,\n                  domRect.height\n              )\n            : Bounds.EMPTY;\n    }\n\n    static EMPTY = new Bounds(0, 0, 0, 0);\n}\n\nexport const parseBounds = (context: Context, node: Element): Bounds => {\n    return Bounds.fromClientRect(context, node.getBoundingClientRect());\n};\n\nexport const parseDocumentSize = (document: Document): Bounds => {\n    const body = document.body;\n    const documentElement = document.documentElement;\n\n    if (!body || !documentElement) {\n        throw new Error(`Unable to get document size`);\n    }\n    const width = Math.max(\n        Math.max(body.scrollWidth, documentElement.scrollWidth),\n        Math.max(body.offsetWidth, documentElement.offsetWidth),\n        Math.max(body.clientWidth, documentElement.clientWidth)\n    );\n\n    const height = Math.max(\n        Math.max(body.scrollHeight, documentElement.scrollHeight),\n        Math.max(body.offsetHeight, documentElement.offsetHeight),\n        Math.max(body.clientHeight, documentElement.clientHeight)\n    );\n\n    return new Bounds(0, 0, width, height);\n};\n", "export const toCodePoints = (str: string): number[] => {\n    const codePoints = [];\n    let i = 0;\n    const length = str.length;\n    while (i < length) {\n        const value = str.charCodeAt(i++);\n        if (value >= 0xd800 && value <= 0xdbff && i < length) {\n            const extra = str.charCodeAt(i++);\n            if ((extra & 0xfc00) === 0xdc00) {\n                codePoints.push(((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000);\n            } else {\n                codePoints.push(value);\n                i--;\n            }\n        } else {\n            codePoints.push(value);\n        }\n    }\n    return codePoints;\n};\n\nexport const fromCodePoint = (...codePoints: number[]): string => {\n    if (String.fromCodePoint) {\n        return String.fromCodePoint(...codePoints);\n    }\n\n    const length = codePoints.length;\n    if (!length) {\n        return '';\n    }\n\n    const codeUnits = [];\n\n    let index = -1;\n    let result = '';\n    while (++index < length) {\n        let codePoint = codePoints[index];\n        if (codePoint <= 0xffff) {\n            codeUnits.push(codePoint);\n        } else {\n            codePoint -= 0x10000;\n            codeUnits.push((codePoint >> 10) + 0xd800, (codePoint % 0x400) + 0xdc00);\n        }\n        if (index + 1 === length || codeUnits.length > 0x4000) {\n            result += String.fromCharCode(...codeUnits);\n            codeUnits.length = 0;\n        }\n    }\n    return result;\n};\n\nconst chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n// Use a lookup table to find the index.\nconst lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (let i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\n\nexport const decode = (base64: string): ArrayBuffer | number[] => {\n    let bufferLength = base64.length * 0.75,\n        len = base64.length,\n        i,\n        p = 0,\n        encoded1,\n        encoded2,\n        encoded3,\n        encoded4;\n\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n\n    const buffer =\n        typeof ArrayBuffer !== 'undefined' &&\n        typeof Uint8Array !== 'undefined' &&\n        typeof Uint8Array.prototype.slice !== 'undefined'\n            ? new ArrayBuffer(bufferLength)\n            : new Array(bufferLength);\n    const bytes = Array.isArray(buffer) ? buffer : new Uint8Array(buffer);\n\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return buffer;\n};\n\nexport const polyUint16Array = (buffer: number[]): number[] => {\n    const length = buffer.length;\n    const bytes = [];\n    for (let i = 0; i < length; i += 2) {\n        bytes.push((buffer[i + 1] << 8) | buffer[i]);\n    }\n    return bytes;\n};\n\nexport const polyUint32Array = (buffer: number[]): number[] => {\n    const length = buffer.length;\n    const bytes = [];\n    for (let i = 0; i < length; i += 4) {\n        bytes.push((buffer[i + 3] << 24) | (buffer[i + 2] << 16) | (buffer[i + 1] << 8) | buffer[i]);\n    }\n    return bytes;\n};\n", "const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n// Use a lookup table to find the index.\nconst lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (let i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\n\nexport const decode = (base64: string): ArrayBuffer | number[] => {\n    let bufferLength = base64.length * 0.75,\n        len = base64.length,\n        i,\n        p = 0,\n        encoded1,\n        encoded2,\n        encoded3,\n        encoded4;\n\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n\n    const buffer =\n        typeof ArrayBuffer !== 'undefined' &&\n        typeof Uint8Array !== 'undefined' &&\n        typeof Uint8Array.prototype.slice !== 'undefined'\n            ? new ArrayBuffer(bufferLength)\n            : new Array(bufferLength);\n    const bytes = Array.isArray(buffer) ? buffer : new Uint8Array(buffer);\n\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return buffer;\n};\n\nexport const polyUint16Array = (buffer: number[]): number[] => {\n    const length = buffer.length;\n    const bytes = [];\n    for (let i = 0; i < length; i += 2) {\n        bytes.push((buffer[i + 1] << 8) | buffer[i]);\n    }\n    return bytes;\n};\n\nexport const polyUint32Array = (buffer: number[]): number[] => {\n    const length = buffer.length;\n    const bytes = [];\n    for (let i = 0; i < length; i += 4) {\n        bytes.push((buffer[i + 3] << 24) | (buffer[i + 2] << 16) | (buffer[i + 1] << 8) | buffer[i]);\n    }\n    return bytes;\n};\n", "import {decode, polyUint16Array, polyUint32Array} from './Util';\n\nexport type int = number;\n\n/** Shift size for getting the index-2 table offset. */\nexport const UTRIE2_SHIFT_2 = 5;\n\n/** Shift size for getting the index-1 table offset. */\nexport const UTRIE2_SHIFT_1 = 6 + 5;\n\n/**\n * Shift size for shifting left the index array values.\n * Increases possible data size with 16-bit index values at the cost\n * of compactability.\n * This requires data blocks to be aligned by UTRIE2_DATA_GRANULARITY.\n */\nexport const UTRIE2_INDEX_SHIFT = 2;\n\n/**\n * Difference between the two shift sizes,\n * for getting an index-1 offset from an index-2 offset. 6=11-5\n */\nexport const UTRIE2_SHIFT_1_2 = UTRIE2_SHIFT_1 - UTRIE2_SHIFT_2;\n\n/**\n * The part of the index-2 table for U+D800..U+DBFF stores values for\n * lead surrogate code _units_ not code _points_.\n * Values for lead surrogate code _points_ are indexed with this portion of the table.\n * Length=32=0x20=0x400>>UTRIE2_SHIFT_2. (There are 1024=0x400 lead surrogates.)\n */\nexport const UTRIE2_LSCP_INDEX_2_OFFSET = 0x10000 >> UTRIE2_SHIFT_2;\n\n/** Number of entries in a data block. 32=0x20 */\nexport const UTRIE2_DATA_BLOCK_LENGTH = 1 << UTRIE2_SHIFT_2;\n/** Mask for getting the lower bits for the in-data-block offset. */\nexport const UTRIE2_DATA_MASK = UTRIE2_DATA_BLOCK_LENGTH - 1;\n\nexport const UTRIE2_LSCP_INDEX_2_LENGTH = 0x400 >> UTRIE2_SHIFT_2;\n/** Count the lengths of both BMP pieces. 2080=0x820 */\nexport const UTRIE2_INDEX_2_BMP_LENGTH = UTRIE2_LSCP_INDEX_2_OFFSET + UTRIE2_LSCP_INDEX_2_LENGTH;\n/**\n * The 2-byte UTF-8 version of the index-2 table follows at offset 2080=0x820.\n * Length 32=0x20 for lead bytes C0..DF, regardless of UTRIE2_SHIFT_2.\n */\nexport const UTRIE2_UTF8_2B_INDEX_2_OFFSET = UTRIE2_INDEX_2_BMP_LENGTH;\nexport const UTRIE2_UTF8_2B_INDEX_2_LENGTH = 0x800 >> 6; /* U+0800 is the first code point after 2-byte UTF-8 */\n/**\n * The index-1 table, only used for supplementary code points, at offset 2112=0x840.\n * Variable length, for code points up to highStart, where the last single-value range starts.\n * Maximum length 512=0x200=0x100000>>UTRIE2_SHIFT_1.\n * (For 0x100000 supplementary code points U+10000..U+10ffff.)\n *\n * The part of the index-2 table for supplementary code points starts\n * after this index-1 table.\n *\n * Both the index-1 table and the following part of the index-2 table\n * are omitted completely if there is only BMP data.\n */\nexport const UTRIE2_INDEX_1_OFFSET = UTRIE2_UTF8_2B_INDEX_2_OFFSET + UTRIE2_UTF8_2B_INDEX_2_LENGTH;\n\n/**\n * Number of index-1 entries for the BMP. 32=0x20\n * This part of the index-1 table is omitted from the serialized form.\n */\nexport const UTRIE2_OMITTED_BMP_INDEX_1_LENGTH = 0x10000 >> UTRIE2_SHIFT_1;\n\n/** Number of entries in an index-2 block. 64=0x40 */\nexport const UTRIE2_INDEX_2_BLOCK_LENGTH = 1 << UTRIE2_SHIFT_1_2;\n/** Mask for getting the lower bits for the in-index-2-block offset. */\nexport const UTRIE2_INDEX_2_MASK = UTRIE2_INDEX_2_BLOCK_LENGTH - 1;\n\nconst slice16 = (view: number[] | Uint16Array, start: number, end?: number) => {\n    if (view.slice) {\n        return view.slice(start, end);\n    }\n\n    return new Uint16Array(Array.prototype.slice.call(view, start, end));\n};\n\nconst slice32 = (view: number[] | Uint32Array, start: number, end?: number) => {\n    if (view.slice) {\n        return view.slice(start, end);\n    }\n\n    return new Uint32Array(Array.prototype.slice.call(view, start, end));\n};\n\nexport const createTrieFromBase64 = (base64: string, _byteLength: number): Trie => {\n    const buffer = decode(base64);\n    const view32 = Array.isArray(buffer) ? polyUint32Array(buffer) : new Uint32Array(buffer);\n    const view16 = Array.isArray(buffer) ? polyUint16Array(buffer) : new Uint16Array(buffer);\n    const headerLength = 24;\n\n    const index = slice16(view16, headerLength / 2, view32[4] / 2);\n    const data =\n        view32[5] === 2\n            ? slice16(view16, (headerLength + view32[4]) / 2)\n            : slice32(view32, Math.ceil((headerLength + view32[4]) / 4));\n\n    return new Trie(view32[0], view32[1], view32[2], view32[3], index, data);\n};\n\nexport class Trie {\n    initialValue: int;\n    errorValue: int;\n    highStart: int;\n    highValueIndex: int;\n    index: Uint16Array | number[];\n    data: Uint32Array | Uint16Array | number[];\n\n    constructor(\n        initialValue: int,\n        errorValue: int,\n        highStart: int,\n        highValueIndex: int,\n        index: Uint16Array | number[],\n        data: Uint32Array | Uint16Array | number[]\n    ) {\n        this.initialValue = initialValue;\n        this.errorValue = errorValue;\n        this.highStart = highStart;\n        this.highValueIndex = highValueIndex;\n        this.index = index;\n        this.data = data;\n    }\n\n    /**\n     * Get the value for a code point as stored in the Trie.\n     *\n     * @param codePoint the code point\n     * @return the value\n     */\n    get(codePoint: number): number {\n        let ix;\n        if (codePoint >= 0) {\n            if (codePoint < 0x0d800 || (codePoint > 0x0dbff && codePoint <= 0x0ffff)) {\n                // Ordinary BMP code point, excluding leading surrogates.\n                // BMP uses a single level lookup.  BMP index starts at offset 0 in the Trie2 index.\n                // 16 bit data is stored in the index array itself.\n                ix = this.index[codePoint >> UTRIE2_SHIFT_2];\n                ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\n                return this.data[ix];\n            }\n\n            if (codePoint <= 0xffff) {\n                // Lead Surrogate Code Point.  A Separate index section is stored for\n                // lead surrogate code units and code points.\n                //   The main index has the code unit data.\n                //   For this function, we need the code point data.\n                // Note: this expression could be refactored for slightly improved efficiency, but\n                //       surrogate code points will be so rare in practice that it's not worth it.\n                ix = this.index[UTRIE2_LSCP_INDEX_2_OFFSET + ((codePoint - 0xd800) >> UTRIE2_SHIFT_2)];\n                ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\n                return this.data[ix];\n            }\n\n            if (codePoint < this.highStart) {\n                // Supplemental code point, use two-level lookup.\n                ix = UTRIE2_INDEX_1_OFFSET - UTRIE2_OMITTED_BMP_INDEX_1_LENGTH + (codePoint >> UTRIE2_SHIFT_1);\n                ix = this.index[ix];\n                ix += (codePoint >> UTRIE2_SHIFT_2) & UTRIE2_INDEX_2_MASK;\n                ix = this.index[ix];\n                ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\n                return this.data[ix];\n            }\n            if (codePoint <= 0x10ffff) {\n                return this.data[this.highValueIndex];\n            }\n        }\n\n        // Fall through.  The code point is outside of the legal range of 0..0x10ffff.\n        return this.errorValue;\n    }\n}\n", "const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n// Use a lookup table to find the index.\nconst lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (let i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\n\nexport const encode = (arraybuffer: ArrayBuffer): string => {\n    let bytes = new Uint8Array(arraybuffer),\n        i,\n        len = bytes.length,\n        base64 = '';\n\n    for (i = 0; i < len; i += 3) {\n        base64 += chars[bytes[i] >> 2];\n        base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n        base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n        base64 += chars[bytes[i + 2] & 63];\n    }\n\n    if (len % 3 === 2) {\n        base64 = base64.substring(0, base64.length - 1) + '=';\n    } else if (len % 3 === 1) {\n        base64 = base64.substring(0, base64.length - 2) + '==';\n    }\n\n    return base64;\n};\n\nexport const decode = (base64: string): ArrayBuffer => {\n    let bufferLength = base64.length * 0.75,\n        len = base64.length,\n        i,\n        p = 0,\n        encoded1,\n        encoded2,\n        encoded3,\n        encoded4;\n\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n\n    const arraybuffer = new ArrayBuffer(bufferLength),\n        bytes = new Uint8Array(arraybuffer);\n\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return arraybuffer;\n};\n", "export const base64 =\n    'KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==';\nexport const byteLength = 39664;\n", "'use strict';\n\nimport {createTrieFromBase64} from 'utrie';\nimport {base64, byteLength} from './linebreak-trie';\nimport {fromCodePoint, toCodePoints} from './Util';\n\nexport const LETTER_NUMBER_MODIFIER = 50;\n\n// Non-tailorable Line Breaking Classes\nconst BK = 1; //  Cause a line break (after)\nconst CR = 2; //  Cause a line break (after), except between CR and LF\nconst LF = 3; //  Cause a line break (after)\nconst CM = 4; //  Prohibit a line break between the character and the preceding character\nconst NL = 5; //  Cause a line break (after)\nconst SG = 6; //  Do not occur in well-formed text\nconst WJ = 7; //  Prohibit line breaks before and after\nconst ZW = 8; //  Provide a break opportunity\nconst GL = 9; //  Prohibit line breaks before and after\nconst SP = 10; // Enable indirect line breaks\nconst ZWJ = 11; // Prohibit line breaks within joiner sequences\n// Break Opportunities\nconst B2 = 12; //  Provide a line break opportunity before and after the character\nconst BA = 13; //  Generally provide a line break opportunity after the character\nconst BB = 14; //  Generally provide a line break opportunity before the character\nconst HY = 15; //  Provide a line break opportunity after the character, except in numeric context\nconst CB = 16; //   Provide a line break opportunity contingent on additional information\n// Characters Prohibiting Certain Breaks\nconst CL = 17; //  Prohibit line breaks before\nconst CP = 18; //  Prohibit line breaks before\nconst EX = 19; //  Prohibit line breaks before\nconst IN = 20; //  Allow only indirect line breaks between pairs\nconst NS = 21; //  Allow only indirect line breaks before\nconst OP = 22; //  Prohibit line breaks after\nconst QU = 23; //  Act like they are both opening and closing\n// Numeric Context\nconst IS = 24; //  Prevent breaks after any and before numeric\nconst NU = 25; //  Form numeric expressions for line breaking purposes\nconst PO = 26; //  Do not break following a numeric expression\nconst PR = 27; //  Do not break in front of a numeric expression\nconst SY = 28; //  Prevent a break before; and allow a break after\n// Other Characters\nconst AI = 29; //  Act like AL when the resolvedEAW is N; otherwise; act as ID\nconst AL = 30; //  Are alphabetic characters or symbols that are used with alphabetic characters\nconst CJ = 31; //  Treat as NS or ID for strict or normal breaking.\nconst EB = 32; //  Do not break from following Emoji Modifier\nconst EM = 33; //  Do not break from preceding Emoji Base\nconst H2 = 34; //  Form Korean syllable blocks\nconst H3 = 35; //  Form Korean syllable blocks\nconst HL = 36; //  Do not break around a following hyphen; otherwise act as Alphabetic\nconst ID = 37; //  Break before or after; except in some numeric context\nconst JL = 38; //  Form Korean syllable blocks\nconst JV = 39; //  Form Korean syllable blocks\nconst JT = 40; //  Form Korean syllable blocks\nconst RI = 41; //  Keep pairs together. For pairs; break before and after other classes\nconst SA = 42; //  Provide a line break opportunity contingent on additional, language-specific context analysis\nconst XX = 43; //  Have as yet unknown line breaking behavior or unassigned code positions\n\nconst ea_OP = [0x2329, 0xff08];\n\nexport const classes: {[key: string]: number} = {\n    BK,\n    CR,\n    LF,\n    CM,\n    NL,\n    SG,\n    WJ,\n    ZW,\n    GL,\n    SP,\n    ZWJ,\n    B2,\n    BA,\n    BB,\n    HY,\n    CB,\n    CL,\n    CP,\n    EX,\n    IN,\n    NS,\n    OP,\n    QU,\n    IS,\n    NU,\n    PO,\n    PR,\n    SY,\n    AI,\n    AL,\n    CJ,\n    EB,\n    EM,\n    H2,\n    H3,\n    HL,\n    ID,\n    JL,\n    JV,\n    JT,\n    RI,\n    SA,\n    XX,\n};\n\nexport const BREAK_MANDATORY = '!';\nexport const BREAK_NOT_ALLOWED = '';\nexport const BREAK_ALLOWED = '';\nexport const UnicodeTrie = createTrieFromBase64(base64, byteLength);\n\nconst ALPHABETICS = [AL, HL];\nconst HARD_LINE_BREAKS = [BK, CR, LF, NL];\nconst SPACE = [SP, ZW];\nconst PREFIX_POSTFIX = [PR, PO];\nconst LINE_BREAKS = HARD_LINE_BREAKS.concat(SPACE);\nconst KOREAN_SYLLABLE_BLOCK = [JL, JV, JT, H2, H3];\nconst HYPHEN = [HY, BA];\n\nexport const codePointsToCharacterClasses = (\n    codePoints: number[],\n    lineBreak: string = 'strict'\n): [number[], number[], boolean[]] => {\n    const types: number[] = [];\n    const indices: number[] = [];\n    const categories: boolean[] = [];\n    codePoints.forEach((codePoint, index) => {\n        let classType = UnicodeTrie.get(codePoint);\n        if (classType > LETTER_NUMBER_MODIFIER) {\n            categories.push(true);\n            classType -= LETTER_NUMBER_MODIFIER;\n        } else {\n            categories.push(false);\n        }\n\n        if (['normal', 'auto', 'loose'].indexOf(lineBreak) !== -1) {\n            // U+2010,  U+2013,  U+301C,  U+30A0\n            if ([0x2010, 0x2013, 0x301c, 0x30a0].indexOf(codePoint) !== -1) {\n                indices.push(index);\n                return types.push(CB);\n            }\n        }\n\n        if (classType === CM || classType === ZWJ) {\n            // LB10 Treat any remaining combining mark or ZWJ as AL.\n            if (index === 0) {\n                indices.push(index);\n                return types.push(AL);\n            }\n\n            // LB9 Do not break a combining character sequence; treat it as if it has the line breaking class of\n            // the base character in all of the following rules. Treat ZWJ as if it were CM.\n            const prev = types[index - 1];\n            if (LINE_BREAKS.indexOf(prev) === -1) {\n                indices.push(indices[index - 1]);\n                return types.push(prev);\n            }\n            indices.push(index);\n            return types.push(AL);\n        }\n\n        indices.push(index);\n\n        if (classType === CJ) {\n            return types.push(lineBreak === 'strict' ? NS : ID);\n        }\n\n        if (classType === SA) {\n            return types.push(AL);\n        }\n\n        if (classType === AI) {\n            return types.push(AL);\n        }\n\n        // For supplementary characters, a useful default is to treat characters in the range 10000..1FFFD as AL\n        // and characters in the ranges 20000..2FFFD and 30000..3FFFD as ID, until the implementation can be revised\n        // to take into account the actual line breaking properties for these characters.\n        if (classType === XX) {\n            if ((codePoint >= 0x20000 && codePoint <= 0x2fffd) || (codePoint >= 0x30000 && codePoint <= 0x3fffd)) {\n                return types.push(ID);\n            } else {\n                return types.push(AL);\n            }\n        }\n\n        types.push(classType);\n    });\n\n    return [indices, types, categories];\n};\n\nconst isAdjacentWithSpaceIgnored = (\n    a: number[] | number,\n    b: number,\n    currentIndex: number,\n    classTypes: number[]\n): boolean => {\n    const current = classTypes[currentIndex];\n    if (Array.isArray(a) ? a.indexOf(current) !== -1 : a === current) {\n        let i = currentIndex;\n        while (i <= classTypes.length) {\n            i++;\n            let next = classTypes[i];\n\n            if (next === b) {\n                return true;\n            }\n\n            if (next !== SP) {\n                break;\n            }\n        }\n    }\n\n    if (current === SP) {\n        let i = currentIndex;\n\n        while (i > 0) {\n            i--;\n            const prev = classTypes[i];\n\n            if (Array.isArray(a) ? a.indexOf(prev) !== -1 : a === prev) {\n                let n = currentIndex;\n                while (n <= classTypes.length) {\n                    n++;\n                    let next = classTypes[n];\n\n                    if (next === b) {\n                        return true;\n                    }\n\n                    if (next !== SP) {\n                        break;\n                    }\n                }\n            }\n\n            if (prev !== SP) {\n                break;\n            }\n        }\n    }\n    return false;\n};\n\nconst previousNonSpaceClassType = (currentIndex: number, classTypes: number[]): number => {\n    let i = currentIndex;\n    while (i >= 0) {\n        let type = classTypes[i];\n        if (type === SP) {\n            i--;\n        } else {\n            return type;\n        }\n    }\n    return 0;\n};\n\nexport type BREAK_OPPORTUNITIES = typeof BREAK_NOT_ALLOWED | typeof BREAK_ALLOWED | typeof BREAK_MANDATORY;\n\nconst _lineBreakAtIndex = (\n    codePoints: number[],\n    classTypes: number[],\n    indicies: number[],\n    index: number,\n    forbiddenBreaks?: boolean[]\n): BREAK_OPPORTUNITIES => {\n    if (indicies[index] === 0) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    let currentIndex = index - 1;\n    if (Array.isArray(forbiddenBreaks) && forbiddenBreaks[currentIndex] === true) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    let beforeIndex = currentIndex - 1;\n    let afterIndex = currentIndex + 1;\n    let current = classTypes[currentIndex];\n\n    // LB4 Always break after hard line breaks.\n    // LB5 Treat CR followed by LF, as well as CR, LF, and NL as hard line breaks.\n    let before = beforeIndex >= 0 ? classTypes[beforeIndex] : 0;\n    let next = classTypes[afterIndex];\n\n    if (current === CR && next === LF) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    if (HARD_LINE_BREAKS.indexOf(current) !== -1) {\n        return BREAK_MANDATORY;\n    }\n\n    // LB6 Do not break before hard line breaks.\n    if (HARD_LINE_BREAKS.indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB7 Do not break before spaces or zero width space.\n    if (SPACE.indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB8 Break before any character following a zero-width space, even if one or more spaces intervene.\n    if (previousNonSpaceClassType(currentIndex, classTypes) === ZW) {\n        return BREAK_ALLOWED;\n    }\n\n    // LB8a Do not break after a zero width joiner.\n    if (UnicodeTrie.get(codePoints[currentIndex]) === ZWJ) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // zwj emojis\n    if ((current === EB || current === EM) && UnicodeTrie.get(codePoints[afterIndex]) === ZWJ) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB11 Do not break before or after Word joiner and related characters.\n    if (current === WJ || next === WJ) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB12 Do not break after NBSP and related characters.\n    if (current === GL) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB12a Do not break before NBSP and related characters, except after spaces and hyphens.\n    if ([SP, BA, HY].indexOf(current) === -1 && next === GL) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB13 Do not break before ] or ! or ; or /, even after spaces.\n    if ([CL, CP, EX, IS, SY].indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB14 Do not break after [, even after spaces.\n    if (previousNonSpaceClassType(currentIndex, classTypes) === OP) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB15 Do not break within [, even with intervening spaces.\n    if (isAdjacentWithSpaceIgnored(QU, OP, currentIndex, classTypes)) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB16 Do not break between closing punctuation and a nonstarter (lb=NS), even with intervening spaces.\n    if (isAdjacentWithSpaceIgnored([CL, CP], NS, currentIndex, classTypes)) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB17 Do not break within , even with intervening spaces.\n    if (isAdjacentWithSpaceIgnored(B2, B2, currentIndex, classTypes)) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB18 Break after spaces.\n    if (current === SP) {\n        return BREAK_ALLOWED;\n    }\n\n    // LB19 Do not break before or after quotation marks, such as   .\n    if (current === QU || next === QU) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB20 Break before and after unresolved CB.\n    if (next === CB || current === CB) {\n        return BREAK_ALLOWED;\n    }\n\n    // LB21 Do not break before hyphen-minus, other hyphens, fixed-width spaces, small kana, and other non-starters, or after acute accents.\n    if ([BA, HY, NS].indexOf(next) !== -1 || current === BB) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB21a Don't break after Hebrew + Hyphen.\n    if (before === HL && HYPHEN.indexOf(current) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB21b Dont break between Solidus and Hebrew letters.\n    if (current === SY && next === HL) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB22 Do not break before ellipsis.\n    if (next === IN) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB23 Do not break between digits and letters.\n    if ((ALPHABETICS.indexOf(next) !== -1 && current === NU) || (ALPHABETICS.indexOf(current) !== -1 && next === NU)) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB23a Do not break between numeric prefixes and ideographs, or between ideographs and numeric postfixes.\n    if (\n        (current === PR && [ID, EB, EM].indexOf(next) !== -1) ||\n        ([ID, EB, EM].indexOf(current) !== -1 && next === PO)\n    ) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB24 Do not break between numeric prefix/postfix and letters, or between letters and prefix/postfix.\n    if (\n        (ALPHABETICS.indexOf(current) !== -1 && PREFIX_POSTFIX.indexOf(next) !== -1) ||\n        (PREFIX_POSTFIX.indexOf(current) !== -1 && ALPHABETICS.indexOf(next) !== -1)\n    ) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB25 Do not break between the following pairs of classes relevant to numbers:\n    if (\n        // (PR | PO)  ( OP | HY )? NU\n        ([PR, PO].indexOf(current) !== -1 &&\n            (next === NU || ([OP, HY].indexOf(next) !== -1 && classTypes[afterIndex + 1] === NU))) ||\n        // ( OP | HY )  NU\n        ([OP, HY].indexOf(current) !== -1 && next === NU) ||\n        // NU \t(NU | SY | IS)\n        (current === NU && [NU, SY, IS].indexOf(next) !== -1)\n    ) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // NU (NU | SY | IS)*  (NU | SY | IS | CL | CP)\n    if ([NU, SY, IS, CL, CP].indexOf(next) !== -1) {\n        let prevIndex = currentIndex;\n        while (prevIndex >= 0) {\n            let type = classTypes[prevIndex];\n            if (type === NU) {\n                return BREAK_NOT_ALLOWED;\n            } else if ([SY, IS].indexOf(type) !== -1) {\n                prevIndex--;\n            } else {\n                break;\n            }\n        }\n    }\n\n    // NU (NU | SY | IS)* (CL | CP)?  (PO | PR))\n    if ([PR, PO].indexOf(next) !== -1) {\n        let prevIndex = [CL, CP].indexOf(current) !== -1 ? beforeIndex : currentIndex;\n        while (prevIndex >= 0) {\n            let type = classTypes[prevIndex];\n            if (type === NU) {\n                return BREAK_NOT_ALLOWED;\n            } else if ([SY, IS].indexOf(type) !== -1) {\n                prevIndex--;\n            } else {\n                break;\n            }\n        }\n    }\n\n    // LB26 Do not break a Korean syllable.\n    if (\n        (JL === current && [JL, JV, H2, H3].indexOf(next) !== -1) ||\n        ([JV, H2].indexOf(current) !== -1 && [JV, JT].indexOf(next) !== -1) ||\n        ([JT, H3].indexOf(current) !== -1 && next === JT)\n    ) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB27 Treat a Korean Syllable Block the same as ID.\n    if (\n        (KOREAN_SYLLABLE_BLOCK.indexOf(current) !== -1 && [IN, PO].indexOf(next) !== -1) ||\n        (KOREAN_SYLLABLE_BLOCK.indexOf(next) !== -1 && current === PR)\n    ) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB28 Do not break between alphabetics (at).\n    if (ALPHABETICS.indexOf(current) !== -1 && ALPHABETICS.indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB29 Do not break between numeric punctuation and alphabetics (e.g.).\n    if (current === IS && ALPHABETICS.indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB30 Do not break between letters, numbers, or ordinary symbols and opening or closing parentheses.\n    if (\n        (ALPHABETICS.concat(NU).indexOf(current) !== -1 &&\n            next === OP &&\n            ea_OP.indexOf(codePoints[afterIndex]) === -1) ||\n        (ALPHABETICS.concat(NU).indexOf(next) !== -1 && current === CP)\n    ) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB30a Break between two regional indicator symbols if and only if there are an even number of regional\n    // indicators preceding the position of the break.\n    if (current === RI && next === RI) {\n        let i = indicies[currentIndex];\n        let count = 1;\n        while (i > 0) {\n            i--;\n            if (classTypes[i] === RI) {\n                count++;\n            } else {\n                break;\n            }\n        }\n        if (count % 2 !== 0) {\n            return BREAK_NOT_ALLOWED;\n        }\n    }\n\n    // LB30b Do not break between an emoji base and an emoji modifier.\n    if (current === EB && next === EM) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    return BREAK_ALLOWED;\n};\n\nexport const lineBreakAtIndex = (codePoints: number[], index: number): BREAK_OPPORTUNITIES => {\n    // LB2 Never break at the start of text.\n    if (index === 0) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB3 Always break at the end of text.\n    if (index >= codePoints.length) {\n        return BREAK_MANDATORY;\n    }\n\n    const [indices, classTypes] = codePointsToCharacterClasses(codePoints);\n\n    return _lineBreakAtIndex(codePoints, classTypes, indices, index);\n};\n\nexport type LINE_BREAK = 'auto' | 'normal' | 'strict';\nexport type WORD_BREAK = 'normal' | 'break-all' | 'break-word' | 'keep-all';\n\ninterface IOptions {\n    lineBreak?: LINE_BREAK;\n    wordBreak?: WORD_BREAK;\n}\n\nconst cssFormattedClasses = (codePoints: number[], options?: IOptions): [number[], number[], boolean[] | undefined] => {\n    if (!options) {\n        options = {lineBreak: 'normal', wordBreak: 'normal'};\n    }\n    let [indicies, classTypes, isLetterNumber] = codePointsToCharacterClasses(codePoints, options.lineBreak);\n\n    if (options.wordBreak === 'break-all' || options.wordBreak === 'break-word') {\n        classTypes = classTypes.map((type) => ([NU, AL, SA].indexOf(type) !== -1 ? ID : type));\n    }\n\n    const forbiddenBreakpoints =\n        options.wordBreak === 'keep-all'\n            ? isLetterNumber.map((letterNumber, i) => {\n                  return letterNumber && codePoints[i] >= 0x4e00 && codePoints[i] <= 0x9fff;\n              })\n            : undefined;\n\n    return [indicies, classTypes, forbiddenBreakpoints];\n};\n\nexport const inlineBreakOpportunities = (str: string, options?: IOptions): string => {\n    const codePoints = toCodePoints(str);\n    let output = BREAK_NOT_ALLOWED;\n    const [indicies, classTypes, forbiddenBreakpoints] = cssFormattedClasses(codePoints, options);\n\n    codePoints.forEach((codePoint, i) => {\n        output +=\n            fromCodePoint(codePoint) +\n            (i >= codePoints.length - 1\n                ? BREAK_MANDATORY\n                : _lineBreakAtIndex(codePoints, classTypes, indicies, i + 1, forbiddenBreakpoints));\n    });\n\n    return output;\n};\n\nclass Break {\n    private readonly codePoints: number[];\n    readonly required: boolean;\n    readonly start: number;\n    readonly end: number;\n\n    constructor(codePoints: number[], lineBreak: string, start: number, end: number) {\n        this.codePoints = codePoints;\n        this.required = lineBreak === BREAK_MANDATORY;\n        this.start = start;\n        this.end = end;\n    }\n\n    slice(): string {\n        return fromCodePoint(...this.codePoints.slice(this.start, this.end));\n    }\n}\n\nexport type LineBreak =\n    | {\n          done: true;\n          value: null;\n      }\n    | {\n          done: false;\n          value: Break;\n      };\n\ninterface ILineBreakIterator {\n    next: () => LineBreak;\n}\n\nexport const LineBreaker = (str: string, options?: IOptions): ILineBreakIterator => {\n    const codePoints = toCodePoints(str);\n    const [indicies, classTypes, forbiddenBreakpoints] = cssFormattedClasses(codePoints, options);\n    const length = codePoints.length;\n    let lastEnd = 0;\n    let nextIndex = 0;\n\n    return {\n        next: () => {\n            if (nextIndex >= length) {\n                return {done: true, value: null};\n            }\n            let lineBreak = BREAK_NOT_ALLOWED;\n            while (\n                nextIndex < length &&\n                (lineBreak = _lineBreakAtIndex(codePoints, classTypes, indicies, ++nextIndex, forbiddenBreakpoints)) ===\n                    BREAK_NOT_ALLOWED\n            ) {}\n\n            if (lineBreak !== BREAK_NOT_ALLOWED || nextIndex === length) {\n                const value = new Break(codePoints, lineBreak, lastEnd, nextIndex);\n                lastEnd = nextIndex;\n                return {value, done: false};\n            }\n\n            return {done: true, value: null};\n        },\n    };\n};\n", "// https://www.w3.org/TR/css-syntax-3\n\nimport {fromCodePoint, toCodePoints} from 'css-line-break';\n\nexport const enum TokenType {\n    STRING_TOKEN,\n    BAD_STRING_TOKEN,\n    LEFT_PARENTHESIS_TOKEN,\n    RIGHT_PARENTHESIS_TOKEN,\n    COMMA_TOKEN,\n    HASH_TOKEN,\n    DELIM_TOKEN,\n    AT_KEYWORD_TOKEN,\n    PREFIX_MATCH_TOKEN,\n    DASH_MATCH_TOKEN,\n    INCLUDE_MATCH_TOKEN,\n    LEFT_CURLY_BRACKET_TOKEN,\n    RIGHT_CURLY_BRACKET_TOKEN,\n    SUFFIX_MATCH_TOKEN,\n    SUBSTRING_MATCH_TOKEN,\n    DIMENSION_TOKEN,\n    PERCENTAGE_TOKEN,\n    NUMBER_TOKEN,\n    FUNCTION,\n    FUNCTION_TOKEN,\n    IDENT_TOKEN,\n    COLUMN_TOKEN,\n    URL_TOKEN,\n    BAD_URL_TOKEN,\n    CDC_TOKEN,\n    CDO_TOKEN,\n    COLON_TOKEN,\n    SEMICOLON_TOKEN,\n    LEFT_SQUARE_BRACKET_TOKEN,\n    RIGHT_SQUARE_BRACKET_TOKEN,\n    UNICODE_RANGE_TOKEN,\n    WHITESPACE_TOKEN,\n    EOF_TOKEN\n}\n\ninterface IToken {\n    type: TokenType;\n}\n\nexport interface Token extends IToken {\n    type:\n        | TokenType.BAD_URL_TOKEN\n        | TokenType.BAD_STRING_TOKEN\n        | TokenType.LEFT_PARENTHESIS_TOKEN\n        | TokenType.RIGHT_PARENTHESIS_TOKEN\n        | TokenType.COMMA_TOKEN\n        | TokenType.SUBSTRING_MATCH_TOKEN\n        | TokenType.PREFIX_MATCH_TOKEN\n        | TokenType.SUFFIX_MATCH_TOKEN\n        | TokenType.COLON_TOKEN\n        | TokenType.SEMICOLON_TOKEN\n        | TokenType.LEFT_SQUARE_BRACKET_TOKEN\n        | TokenType.RIGHT_SQUARE_BRACKET_TOKEN\n        | TokenType.LEFT_CURLY_BRACKET_TOKEN\n        | TokenType.RIGHT_CURLY_BRACKET_TOKEN\n        | TokenType.DASH_MATCH_TOKEN\n        | TokenType.INCLUDE_MATCH_TOKEN\n        | TokenType.COLUMN_TOKEN\n        | TokenType.WHITESPACE_TOKEN\n        | TokenType.CDC_TOKEN\n        | TokenType.CDO_TOKEN\n        | TokenType.EOF_TOKEN;\n}\n\nexport interface StringValueToken extends IToken {\n    type:\n        | TokenType.STRING_TOKEN\n        | TokenType.DELIM_TOKEN\n        | TokenType.FUNCTION_TOKEN\n        | TokenType.IDENT_TOKEN\n        | TokenType.URL_TOKEN\n        | TokenType.AT_KEYWORD_TOKEN;\n    value: string;\n}\n\nexport interface HashToken extends IToken {\n    type: TokenType.HASH_TOKEN;\n    flags: number;\n    value: string;\n}\n\nexport interface NumberValueToken extends IToken {\n    type: TokenType.PERCENTAGE_TOKEN | TokenType.NUMBER_TOKEN;\n    flags: number;\n    number: number;\n}\n\nexport interface DimensionToken extends IToken {\n    type: TokenType.DIMENSION_TOKEN;\n    flags: number;\n    unit: string;\n    number: number;\n}\n\nexport interface UnicodeRangeToken extends IToken {\n    type: TokenType.UNICODE_RANGE_TOKEN;\n    start: number;\n    end: number;\n}\n\nexport type CSSToken = Token | StringValueToken | NumberValueToken | DimensionToken | UnicodeRangeToken | HashToken;\n\nexport const FLAG_UNRESTRICTED = 1 << 0;\nexport const FLAG_ID = 1 << 1;\nexport const FLAG_INTEGER = 1 << 2;\nexport const FLAG_NUMBER = 1 << 3;\n\nconst LINE_FEED = 0x000a;\nconst SOLIDUS = 0x002f;\nconst REVERSE_SOLIDUS = 0x005c;\nconst CHARACTER_TABULATION = 0x0009;\nconst SPACE = 0x0020;\nconst QUOTATION_MARK = 0x0022;\nconst EQUALS_SIGN = 0x003d;\nconst NUMBER_SIGN = 0x0023;\nconst DOLLAR_SIGN = 0x0024;\nconst PERCENTAGE_SIGN = 0x0025;\nconst APOSTROPHE = 0x0027;\nconst LEFT_PARENTHESIS = 0x0028;\nconst RIGHT_PARENTHESIS = 0x0029;\nconst LOW_LINE = 0x005f;\nconst HYPHEN_MINUS = 0x002d;\nconst EXCLAMATION_MARK = 0x0021;\nconst LESS_THAN_SIGN = 0x003c;\nconst GREATER_THAN_SIGN = 0x003e;\nconst COMMERCIAL_AT = 0x0040;\nconst LEFT_SQUARE_BRACKET = 0x005b;\nconst RIGHT_SQUARE_BRACKET = 0x005d;\nconst CIRCUMFLEX_ACCENT = 0x003d;\nconst LEFT_CURLY_BRACKET = 0x007b;\nconst QUESTION_MARK = 0x003f;\nconst RIGHT_CURLY_BRACKET = 0x007d;\nconst VERTICAL_LINE = 0x007c;\nconst TILDE = 0x007e;\nconst CONTROL = 0x0080;\nconst REPLACEMENT_CHARACTER = 0xfffd;\nconst ASTERISK = 0x002a;\nconst PLUS_SIGN = 0x002b;\nconst COMMA = 0x002c;\nconst COLON = 0x003a;\nconst SEMICOLON = 0x003b;\nconst FULL_STOP = 0x002e;\nconst NULL = 0x0000;\nconst BACKSPACE = 0x0008;\nconst LINE_TABULATION = 0x000b;\nconst SHIFT_OUT = 0x000e;\nconst INFORMATION_SEPARATOR_ONE = 0x001f;\nconst DELETE = 0x007f;\nconst EOF = -1;\nconst ZERO = 0x0030;\nconst a = 0x0061;\nconst e = 0x0065;\nconst f = 0x0066;\nconst u = 0x0075;\nconst z = 0x007a;\nconst A = 0x0041;\nconst E = 0x0045;\nconst F = 0x0046;\nconst U = 0x0055;\nconst Z = 0x005a;\n\nconst isDigit = (codePoint: number) => codePoint >= ZERO && codePoint <= 0x0039;\nconst isSurrogateCodePoint = (codePoint: number) => codePoint >= 0xd800 && codePoint <= 0xdfff;\nconst isHex = (codePoint: number) =>\n    isDigit(codePoint) || (codePoint >= A && codePoint <= F) || (codePoint >= a && codePoint <= f);\nconst isLowerCaseLetter = (codePoint: number) => codePoint >= a && codePoint <= z;\nconst isUpperCaseLetter = (codePoint: number) => codePoint >= A && codePoint <= Z;\nconst isLetter = (codePoint: number) => isLowerCaseLetter(codePoint) || isUpperCaseLetter(codePoint);\nconst isNonASCIICodePoint = (codePoint: number) => codePoint >= CONTROL;\nconst isWhiteSpace = (codePoint: number): boolean =>\n    codePoint === LINE_FEED || codePoint === CHARACTER_TABULATION || codePoint === SPACE;\nconst isNameStartCodePoint = (codePoint: number): boolean =>\n    isLetter(codePoint) || isNonASCIICodePoint(codePoint) || codePoint === LOW_LINE;\nconst isNameCodePoint = (codePoint: number): boolean =>\n    isNameStartCodePoint(codePoint) || isDigit(codePoint) || codePoint === HYPHEN_MINUS;\nconst isNonPrintableCodePoint = (codePoint: number): boolean => {\n    return (\n        (codePoint >= NULL && codePoint <= BACKSPACE) ||\n        codePoint === LINE_TABULATION ||\n        (codePoint >= SHIFT_OUT && codePoint <= INFORMATION_SEPARATOR_ONE) ||\n        codePoint === DELETE\n    );\n};\nconst isValidEscape = (c1: number, c2: number): boolean => {\n    if (c1 !== REVERSE_SOLIDUS) {\n        return false;\n    }\n\n    return c2 !== LINE_FEED;\n};\nconst isIdentifierStart = (c1: number, c2: number, c3: number): boolean => {\n    if (c1 === HYPHEN_MINUS) {\n        return isNameStartCodePoint(c2) || isValidEscape(c2, c3);\n    } else if (isNameStartCodePoint(c1)) {\n        return true;\n    } else if (c1 === REVERSE_SOLIDUS && isValidEscape(c1, c2)) {\n        return true;\n    }\n    return false;\n};\n\nconst isNumberStart = (c1: number, c2: number, c3: number): boolean => {\n    if (c1 === PLUS_SIGN || c1 === HYPHEN_MINUS) {\n        if (isDigit(c2)) {\n            return true;\n        }\n\n        return c2 === FULL_STOP && isDigit(c3);\n    }\n\n    if (c1 === FULL_STOP) {\n        return isDigit(c2);\n    }\n\n    return isDigit(c1);\n};\n\nconst stringToNumber = (codePoints: number[]): number => {\n    let c = 0;\n    let sign = 1;\n    if (codePoints[c] === PLUS_SIGN || codePoints[c] === HYPHEN_MINUS) {\n        if (codePoints[c] === HYPHEN_MINUS) {\n            sign = -1;\n        }\n        c++;\n    }\n\n    const integers = [];\n\n    while (isDigit(codePoints[c])) {\n        integers.push(codePoints[c++]);\n    }\n\n    const int = integers.length ? parseInt(fromCodePoint(...integers), 10) : 0;\n\n    if (codePoints[c] === FULL_STOP) {\n        c++;\n    }\n\n    const fraction = [];\n    while (isDigit(codePoints[c])) {\n        fraction.push(codePoints[c++]);\n    }\n\n    const fracd = fraction.length;\n    const frac = fracd ? parseInt(fromCodePoint(...fraction), 10) : 0;\n\n    if (codePoints[c] === E || codePoints[c] === e) {\n        c++;\n    }\n\n    let expsign = 1;\n\n    if (codePoints[c] === PLUS_SIGN || codePoints[c] === HYPHEN_MINUS) {\n        if (codePoints[c] === HYPHEN_MINUS) {\n            expsign = -1;\n        }\n        c++;\n    }\n\n    const exponent = [];\n\n    while (isDigit(codePoints[c])) {\n        exponent.push(codePoints[c++]);\n    }\n\n    const exp = exponent.length ? parseInt(fromCodePoint(...exponent), 10) : 0;\n\n    return sign * (int + frac * Math.pow(10, -fracd)) * Math.pow(10, expsign * exp);\n};\n\nconst LEFT_PARENTHESIS_TOKEN: Token = {\n    type: TokenType.LEFT_PARENTHESIS_TOKEN\n};\nconst RIGHT_PARENTHESIS_TOKEN: Token = {\n    type: TokenType.RIGHT_PARENTHESIS_TOKEN\n};\nconst COMMA_TOKEN: Token = {type: TokenType.COMMA_TOKEN};\nconst SUFFIX_MATCH_TOKEN: Token = {type: TokenType.SUFFIX_MATCH_TOKEN};\nconst PREFIX_MATCH_TOKEN: Token = {type: TokenType.PREFIX_MATCH_TOKEN};\nconst COLUMN_TOKEN: Token = {type: TokenType.COLUMN_TOKEN};\nconst DASH_MATCH_TOKEN: Token = {type: TokenType.DASH_MATCH_TOKEN};\nconst INCLUDE_MATCH_TOKEN: Token = {type: TokenType.INCLUDE_MATCH_TOKEN};\nconst LEFT_CURLY_BRACKET_TOKEN: Token = {\n    type: TokenType.LEFT_CURLY_BRACKET_TOKEN\n};\nconst RIGHT_CURLY_BRACKET_TOKEN: Token = {\n    type: TokenType.RIGHT_CURLY_BRACKET_TOKEN\n};\nconst SUBSTRING_MATCH_TOKEN: Token = {type: TokenType.SUBSTRING_MATCH_TOKEN};\nconst BAD_URL_TOKEN: Token = {type: TokenType.BAD_URL_TOKEN};\nconst BAD_STRING_TOKEN: Token = {type: TokenType.BAD_STRING_TOKEN};\nconst CDO_TOKEN: Token = {type: TokenType.CDO_TOKEN};\nconst CDC_TOKEN: Token = {type: TokenType.CDC_TOKEN};\nconst COLON_TOKEN: Token = {type: TokenType.COLON_TOKEN};\nconst SEMICOLON_TOKEN: Token = {type: TokenType.SEMICOLON_TOKEN};\nconst LEFT_SQUARE_BRACKET_TOKEN: Token = {\n    type: TokenType.LEFT_SQUARE_BRACKET_TOKEN\n};\nconst RIGHT_SQUARE_BRACKET_TOKEN: Token = {\n    type: TokenType.RIGHT_SQUARE_BRACKET_TOKEN\n};\nconst WHITESPACE_TOKEN: Token = {type: TokenType.WHITESPACE_TOKEN};\nexport const EOF_TOKEN: Token = {type: TokenType.EOF_TOKEN};\n\nexport class Tokenizer {\n    private _value: number[];\n\n    constructor() {\n        this._value = [];\n    }\n\n    write(chunk: string): void {\n        this._value = this._value.concat(toCodePoints(chunk));\n    }\n\n    read(): CSSToken[] {\n        const tokens = [];\n        let token = this.consumeToken();\n        while (token !== EOF_TOKEN) {\n            tokens.push(token);\n            token = this.consumeToken();\n        }\n        return tokens;\n    }\n\n    private consumeToken(): CSSToken {\n        const codePoint = this.consumeCodePoint();\n\n        switch (codePoint) {\n            case QUOTATION_MARK:\n                return this.consumeStringToken(QUOTATION_MARK);\n            case NUMBER_SIGN:\n                const c1 = this.peekCodePoint(0);\n                const c2 = this.peekCodePoint(1);\n                const c3 = this.peekCodePoint(2);\n                if (isNameCodePoint(c1) || isValidEscape(c2, c3)) {\n                    const flags = isIdentifierStart(c1, c2, c3) ? FLAG_ID : FLAG_UNRESTRICTED;\n                    const value = this.consumeName();\n\n                    return {type: TokenType.HASH_TOKEN, value, flags};\n                }\n                break;\n            case DOLLAR_SIGN:\n                if (this.peekCodePoint(0) === EQUALS_SIGN) {\n                    this.consumeCodePoint();\n                    return SUFFIX_MATCH_TOKEN;\n                }\n                break;\n            case APOSTROPHE:\n                return this.consumeStringToken(APOSTROPHE);\n            case LEFT_PARENTHESIS:\n                return LEFT_PARENTHESIS_TOKEN;\n            case RIGHT_PARENTHESIS:\n                return RIGHT_PARENTHESIS_TOKEN;\n            case ASTERISK:\n                if (this.peekCodePoint(0) === EQUALS_SIGN) {\n                    this.consumeCodePoint();\n                    return SUBSTRING_MATCH_TOKEN;\n                }\n                break;\n            case PLUS_SIGN:\n                if (isNumberStart(codePoint, this.peekCodePoint(0), this.peekCodePoint(1))) {\n                    this.reconsumeCodePoint(codePoint);\n                    return this.consumeNumericToken();\n                }\n                break;\n            case COMMA:\n                return COMMA_TOKEN;\n            case HYPHEN_MINUS:\n                const e1 = codePoint;\n                const e2 = this.peekCodePoint(0);\n                const e3 = this.peekCodePoint(1);\n\n                if (isNumberStart(e1, e2, e3)) {\n                    this.reconsumeCodePoint(codePoint);\n                    return this.consumeNumericToken();\n                }\n\n                if (isIdentifierStart(e1, e2, e3)) {\n                    this.reconsumeCodePoint(codePoint);\n                    return this.consumeIdentLikeToken();\n                }\n\n                if (e2 === HYPHEN_MINUS && e3 === GREATER_THAN_SIGN) {\n                    this.consumeCodePoint();\n                    this.consumeCodePoint();\n                    return CDC_TOKEN;\n                }\n                break;\n\n            case FULL_STOP:\n                if (isNumberStart(codePoint, this.peekCodePoint(0), this.peekCodePoint(1))) {\n                    this.reconsumeCodePoint(codePoint);\n                    return this.consumeNumericToken();\n                }\n                break;\n            case SOLIDUS:\n                if (this.peekCodePoint(0) === ASTERISK) {\n                    this.consumeCodePoint();\n                    while (true) {\n                        let c = this.consumeCodePoint();\n                        if (c === ASTERISK) {\n                            c = this.consumeCodePoint();\n                            if (c === SOLIDUS) {\n                                return this.consumeToken();\n                            }\n                        }\n                        if (c === EOF) {\n                            return this.consumeToken();\n                        }\n                    }\n                }\n                break;\n            case COLON:\n                return COLON_TOKEN;\n            case SEMICOLON:\n                return SEMICOLON_TOKEN;\n            case LESS_THAN_SIGN:\n                if (\n                    this.peekCodePoint(0) === EXCLAMATION_MARK &&\n                    this.peekCodePoint(1) === HYPHEN_MINUS &&\n                    this.peekCodePoint(2) === HYPHEN_MINUS\n                ) {\n                    this.consumeCodePoint();\n                    this.consumeCodePoint();\n                    return CDO_TOKEN;\n                }\n                break;\n            case COMMERCIAL_AT:\n                const a1 = this.peekCodePoint(0);\n                const a2 = this.peekCodePoint(1);\n                const a3 = this.peekCodePoint(2);\n                if (isIdentifierStart(a1, a2, a3)) {\n                    const value = this.consumeName();\n                    return {type: TokenType.AT_KEYWORD_TOKEN, value};\n                }\n                break;\n            case LEFT_SQUARE_BRACKET:\n                return LEFT_SQUARE_BRACKET_TOKEN;\n            case REVERSE_SOLIDUS:\n                if (isValidEscape(codePoint, this.peekCodePoint(0))) {\n                    this.reconsumeCodePoint(codePoint);\n                    return this.consumeIdentLikeToken();\n                }\n                break;\n            case RIGHT_SQUARE_BRACKET:\n                return RIGHT_SQUARE_BRACKET_TOKEN;\n            case CIRCUMFLEX_ACCENT:\n                if (this.peekCodePoint(0) === EQUALS_SIGN) {\n                    this.consumeCodePoint();\n                    return PREFIX_MATCH_TOKEN;\n                }\n                break;\n            case LEFT_CURLY_BRACKET:\n                return LEFT_CURLY_BRACKET_TOKEN;\n            case RIGHT_CURLY_BRACKET:\n                return RIGHT_CURLY_BRACKET_TOKEN;\n            case u:\n            case U:\n                const u1 = this.peekCodePoint(0);\n                const u2 = this.peekCodePoint(1);\n                if (u1 === PLUS_SIGN && (isHex(u2) || u2 === QUESTION_MARK)) {\n                    this.consumeCodePoint();\n                    this.consumeUnicodeRangeToken();\n                }\n                this.reconsumeCodePoint(codePoint);\n                return this.consumeIdentLikeToken();\n            case VERTICAL_LINE:\n                if (this.peekCodePoint(0) === EQUALS_SIGN) {\n                    this.consumeCodePoint();\n                    return DASH_MATCH_TOKEN;\n                }\n                if (this.peekCodePoint(0) === VERTICAL_LINE) {\n                    this.consumeCodePoint();\n                    return COLUMN_TOKEN;\n                }\n                break;\n            case TILDE:\n                if (this.peekCodePoint(0) === EQUALS_SIGN) {\n                    this.consumeCodePoint();\n                    return INCLUDE_MATCH_TOKEN;\n                }\n                break;\n            case EOF:\n                return EOF_TOKEN;\n        }\n\n        if (isWhiteSpace(codePoint)) {\n            this.consumeWhiteSpace();\n            return WHITESPACE_TOKEN;\n        }\n\n        if (isDigit(codePoint)) {\n            this.reconsumeCodePoint(codePoint);\n            return this.consumeNumericToken();\n        }\n\n        if (isNameStartCodePoint(codePoint)) {\n            this.reconsumeCodePoint(codePoint);\n            return this.consumeIdentLikeToken();\n        }\n\n        return {type: TokenType.DELIM_TOKEN, value: fromCodePoint(codePoint)};\n    }\n\n    private consumeCodePoint(): number {\n        const value = this._value.shift();\n\n        return typeof value === 'undefined' ? -1 : value;\n    }\n\n    private reconsumeCodePoint(codePoint: number) {\n        this._value.unshift(codePoint);\n    }\n\n    private peekCodePoint(delta: number): number {\n        if (delta >= this._value.length) {\n            return -1;\n        }\n\n        return this._value[delta];\n    }\n\n    private consumeUnicodeRangeToken(): UnicodeRangeToken {\n        const digits = [];\n        let codePoint = this.consumeCodePoint();\n        while (isHex(codePoint) && digits.length < 6) {\n            digits.push(codePoint);\n            codePoint = this.consumeCodePoint();\n        }\n        let questionMarks = false;\n        while (codePoint === QUESTION_MARK && digits.length < 6) {\n            digits.push(codePoint);\n            codePoint = this.consumeCodePoint();\n            questionMarks = true;\n        }\n\n        if (questionMarks) {\n            const start = parseInt(\n                fromCodePoint(...digits.map((digit) => (digit === QUESTION_MARK ? ZERO : digit))),\n                16\n            );\n            const end = parseInt(fromCodePoint(...digits.map((digit) => (digit === QUESTION_MARK ? F : digit))), 16);\n            return {type: TokenType.UNICODE_RANGE_TOKEN, start, end};\n        }\n\n        const start = parseInt(fromCodePoint(...digits), 16);\n        if (this.peekCodePoint(0) === HYPHEN_MINUS && isHex(this.peekCodePoint(1))) {\n            this.consumeCodePoint();\n            codePoint = this.consumeCodePoint();\n            const endDigits = [];\n            while (isHex(codePoint) && endDigits.length < 6) {\n                endDigits.push(codePoint);\n                codePoint = this.consumeCodePoint();\n            }\n            const end = parseInt(fromCodePoint(...endDigits), 16);\n\n            return {type: TokenType.UNICODE_RANGE_TOKEN, start, end};\n        } else {\n            return {type: TokenType.UNICODE_RANGE_TOKEN, start, end: start};\n        }\n    }\n\n    private consumeIdentLikeToken(): StringValueToken | Token {\n        const value = this.consumeName();\n        if (value.toLowerCase() === 'url' && this.peekCodePoint(0) === LEFT_PARENTHESIS) {\n            this.consumeCodePoint();\n            return this.consumeUrlToken();\n        } else if (this.peekCodePoint(0) === LEFT_PARENTHESIS) {\n            this.consumeCodePoint();\n            return {type: TokenType.FUNCTION_TOKEN, value};\n        }\n\n        return {type: TokenType.IDENT_TOKEN, value};\n    }\n\n    private consumeUrlToken(): StringValueToken | Token {\n        const value = [];\n        this.consumeWhiteSpace();\n\n        if (this.peekCodePoint(0) === EOF) {\n            return {type: TokenType.URL_TOKEN, value: ''};\n        }\n\n        const next = this.peekCodePoint(0);\n        if (next === APOSTROPHE || next === QUOTATION_MARK) {\n            const stringToken = this.consumeStringToken(this.consumeCodePoint());\n            if (stringToken.type === TokenType.STRING_TOKEN) {\n                this.consumeWhiteSpace();\n\n                if (this.peekCodePoint(0) === EOF || this.peekCodePoint(0) === RIGHT_PARENTHESIS) {\n                    this.consumeCodePoint();\n                    return {type: TokenType.URL_TOKEN, value: stringToken.value};\n                }\n            }\n\n            this.consumeBadUrlRemnants();\n            return BAD_URL_TOKEN;\n        }\n\n        while (true) {\n            const codePoint = this.consumeCodePoint();\n            if (codePoint === EOF || codePoint === RIGHT_PARENTHESIS) {\n                return {type: TokenType.URL_TOKEN, value: fromCodePoint(...value)};\n            } else if (isWhiteSpace(codePoint)) {\n                this.consumeWhiteSpace();\n                if (this.peekCodePoint(0) === EOF || this.peekCodePoint(0) === RIGHT_PARENTHESIS) {\n                    this.consumeCodePoint();\n                    return {type: TokenType.URL_TOKEN, value: fromCodePoint(...value)};\n                }\n                this.consumeBadUrlRemnants();\n                return BAD_URL_TOKEN;\n            } else if (\n                codePoint === QUOTATION_MARK ||\n                codePoint === APOSTROPHE ||\n                codePoint === LEFT_PARENTHESIS ||\n                isNonPrintableCodePoint(codePoint)\n            ) {\n                this.consumeBadUrlRemnants();\n                return BAD_URL_TOKEN;\n            } else if (codePoint === REVERSE_SOLIDUS) {\n                if (isValidEscape(codePoint, this.peekCodePoint(0))) {\n                    value.push(this.consumeEscapedCodePoint());\n                } else {\n                    this.consumeBadUrlRemnants();\n                    return BAD_URL_TOKEN;\n                }\n            } else {\n                value.push(codePoint);\n            }\n        }\n    }\n\n    private consumeWhiteSpace(): void {\n        while (isWhiteSpace(this.peekCodePoint(0))) {\n            this.consumeCodePoint();\n        }\n    }\n\n    private consumeBadUrlRemnants(): void {\n        while (true) {\n            const codePoint = this.consumeCodePoint();\n            if (codePoint === RIGHT_PARENTHESIS || codePoint === EOF) {\n                return;\n            }\n\n            if (isValidEscape(codePoint, this.peekCodePoint(0))) {\n                this.consumeEscapedCodePoint();\n            }\n        }\n    }\n\n    private consumeStringSlice(count: number): string {\n        const SLICE_STACK_SIZE = 50000;\n        let value = '';\n        while (count > 0) {\n            const amount = Math.min(SLICE_STACK_SIZE, count);\n            value += fromCodePoint(...this._value.splice(0, amount));\n            count -= amount;\n        }\n        this._value.shift();\n\n        return value;\n    }\n\n    private consumeStringToken(endingCodePoint: number): StringValueToken | Token {\n        let value = '';\n        let i = 0;\n\n        do {\n            const codePoint = this._value[i];\n            if (codePoint === EOF || codePoint === undefined || codePoint === endingCodePoint) {\n                value += this.consumeStringSlice(i);\n                return {type: TokenType.STRING_TOKEN, value};\n            }\n\n            if (codePoint === LINE_FEED) {\n                this._value.splice(0, i);\n                return BAD_STRING_TOKEN;\n            }\n\n            if (codePoint === REVERSE_SOLIDUS) {\n                const next = this._value[i + 1];\n                if (next !== EOF && next !== undefined) {\n                    if (next === LINE_FEED) {\n                        value += this.consumeStringSlice(i);\n                        i = -1;\n                        this._value.shift();\n                    } else if (isValidEscape(codePoint, next)) {\n                        value += this.consumeStringSlice(i);\n                        value += fromCodePoint(this.consumeEscapedCodePoint());\n                        i = -1;\n                    }\n                }\n            }\n\n            i++;\n        } while (true);\n    }\n\n    private consumeNumber() {\n        const repr = [];\n        let type = FLAG_INTEGER;\n        let c1 = this.peekCodePoint(0);\n        if (c1 === PLUS_SIGN || c1 === HYPHEN_MINUS) {\n            repr.push(this.consumeCodePoint());\n        }\n\n        while (isDigit(this.peekCodePoint(0))) {\n            repr.push(this.consumeCodePoint());\n        }\n        c1 = this.peekCodePoint(0);\n        let c2 = this.peekCodePoint(1);\n        if (c1 === FULL_STOP && isDigit(c2)) {\n            repr.push(this.consumeCodePoint(), this.consumeCodePoint());\n            type = FLAG_NUMBER;\n            while (isDigit(this.peekCodePoint(0))) {\n                repr.push(this.consumeCodePoint());\n            }\n        }\n\n        c1 = this.peekCodePoint(0);\n        c2 = this.peekCodePoint(1);\n        const c3 = this.peekCodePoint(2);\n        if ((c1 === E || c1 === e) && (((c2 === PLUS_SIGN || c2 === HYPHEN_MINUS) && isDigit(c3)) || isDigit(c2))) {\n            repr.push(this.consumeCodePoint(), this.consumeCodePoint());\n            type = FLAG_NUMBER;\n            while (isDigit(this.peekCodePoint(0))) {\n                repr.push(this.consumeCodePoint());\n            }\n        }\n\n        return [stringToNumber(repr), type];\n    }\n\n    private consumeNumericToken(): NumberValueToken | DimensionToken {\n        const [number, flags] = this.consumeNumber();\n        const c1 = this.peekCodePoint(0);\n        const c2 = this.peekCodePoint(1);\n        const c3 = this.peekCodePoint(2);\n\n        if (isIdentifierStart(c1, c2, c3)) {\n            const unit = this.consumeName();\n            return {type: TokenType.DIMENSION_TOKEN, number, flags, unit};\n        }\n\n        if (c1 === PERCENTAGE_SIGN) {\n            this.consumeCodePoint();\n            return {type: TokenType.PERCENTAGE_TOKEN, number, flags};\n        }\n\n        return {type: TokenType.NUMBER_TOKEN, number, flags};\n    }\n\n    private consumeEscapedCodePoint(): number {\n        const codePoint = this.consumeCodePoint();\n\n        if (isHex(codePoint)) {\n            let hex = fromCodePoint(codePoint);\n            while (isHex(this.peekCodePoint(0)) && hex.length < 6) {\n                hex += fromCodePoint(this.consumeCodePoint());\n            }\n\n            if (isWhiteSpace(this.peekCodePoint(0))) {\n                this.consumeCodePoint();\n            }\n\n            const hexCodePoint = parseInt(hex, 16);\n\n            if (hexCodePoint === 0 || isSurrogateCodePoint(hexCodePoint) || hexCodePoint > 0x10ffff) {\n                return REPLACEMENT_CHARACTER;\n            }\n\n            return hexCodePoint;\n        }\n\n        if (codePoint === EOF) {\n            return REPLACEMENT_CHARACTER;\n        }\n\n        return codePoint;\n    }\n\n    private consumeName(): string {\n        let result = '';\n        while (true) {\n            const codePoint = this.consumeCodePoint();\n            if (isNameCodePoint(codePoint)) {\n                result += fromCodePoint(codePoint);\n            } else if (isValidEscape(codePoint, this.peekCodePoint(0))) {\n                result += fromCodePoint(this.consumeEscapedCodePoint());\n            } else {\n                this.reconsumeCodePoint(codePoint);\n                return result;\n            }\n        }\n    }\n}\n", "import {\n    CSSToken,\n    DimensionToken,\n    EOF_TOKEN,\n    NumberValueToken,\n    StringValueToken,\n    Tokenizer,\n    TokenType\n} from './tokenizer';\n\nexport type CSSBlockType =\n    | TokenType.LEFT_PARENTHESIS_TOKEN\n    | TokenType.LEFT_SQUARE_BRACKET_TOKEN\n    | TokenType.LEFT_CURLY_BRACKET_TOKEN;\n\nexport interface CSSBlock {\n    type: CSSBlockType;\n    values: CSSValue[];\n}\n\nexport interface CSSFunction {\n    type: TokenType.FUNCTION;\n    name: string;\n    values: CSSValue[];\n}\n\nexport type CSSValue = CSSFunction | CSSToken | CSSBlock;\n\nexport class Parser {\n    private _tokens: CSSToken[];\n\n    constructor(tokens: CSSToken[]) {\n        this._tokens = tokens;\n    }\n\n    static create(value: string): Parser {\n        const tokenizer = new Tokenizer();\n        tokenizer.write(value);\n        return new Parser(tokenizer.read());\n    }\n\n    static parseValue(value: string): CSSValue {\n        return Parser.create(value).parseComponentValue();\n    }\n\n    static parseValues(value: string): CSSValue[] {\n        return Parser.create(value).parseComponentValues();\n    }\n\n    parseComponentValue(): CSSValue {\n        let token = this.consumeToken();\n        while (token.type === TokenType.WHITESPACE_TOKEN) {\n            token = this.consumeToken();\n        }\n\n        if (token.type === TokenType.EOF_TOKEN) {\n            throw new SyntaxError(`Error parsing CSS component value, unexpected EOF`);\n        }\n\n        this.reconsumeToken(token);\n        const value = this.consumeComponentValue();\n\n        do {\n            token = this.consumeToken();\n        } while (token.type === TokenType.WHITESPACE_TOKEN);\n\n        if (token.type === TokenType.EOF_TOKEN) {\n            return value;\n        }\n\n        throw new SyntaxError(`Error parsing CSS component value, multiple values found when expecting only one`);\n    }\n\n    parseComponentValues(): CSSValue[] {\n        const values = [];\n        while (true) {\n            const value = this.consumeComponentValue();\n            if (value.type === TokenType.EOF_TOKEN) {\n                return values;\n            }\n            values.push(value);\n            values.push();\n        }\n    }\n\n    private consumeComponentValue(): CSSValue {\n        const token = this.consumeToken();\n\n        switch (token.type) {\n            case TokenType.LEFT_CURLY_BRACKET_TOKEN:\n            case TokenType.LEFT_SQUARE_BRACKET_TOKEN:\n            case TokenType.LEFT_PARENTHESIS_TOKEN:\n                return this.consumeSimpleBlock(token.type);\n            case TokenType.FUNCTION_TOKEN:\n                return this.consumeFunction(token);\n        }\n\n        return token;\n    }\n\n    private consumeSimpleBlock(type: CSSBlockType): CSSBlock {\n        const block: CSSBlock = {type, values: []};\n\n        let token = this.consumeToken();\n        while (true) {\n            if (token.type === TokenType.EOF_TOKEN || isEndingTokenFor(token, type)) {\n                return block;\n            }\n\n            this.reconsumeToken(token);\n            block.values.push(this.consumeComponentValue());\n            token = this.consumeToken();\n        }\n    }\n\n    private consumeFunction(functionToken: StringValueToken): CSSFunction {\n        const cssFunction: CSSFunction = {\n            name: functionToken.value,\n            values: [],\n            type: TokenType.FUNCTION\n        };\n\n        while (true) {\n            const token = this.consumeToken();\n            if (token.type === TokenType.EOF_TOKEN || token.type === TokenType.RIGHT_PARENTHESIS_TOKEN) {\n                return cssFunction;\n            }\n\n            this.reconsumeToken(token);\n            cssFunction.values.push(this.consumeComponentValue());\n        }\n    }\n\n    private consumeToken(): CSSToken {\n        const token = this._tokens.shift();\n        return typeof token === 'undefined' ? EOF_TOKEN : token;\n    }\n\n    private reconsumeToken(token: CSSToken): void {\n        this._tokens.unshift(token);\n    }\n}\n\nexport const isDimensionToken = (token: CSSValue): token is DimensionToken => token.type === TokenType.DIMENSION_TOKEN;\nexport const isNumberToken = (token: CSSValue): token is NumberValueToken => token.type === TokenType.NUMBER_TOKEN;\nexport const isIdentToken = (token: CSSValue): token is StringValueToken => token.type === TokenType.IDENT_TOKEN;\nexport const isStringToken = (token: CSSValue): token is StringValueToken => token.type === TokenType.STRING_TOKEN;\nexport const isIdentWithValue = (token: CSSValue, value: string): boolean =>\n    isIdentToken(token) && token.value === value;\n\nexport const nonWhiteSpace = (token: CSSValue): boolean => token.type !== TokenType.WHITESPACE_TOKEN;\nexport const nonFunctionArgSeparator = (token: CSSValue): boolean =>\n    token.type !== TokenType.WHITESPACE_TOKEN && token.type !== TokenType.COMMA_TOKEN;\n\nexport const parseFunctionArgs = (tokens: CSSValue[]): CSSValue[][] => {\n    const args: CSSValue[][] = [];\n    let arg: CSSValue[] = [];\n    tokens.forEach((token) => {\n        if (token.type === TokenType.COMMA_TOKEN) {\n            if (arg.length === 0) {\n                throw new Error(`Error parsing function args, zero tokens for arg`);\n            }\n            args.push(arg);\n            arg = [];\n            return;\n        }\n\n        if (token.type !== TokenType.WHITESPACE_TOKEN) {\n            arg.push(token);\n        }\n    });\n    if (arg.length) {\n        args.push(arg);\n    }\n\n    return args;\n};\n\nconst isEndingTokenFor = (token: CSSToken, type: CSSBlockType): boolean => {\n    if (type === TokenType.LEFT_CURLY_BRACKET_TOKEN && token.type === TokenType.RIGHT_CURLY_BRACKET_TOKEN) {\n        return true;\n    }\n    if (type === TokenType.LEFT_SQUARE_BRACKET_TOKEN && token.type === TokenType.RIGHT_SQUARE_BRACKET_TOKEN) {\n        return true;\n    }\n\n    return type === TokenType.LEFT_PARENTHESIS_TOKEN && token.type === TokenType.RIGHT_PARENTHESIS_TOKEN;\n};\n", "import {CSSValue} from '../syntax/parser';\nimport {DimensionToken, NumberValueToken, TokenType} from '../syntax/tokenizer';\n\nexport type Length = DimensionToken | NumberValueToken;\n\nexport const isLength = (token: CSSValue): token is Length =>\n    token.type === TokenType.NUMBER_TOKEN || token.type === TokenType.DIMENSION_TOKEN;\n", "import {DimensionToken, FLAG_INTEGER, NumberValueToken, TokenType} from '../syntax/tokenizer';\nimport {CSSValue, isDimensionToken} from '../syntax/parser';\nimport {isLength} from './length';\nexport type LengthPercentage = DimensionToken | NumberValueToken;\nexport type LengthPercentageTuple = [LengthPercentage] | [LengthPercentage, LengthPercentage];\n\nexport const isLengthPercentage = (token: CSSValue): token is LengthPercentage =>\n    token.type === TokenType.PERCENTAGE_TOKEN || isLength(token);\nexport const parseLengthPercentageTuple = (tokens: LengthPercentage[]): LengthPercentageTuple =>\n    tokens.length > 1 ? [tokens[0], tokens[1]] : [tokens[0]];\nexport const ZERO_LENGTH: NumberValueToken = {\n    type: TokenType.NUMBER_TOKEN,\n    number: 0,\n    flags: FLAG_INTEGER\n};\n\nexport const FIFTY_PERCENT: NumberValueToken = {\n    type: TokenType.PERCENTAGE_TOKEN,\n    number: 50,\n    flags: FLAG_INTEGER\n};\n\nexport const HUNDRED_PERCENT: NumberValueToken = {\n    type: TokenType.PERCENTAGE_TOKEN,\n    number: 100,\n    flags: FLAG_INTEGER\n};\n\nexport const getAbsoluteValueForTuple = (\n    tuple: LengthPercentageTuple,\n    width: number,\n    height: number\n): [number, number] => {\n    const [x, y] = tuple;\n    return [getAbsoluteValue(x, width), getAbsoluteValue(typeof y !== 'undefined' ? y : x, height)];\n};\nexport const getAbsoluteValue = (token: LengthPercentage, parent: number): number => {\n    if (token.type === TokenType.PERCENTAGE_TOKEN) {\n        return (token.number / 100) * parent;\n    }\n\n    if (isDimensionToken(token)) {\n        switch (token.unit) {\n            case 'rem':\n            case 'em':\n                return 16 * token.number; // TODO use correct font-size\n            case 'px':\n            default:\n                return token.number;\n        }\n    }\n\n    return token.number;\n};\n", "import {CSSValue, isIdentToken} from '../syntax/parser';\nimport {TokenType} from '../syntax/tokenizer';\nimport {ITypeDescriptor} from '../ITypeDescriptor';\nimport {HUNDRED_PERCENT, ZERO_LENGTH} from './length-percentage';\nimport {GradientCorner} from './image';\nimport {Context} from '../../core/context';\n\nconst DEG = 'deg';\nconst GRAD = 'grad';\nconst RAD = 'rad';\nconst TURN = 'turn';\n\nexport const angle: ITypeDescriptor<number> = {\n    name: 'angle',\n    parse: (_context: Context, value: CSSValue): number => {\n        if (value.type === TokenType.DIMENSION_TOKEN) {\n            switch (value.unit) {\n                case DEG:\n                    return (Math.PI * value.number) / 180;\n                case GRAD:\n                    return (Math.PI / 200) * value.number;\n                case RAD:\n                    return value.number;\n                case TURN:\n                    return Math.PI * 2 * value.number;\n            }\n        }\n\n        throw new Error(`Unsupported angle type`);\n    }\n};\n\nexport const isAngle = (value: CSSValue): boolean => {\n    if (value.type === TokenType.DIMENSION_TOKEN) {\n        if (value.unit === DEG || value.unit === GRAD || value.unit === RAD || value.unit === TURN) {\n            return true;\n        }\n    }\n    return false;\n};\n\nexport const parseNamedSide = (tokens: CSSValue[]): number | GradientCorner => {\n    const sideOrCorner = tokens\n        .filter(isIdentToken)\n        .map((ident) => ident.value)\n        .join(' ');\n\n    switch (sideOrCorner) {\n        case 'to bottom right':\n        case 'to right bottom':\n        case 'left top':\n        case 'top left':\n            return [ZERO_LENGTH, ZERO_LENGTH];\n        case 'to top':\n        case 'bottom':\n            return deg(0);\n        case 'to bottom left':\n        case 'to left bottom':\n        case 'right top':\n        case 'top right':\n            return [ZERO_LENGTH, HUNDRED_PERCENT];\n        case 'to right':\n        case 'left':\n            return deg(90);\n        case 'to top left':\n        case 'to left top':\n        case 'right bottom':\n        case 'bottom right':\n            return [HUNDRED_PERCENT, HUNDRED_PERCENT];\n        case 'to bottom':\n        case 'top':\n            return deg(180);\n        case 'to top right':\n        case 'to right top':\n        case 'left bottom':\n        case 'bottom left':\n            return [HUNDRED_PERCENT, ZERO_LENGTH];\n        case 'to left':\n        case 'right':\n            return deg(270);\n    }\n\n    return 0;\n};\n\nexport const deg = (deg: number): number => (Math.PI * deg) / 180;\n", "import {CSSValue, nonFunctionArgSeparator, Parser} from '../syntax/parser';\nimport {TokenType} from '../syntax/tokenizer';\nimport {ITypeDescriptor} from '../ITypeDescriptor';\nimport {angle, deg} from './angle';\nimport {getAbsoluteValue, isLengthPercentage} from './length-percentage';\nimport {Context} from '../../core/context';\nexport type Color = number;\n\nexport const color: ITypeDescriptor<Color> = {\n    name: 'color',\n    parse: (context: Context, value: CSSValue): Color => {\n        if (value.type === TokenType.FUNCTION) {\n            const colorFunction = SUPPORTED_COLOR_FUNCTIONS[value.name];\n            if (typeof colorFunction === 'undefined') {\n                throw new Error(`Attempting to parse an unsupported color function \"${value.name}\"`);\n            }\n            return colorFunction(context, value.values);\n        }\n\n        if (value.type === TokenType.HASH_TOKEN) {\n            if (value.value.length === 3) {\n                const r = value.value.substring(0, 1);\n                const g = value.value.substring(1, 2);\n                const b = value.value.substring(2, 3);\n                return pack(parseInt(r + r, 16), parseInt(g + g, 16), parseInt(b + b, 16), 1);\n            }\n\n            if (value.value.length === 4) {\n                const r = value.value.substring(0, 1);\n                const g = value.value.substring(1, 2);\n                const b = value.value.substring(2, 3);\n                const a = value.value.substring(3, 4);\n                return pack(parseInt(r + r, 16), parseInt(g + g, 16), parseInt(b + b, 16), parseInt(a + a, 16) / 255);\n            }\n\n            if (value.value.length === 6) {\n                const r = value.value.substring(0, 2);\n                const g = value.value.substring(2, 4);\n                const b = value.value.substring(4, 6);\n                return pack(parseInt(r, 16), parseInt(g, 16), parseInt(b, 16), 1);\n            }\n\n            if (value.value.length === 8) {\n                const r = value.value.substring(0, 2);\n                const g = value.value.substring(2, 4);\n                const b = value.value.substring(4, 6);\n                const a = value.value.substring(6, 8);\n                return pack(parseInt(r, 16), parseInt(g, 16), parseInt(b, 16), parseInt(a, 16) / 255);\n            }\n        }\n\n        if (value.type === TokenType.IDENT_TOKEN) {\n            const namedColor = COLORS[value.value.toUpperCase()];\n            if (typeof namedColor !== 'undefined') {\n                return namedColor;\n            }\n        }\n\n        return COLORS.TRANSPARENT;\n    }\n};\n\nexport const isTransparent = (color: Color): boolean => (0xff & color) === 0;\n\nexport const asString = (color: Color): string => {\n    const alpha = 0xff & color;\n    const blue = 0xff & (color >> 8);\n    const green = 0xff & (color >> 16);\n    const red = 0xff & (color >> 24);\n    return alpha < 255 ? `rgba(${red},${green},${blue},${alpha / 255})` : `rgb(${red},${green},${blue})`;\n};\n\nexport const pack = (r: number, g: number, b: number, a: number): Color =>\n    ((r << 24) | (g << 16) | (b << 8) | (Math.round(a * 255) << 0)) >>> 0;\n\nconst getTokenColorValue = (token: CSSValue, i: number): number => {\n    if (token.type === TokenType.NUMBER_TOKEN) {\n        return token.number;\n    }\n\n    if (token.type === TokenType.PERCENTAGE_TOKEN) {\n        const max = i === 3 ? 1 : 255;\n        return i === 3 ? (token.number / 100) * max : Math.round((token.number / 100) * max);\n    }\n\n    return 0;\n};\n\nconst rgb = (_context: Context, args: CSSValue[]): number => {\n    const tokens = args.filter(nonFunctionArgSeparator);\n\n    if (tokens.length === 3) {\n        const [r, g, b] = tokens.map(getTokenColorValue);\n        return pack(r, g, b, 1);\n    }\n\n    if (tokens.length === 4) {\n        const [r, g, b, a] = tokens.map(getTokenColorValue);\n        return pack(r, g, b, a);\n    }\n\n    return 0;\n};\n\nfunction hue2rgb(t1: number, t2: number, hue: number): number {\n    if (hue < 0) {\n        hue += 1;\n    }\n    if (hue >= 1) {\n        hue -= 1;\n    }\n\n    if (hue < 1 / 6) {\n        return (t2 - t1) * hue * 6 + t1;\n    } else if (hue < 1 / 2) {\n        return t2;\n    } else if (hue < 2 / 3) {\n        return (t2 - t1) * 6 * (2 / 3 - hue) + t1;\n    } else {\n        return t1;\n    }\n}\n\nconst hsl = (context: Context, args: CSSValue[]): number => {\n    const tokens = args.filter(nonFunctionArgSeparator);\n    const [hue, saturation, lightness, alpha] = tokens;\n\n    const h = (hue.type === TokenType.NUMBER_TOKEN ? deg(hue.number) : angle.parse(context, hue)) / (Math.PI * 2);\n    const s = isLengthPercentage(saturation) ? saturation.number / 100 : 0;\n    const l = isLengthPercentage(lightness) ? lightness.number / 100 : 0;\n    const a = typeof alpha !== 'undefined' && isLengthPercentage(alpha) ? getAbsoluteValue(alpha, 1) : 1;\n\n    if (s === 0) {\n        return pack(l * 255, l * 255, l * 255, 1);\n    }\n\n    const t2 = l <= 0.5 ? l * (s + 1) : l + s - l * s;\n\n    const t1 = l * 2 - t2;\n    const r = hue2rgb(t1, t2, h + 1 / 3);\n    const g = hue2rgb(t1, t2, h);\n    const b = hue2rgb(t1, t2, h - 1 / 3);\n    return pack(r * 255, g * 255, b * 255, a);\n};\n\nconst SUPPORTED_COLOR_FUNCTIONS: {\n    [key: string]: (context: Context, args: CSSValue[]) => number;\n} = {\n    hsl: hsl,\n    hsla: hsl,\n    rgb: rgb,\n    rgba: rgb\n};\n\nexport const parseColor = (context: Context, value: string): Color =>\n    color.parse(context, Parser.create(value).parseComponentValue());\n\nexport const COLORS: {[key: string]: Color} = {\n    ALICEBLUE: 0xf0f8ffff,\n    ANTIQUEWHITE: 0xfaebd7ff,\n    AQUA: 0x00ffffff,\n    AQUAMARINE: 0x7fffd4ff,\n    AZURE: 0xf0ffffff,\n    BEIGE: 0xf5f5dcff,\n    BISQUE: 0xffe4c4ff,\n    BLACK: 0x000000ff,\n    BLANCHEDALMOND: 0xffebcdff,\n    BLUE: 0x0000ffff,\n    BLUEVIOLET: 0x8a2be2ff,\n    BROWN: 0xa52a2aff,\n    BURLYWOOD: 0xdeb887ff,\n    CADETBLUE: 0x5f9ea0ff,\n    CHARTREUSE: 0x7fff00ff,\n    CHOCOLATE: 0xd2691eff,\n    CORAL: 0xff7f50ff,\n    CORNFLOWERBLUE: 0x6495edff,\n    CORNSILK: 0xfff8dcff,\n    CRIMSON: 0xdc143cff,\n    CYAN: 0x00ffffff,\n    DARKBLUE: 0x00008bff,\n    DARKCYAN: 0x008b8bff,\n    DARKGOLDENROD: 0xb886bbff,\n    DARKGRAY: 0xa9a9a9ff,\n    DARKGREEN: 0x006400ff,\n    DARKGREY: 0xa9a9a9ff,\n    DARKKHAKI: 0xbdb76bff,\n    DARKMAGENTA: 0x8b008bff,\n    DARKOLIVEGREEN: 0x556b2fff,\n    DARKORANGE: 0xff8c00ff,\n    DARKORCHID: 0x9932ccff,\n    DARKRED: 0x8b0000ff,\n    DARKSALMON: 0xe9967aff,\n    DARKSEAGREEN: 0x8fbc8fff,\n    DARKSLATEBLUE: 0x483d8bff,\n    DARKSLATEGRAY: 0x2f4f4fff,\n    DARKSLATEGREY: 0x2f4f4fff,\n    DARKTURQUOISE: 0x00ced1ff,\n    DARKVIOLET: 0x9400d3ff,\n    DEEPPINK: 0xff1493ff,\n    DEEPSKYBLUE: 0x00bfffff,\n    DIMGRAY: 0x696969ff,\n    DIMGREY: 0x696969ff,\n    DODGERBLUE: 0x1e90ffff,\n    FIREBRICK: 0xb22222ff,\n    FLORALWHITE: 0xfffaf0ff,\n    FORESTGREEN: 0x228b22ff,\n    FUCHSIA: 0xff00ffff,\n    GAINSBORO: 0xdcdcdcff,\n    GHOSTWHITE: 0xf8f8ffff,\n    GOLD: 0xffd700ff,\n    GOLDENROD: 0xdaa520ff,\n    GRAY: 0x808080ff,\n    GREEN: 0x008000ff,\n    GREENYELLOW: 0xadff2fff,\n    GREY: 0x808080ff,\n    HONEYDEW: 0xf0fff0ff,\n    HOTPINK: 0xff69b4ff,\n    INDIANRED: 0xcd5c5cff,\n    INDIGO: 0x4b0082ff,\n    IVORY: 0xfffff0ff,\n    KHAKI: 0xf0e68cff,\n    LAVENDER: 0xe6e6faff,\n    LAVENDERBLUSH: 0xfff0f5ff,\n    LAWNGREEN: 0x7cfc00ff,\n    LEMONCHIFFON: 0xfffacdff,\n    LIGHTBLUE: 0xadd8e6ff,\n    LIGHTCORAL: 0xf08080ff,\n    LIGHTCYAN: 0xe0ffffff,\n    LIGHTGOLDENRODYELLOW: 0xfafad2ff,\n    LIGHTGRAY: 0xd3d3d3ff,\n    LIGHTGREEN: 0x90ee90ff,\n    LIGHTGREY: 0xd3d3d3ff,\n    LIGHTPINK: 0xffb6c1ff,\n    LIGHTSALMON: 0xffa07aff,\n    LIGHTSEAGREEN: 0x20b2aaff,\n    LIGHTSKYBLUE: 0x87cefaff,\n    LIGHTSLATEGRAY: 0x778899ff,\n    LIGHTSLATEGREY: 0x778899ff,\n    LIGHTSTEELBLUE: 0xb0c4deff,\n    LIGHTYELLOW: 0xffffe0ff,\n    LIME: 0x00ff00ff,\n    LIMEGREEN: 0x32cd32ff,\n    LINEN: 0xfaf0e6ff,\n    MAGENTA: 0xff00ffff,\n    MAROON: 0x800000ff,\n    MEDIUMAQUAMARINE: 0x66cdaaff,\n    MEDIUMBLUE: 0x0000cdff,\n    MEDIUMORCHID: 0xba55d3ff,\n    MEDIUMPURPLE: 0x9370dbff,\n    MEDIUMSEAGREEN: 0x3cb371ff,\n    MEDIUMSLATEBLUE: 0x7b68eeff,\n    MEDIUMSPRINGGREEN: 0x00fa9aff,\n    MEDIUMTURQUOISE: 0x48d1ccff,\n    MEDIUMVIOLETRED: 0xc71585ff,\n    MIDNIGHTBLUE: 0x191970ff,\n    MINTCREAM: 0xf5fffaff,\n    MISTYROSE: 0xffe4e1ff,\n    MOCCASIN: 0xffe4b5ff,\n    NAVAJOWHITE: 0xffdeadff,\n    NAVY: 0x000080ff,\n    OLDLACE: 0xfdf5e6ff,\n    OLIVE: 0x808000ff,\n    OLIVEDRAB: 0x6b8e23ff,\n    ORANGE: 0xffa500ff,\n    ORANGERED: 0xff4500ff,\n    ORCHID: 0xda70d6ff,\n    PALEGOLDENROD: 0xeee8aaff,\n    PALEGREEN: 0x98fb98ff,\n    PALETURQUOISE: 0xafeeeeff,\n    PALEVIOLETRED: 0xdb7093ff,\n    PAPAYAWHIP: 0xffefd5ff,\n    PEACHPUFF: 0xffdab9ff,\n    PERU: 0xcd853fff,\n    PINK: 0xffc0cbff,\n    PLUM: 0xdda0ddff,\n    POWDERBLUE: 0xb0e0e6ff,\n    PURPLE: 0x800080ff,\n    REBECCAPURPLE: 0x663399ff,\n    RED: 0xff0000ff,\n    ROSYBROWN: 0xbc8f8fff,\n    ROYALBLUE: 0x4169e1ff,\n    SADDLEBROWN: 0x8b4513ff,\n    SALMON: 0xfa8072ff,\n    SANDYBROWN: 0xf4a460ff,\n    SEAGREEN: 0x2e8b57ff,\n    SEASHELL: 0xfff5eeff,\n    SIENNA: 0xa0522dff,\n    SILVER: 0xc0c0c0ff,\n    SKYBLUE: 0x87ceebff,\n    SLATEBLUE: 0x6a5acdff,\n    SLATEGRAY: 0x708090ff,\n    SLATEGREY: 0x708090ff,\n    SNOW: 0xfffafaff,\n    SPRINGGREEN: 0x00ff7fff,\n    STEELBLUE: 0x4682b4ff,\n    TAN: 0xd2b48cff,\n    TEAL: 0x008080ff,\n    THISTLE: 0xd8bfd8ff,\n    TOMATO: 0xff6347ff,\n    TRANSPARENT: 0x00000000,\n    TURQUOISE: 0x40e0d0ff,\n    VIOLET: 0xee82eeff,\n    WHEAT: 0xf5deb3ff,\n    WHITE: 0xffffffff,\n    WHITESMOKE: 0xf5f5f5ff,\n    YELLOW: 0xffff00ff,\n    YELLOWGREEN: 0x9acd32ff\n};\n", "import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken} from '../syntax/parser';\nimport {Context} from '../../core/context';\nexport const enum BACKGROUND_CLIP {\n    BORDER_BOX = 0,\n    PADDING_BOX = 1,\n    CONTENT_BOX = 2\n}\n\nexport type BackgroundClip = BACKGROUND_CLIP[];\n\nexport const backgroundClip: IPropertyListDescriptor<BackgroundClip> = {\n    name: 'background-clip',\n    initialValue: 'border-box',\n    prefix: false,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (_context: Context, tokens: CSSValue[]): BackgroundClip => {\n        return tokens.map((token) => {\n            if (isIdentToken(token)) {\n                switch (token.value) {\n                    case 'padding-box':\n                        return BACKGROUND_CLIP.PADDING_BOX;\n                    case 'content-box':\n                        return BACKGROUND_CLIP.CONTENT_BOX;\n                }\n            }\n            return BACKGROUND_CLIP.BORDER_BOX;\n        });\n    }\n};\n", "import {IPropertyTypeValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\n\nexport const backgroundColor: IPropertyTypeValueDescriptor = {\n    name: `background-color`,\n    initialValue: 'transparent',\n    prefix: false,\n    type: PropertyDescriptorParsingType.TYPE_VALUE,\n    format: 'color'\n};\n", "import {CSSValue} from '../../syntax/parser';\nimport {\n    CSSRadialExtent,\n    CSSRadialGradientImage,\n    CSSRadialShape,\n    GradientColorStop,\n    GradientCorner,\n    UnprocessedGradientColorStop\n} from '../image';\nimport {color as colorType} from '../color';\nimport {getAbsoluteValue, HUNDRED_PERCENT, isLengthPercentage, ZERO_LENGTH} from '../length-percentage';\nimport {Context} from '../../../core/context';\n\nexport const parseColorStop = (context: Context, args: CSSValue[]): UnprocessedGradientColorStop => {\n    const color = colorType.parse(context, args[0]);\n    const stop = args[1];\n    return stop && isLengthPercentage(stop) ? {color, stop} : {color, stop: null};\n};\n\nexport const processColorStops = (stops: UnprocessedGradientColorStop[], lineLength: number): GradientColorStop[] => {\n    const first = stops[0];\n    const last = stops[stops.length - 1];\n    if (first.stop === null) {\n        first.stop = ZERO_LENGTH;\n    }\n\n    if (last.stop === null) {\n        last.stop = HUNDRED_PERCENT;\n    }\n\n    const processStops: (number | null)[] = [];\n    let previous = 0;\n    for (let i = 0; i < stops.length; i++) {\n        const stop = stops[i].stop;\n        if (stop !== null) {\n            const absoluteValue = getAbsoluteValue(stop, lineLength);\n            if (absoluteValue > previous) {\n                processStops.push(absoluteValue);\n            } else {\n                processStops.push(previous);\n            }\n            previous = absoluteValue;\n        } else {\n            processStops.push(null);\n        }\n    }\n\n    let gapBegin = null;\n    for (let i = 0; i < processStops.length; i++) {\n        const stop = processStops[i];\n        if (stop === null) {\n            if (gapBegin === null) {\n                gapBegin = i;\n            }\n        } else if (gapBegin !== null) {\n            const gapLength = i - gapBegin;\n            const beforeGap = processStops[gapBegin - 1] as number;\n            const gapValue = (stop - beforeGap) / (gapLength + 1);\n            for (let g = 1; g <= gapLength; g++) {\n                processStops[gapBegin + g - 1] = gapValue * g;\n            }\n            gapBegin = null;\n        }\n    }\n\n    return stops.map(({color}, i) => {\n        return {color, stop: Math.max(Math.min(1, (processStops[i] as number) / lineLength), 0)};\n    });\n};\n\nconst getAngleFromCorner = (corner: GradientCorner, width: number, height: number): number => {\n    const centerX = width / 2;\n    const centerY = height / 2;\n    const x = getAbsoluteValue(corner[0], width) - centerX;\n    const y = centerY - getAbsoluteValue(corner[1], height);\n\n    return (Math.atan2(y, x) + Math.PI * 2) % (Math.PI * 2);\n};\n\nexport const calculateGradientDirection = (\n    angle: number | GradientCorner,\n    width: number,\n    height: number\n): [number, number, number, number, number] => {\n    const radian = typeof angle === 'number' ? angle : getAngleFromCorner(angle, width, height);\n\n    const lineLength = Math.abs(width * Math.sin(radian)) + Math.abs(height * Math.cos(radian));\n\n    const halfWidth = width / 2;\n    const halfHeight = height / 2;\n    const halfLineLength = lineLength / 2;\n\n    const yDiff = Math.sin(radian - Math.PI / 2) * halfLineLength;\n    const xDiff = Math.cos(radian - Math.PI / 2) * halfLineLength;\n\n    return [lineLength, halfWidth - xDiff, halfWidth + xDiff, halfHeight - yDiff, halfHeight + yDiff];\n};\n\nconst distance = (a: number, b: number): number => Math.sqrt(a * a + b * b);\n\nconst findCorner = (width: number, height: number, x: number, y: number, closest: boolean): [number, number] => {\n    const corners = [\n        [0, 0],\n        [0, height],\n        [width, 0],\n        [width, height]\n    ];\n\n    return corners.reduce(\n        (stat, corner) => {\n            const [cx, cy] = corner;\n            const d = distance(x - cx, y - cy);\n            if (closest ? d < stat.optimumDistance : d > stat.optimumDistance) {\n                return {\n                    optimumCorner: corner,\n                    optimumDistance: d\n                };\n            }\n\n            return stat;\n        },\n        {\n            optimumDistance: closest ? Infinity : -Infinity,\n            optimumCorner: null\n        }\n    ).optimumCorner as [number, number];\n};\n\nexport const calculateRadius = (\n    gradient: CSSRadialGradientImage,\n    x: number,\n    y: number,\n    width: number,\n    height: number\n): [number, number] => {\n    let rx = 0;\n    let ry = 0;\n\n    switch (gradient.size) {\n        case CSSRadialExtent.CLOSEST_SIDE:\n            // The ending shape is sized so that that it exactly meets the side of the gradient box closest to the gradients center.\n            // If the shape is an ellipse, it exactly meets the closest side in each dimension.\n            if (gradient.shape === CSSRadialShape.CIRCLE) {\n                rx = ry = Math.min(Math.abs(x), Math.abs(x - width), Math.abs(y), Math.abs(y - height));\n            } else if (gradient.shape === CSSRadialShape.ELLIPSE) {\n                rx = Math.min(Math.abs(x), Math.abs(x - width));\n                ry = Math.min(Math.abs(y), Math.abs(y - height));\n            }\n            break;\n\n        case CSSRadialExtent.CLOSEST_CORNER:\n            // The ending shape is sized so that that it passes through the corner of the gradient box closest to the gradients center.\n            // If the shape is an ellipse, the ending shape is given the same aspect-ratio it would have if closest-side were specified.\n            if (gradient.shape === CSSRadialShape.CIRCLE) {\n                rx = ry = Math.min(\n                    distance(x, y),\n                    distance(x, y - height),\n                    distance(x - width, y),\n                    distance(x - width, y - height)\n                );\n            } else if (gradient.shape === CSSRadialShape.ELLIPSE) {\n                // Compute the ratio ry/rx (which is to be the same as for \"closest-side\")\n                const c = Math.min(Math.abs(y), Math.abs(y - height)) / Math.min(Math.abs(x), Math.abs(x - width));\n                const [cx, cy] = findCorner(width, height, x, y, true);\n                rx = distance(cx - x, (cy - y) / c);\n                ry = c * rx;\n            }\n            break;\n\n        case CSSRadialExtent.FARTHEST_SIDE:\n            // Same as closest-side, except the ending shape is sized based on the farthest side(s)\n            if (gradient.shape === CSSRadialShape.CIRCLE) {\n                rx = ry = Math.max(Math.abs(x), Math.abs(x - width), Math.abs(y), Math.abs(y - height));\n            } else if (gradient.shape === CSSRadialShape.ELLIPSE) {\n                rx = Math.max(Math.abs(x), Math.abs(x - width));\n                ry = Math.max(Math.abs(y), Math.abs(y - height));\n            }\n            break;\n\n        case CSSRadialExtent.FARTHEST_CORNER:\n            // Same as closest-corner, except the ending shape is sized based on the farthest corner.\n            // If the shape is an ellipse, the ending shape is given the same aspect ratio it would have if farthest-side were specified.\n            if (gradient.shape === CSSRadialShape.CIRCLE) {\n                rx = ry = Math.max(\n                    distance(x, y),\n                    distance(x, y - height),\n                    distance(x - width, y),\n                    distance(x - width, y - height)\n                );\n            } else if (gradient.shape === CSSRadialShape.ELLIPSE) {\n                // Compute the ratio ry/rx (which is to be the same as for \"farthest-side\")\n                const c = Math.max(Math.abs(y), Math.abs(y - height)) / Math.max(Math.abs(x), Math.abs(x - width));\n                const [cx, cy] = findCorner(width, height, x, y, false);\n                rx = distance(cx - x, (cy - y) / c);\n                ry = c * rx;\n            }\n            break;\n    }\n\n    if (Array.isArray(gradient.size)) {\n        rx = getAbsoluteValue(gradient.size[0], width);\n        ry = gradient.size.length === 2 ? getAbsoluteValue(gradient.size[1], height) : rx;\n    }\n\n    return [rx, ry];\n};\n", "import {CSSValue, parseFunctionArgs} from '../../syntax/parser';\nimport {TokenType} from '../../syntax/tokenizer';\nimport {isAngle, angle as angleType, parseNamedSide, deg} from '../angle';\nimport {CSSImageType, CSSLinearGradientImage, GradientCorner, UnprocessedGradientColorStop} from '../image';\nimport {parseColorStop} from './gradient';\nimport {Context} from '../../../core/context';\n\nexport const linearGradient = (context: Context, tokens: CSSValue[]): CSSLinearGradientImage => {\n    let angle: number | GradientCorner = deg(180);\n    const stops: UnprocessedGradientColorStop[] = [];\n\n    parseFunctionArgs(tokens).forEach((arg, i) => {\n        if (i === 0) {\n            const firstToken = arg[0];\n            if (firstToken.type === TokenType.IDENT_TOKEN && firstToken.value === 'to') {\n                angle = parseNamedSide(arg);\n                return;\n            } else if (isAngle(firstToken)) {\n                angle = angleType.parse(context, firstToken);\n                return;\n            }\n        }\n        const colorStop = parseColorStop(context, arg);\n        stops.push(colorStop);\n    });\n\n    return {angle, stops, type: CSSImageType.LINEAR_GRADIENT};\n};\n", "import {CSSValue, parseFunctionArgs} from '../../syntax/parser';\nimport {CSSImageType, CSSLinearGradientImage, GradientCorner, UnprocessedGradientColorStop} from '../image';\nimport {TokenType} from '../../syntax/tokenizer';\nimport {isAngle, angle as angleType, parseNamedSide, deg} from '../angle';\nimport {parseColorStop} from './gradient';\nimport {Context} from '../../../core/context';\n\nexport const prefixLinearGradient = (context: Context, tokens: CSSValue[]): CSSLinearGradientImage => {\n    let angle: number | GradientCorner = deg(180);\n    const stops: UnprocessedGradientColorStop[] = [];\n\n    parseFunctionArgs(tokens).forEach((arg, i) => {\n        if (i === 0) {\n            const firstToken = arg[0];\n            if (\n                firstToken.type === TokenType.IDENT_TOKEN &&\n                ['top', 'left', 'right', 'bottom'].indexOf(firstToken.value) !== -1\n            ) {\n                angle = parseNamedSide(arg);\n                return;\n            } else if (isAngle(firstToken)) {\n                angle = (angleType.parse(context, firstToken) + deg(270)) % deg(360);\n                return;\n            }\n        }\n        const colorStop = parseColorStop(context, arg);\n        stops.push(colorStop);\n    });\n\n    return {\n        angle,\n        stops,\n        type: CSSImageType.LINEAR_GRADIENT\n    };\n};\n", "import {CSSValue, isIdentToken, isNumberToken, nonFunctionArgSeparator, parseFunctionArgs} from '../../syntax/parser';\nimport {\n    CSSImageType,\n    CSSLinearGradientImage,\n    CSSRadialExtent,\n    CSSRadialGradientImage,\n    CSSRadialShape,\n    CSSRadialSize,\n    UnprocessedGradientColorStop\n} from '../image';\nimport {deg} from '../angle';\nimport {TokenType} from '../../syntax/tokenizer';\nimport {color as colorType} from '../color';\nimport {HUNDRED_PERCENT, LengthPercentage, ZERO_LENGTH} from '../length-percentage';\nimport {Context} from '../../../core/context';\n\nexport const webkitGradient = (\n    context: Context,\n    tokens: CSSValue[]\n): CSSLinearGradientImage | CSSRadialGradientImage => {\n    const angle = deg(180);\n    const stops: UnprocessedGradientColorStop[] = [];\n    let type = CSSImageType.LINEAR_GRADIENT;\n    const shape: CSSRadialShape = CSSRadialShape.CIRCLE;\n    const size: CSSRadialSize = CSSRadialExtent.FARTHEST_CORNER;\n    const position: LengthPercentage[] = [];\n    parseFunctionArgs(tokens).forEach((arg, i) => {\n        const firstToken = arg[0];\n        if (i === 0) {\n            if (isIdentToken(firstToken) && firstToken.value === 'linear') {\n                type = CSSImageType.LINEAR_GRADIENT;\n                return;\n            } else if (isIdentToken(firstToken) && firstToken.value === 'radial') {\n                type = CSSImageType.RADIAL_GRADIENT;\n                return;\n            }\n        }\n\n        if (firstToken.type === TokenType.FUNCTION) {\n            if (firstToken.name === 'from') {\n                const color = colorType.parse(context, firstToken.values[0]);\n                stops.push({stop: ZERO_LENGTH, color});\n            } else if (firstToken.name === 'to') {\n                const color = colorType.parse(context, firstToken.values[0]);\n                stops.push({stop: HUNDRED_PERCENT, color});\n            } else if (firstToken.name === 'color-stop') {\n                const values = firstToken.values.filter(nonFunctionArgSeparator);\n                if (values.length === 2) {\n                    const color = colorType.parse(context, values[1]);\n                    const stop = values[0];\n                    if (isNumberToken(stop)) {\n                        stops.push({\n                            stop: {type: TokenType.PERCENTAGE_TOKEN, number: stop.number * 100, flags: stop.flags},\n                            color\n                        });\n                    }\n                }\n            }\n        }\n    });\n\n    return type === CSSImageType.LINEAR_GRADIENT\n        ? {\n              angle: (angle + deg(180)) % deg(360),\n              stops,\n              type\n          }\n        : {size, shape, stops, position, type};\n};\n", "import {CSSValue, isIdentToken, parseFunctionArgs} from '../../syntax/parser';\nimport {\n    CSSImageType,\n    CSSRadialExtent,\n    CSSRadialGradientImage,\n    CSSRadialShape,\n    CSSRadialSize,\n    UnprocessedGradientColorStop\n} from '../image';\nimport {parseColorStop} from './gradient';\nimport {FIFTY_PERCENT, HUNDRED_PERCENT, isLengthPercentage, LengthPercentage, ZERO_LENGTH} from '../length-percentage';\nimport {isLength} from '../length';\nimport {Context} from '../../../core/context';\nexport const CLOSEST_SIDE = 'closest-side';\nexport const FARTHEST_SIDE = 'farthest-side';\nexport const CLOSEST_CORNER = 'closest-corner';\nexport const FARTHEST_CORNER = 'farthest-corner';\nexport const CIRCLE = 'circle';\nexport const ELLIPSE = 'ellipse';\nexport const COVER = 'cover';\nexport const CONTAIN = 'contain';\n\nexport const radialGradient = (context: Context, tokens: CSSValue[]): CSSRadialGradientImage => {\n    let shape: CSSRadialShape = CSSRadialShape.CIRCLE;\n    let size: CSSRadialSize = CSSRadialExtent.FARTHEST_CORNER;\n    const stops: UnprocessedGradientColorStop[] = [];\n    const position: LengthPercentage[] = [];\n    parseFunctionArgs(tokens).forEach((arg, i) => {\n        let isColorStop = true;\n        if (i === 0) {\n            let isAtPosition = false;\n            isColorStop = arg.reduce((acc, token) => {\n                if (isAtPosition) {\n                    if (isIdentToken(token)) {\n                        switch (token.value) {\n                            case 'center':\n                                position.push(FIFTY_PERCENT);\n                                return acc;\n                            case 'top':\n                            case 'left':\n                                position.push(ZERO_LENGTH);\n                                return acc;\n                            case 'right':\n                            case 'bottom':\n                                position.push(HUNDRED_PERCENT);\n                                return acc;\n                        }\n                    } else if (isLengthPercentage(token) || isLength(token)) {\n                        position.push(token);\n                    }\n                } else if (isIdentToken(token)) {\n                    switch (token.value) {\n                        case CIRCLE:\n                            shape = CSSRadialShape.CIRCLE;\n                            return false;\n                        case ELLIPSE:\n                            shape = CSSRadialShape.ELLIPSE;\n                            return false;\n                        case 'at':\n                            isAtPosition = true;\n                            return false;\n                        case CLOSEST_SIDE:\n                            size = CSSRadialExtent.CLOSEST_SIDE;\n                            return false;\n                        case COVER:\n                        case FARTHEST_SIDE:\n                            size = CSSRadialExtent.FARTHEST_SIDE;\n                            return false;\n                        case CONTAIN:\n                        case CLOSEST_CORNER:\n                            size = CSSRadialExtent.CLOSEST_CORNER;\n                            return false;\n                        case FARTHEST_CORNER:\n                            size = CSSRadialExtent.FARTHEST_CORNER;\n                            return false;\n                    }\n                } else if (isLength(token) || isLengthPercentage(token)) {\n                    if (!Array.isArray(size)) {\n                        size = [];\n                    }\n                    size.push(token);\n                    return false;\n                }\n                return acc;\n            }, isColorStop);\n        }\n\n        if (isColorStop) {\n            const colorStop = parseColorStop(context, arg);\n            stops.push(colorStop);\n        }\n    });\n\n    return {size, shape, stops, position, type: CSSImageType.RADIAL_GRADIENT};\n};\n", "import {CSSValue, isIdentToken, parseFunctionArgs} from '../../syntax/parser';\nimport {\n    CSSImageType,\n    CSSRadialExtent,\n    CSSRadialGradientImage,\n    CSSRadialShape,\n    CSSRadialSize,\n    UnprocessedGradientColorStop\n} from '../image';\nimport {parseColorStop} from './gradient';\nimport {FIFTY_PERCENT, HUNDRED_PERCENT, isLengthPercentage, LengthPercentage, ZERO_LENGTH} from '../length-percentage';\nimport {isLength} from '../length';\nimport {\n    CIRCLE,\n    CLOSEST_CORNER,\n    CLOSEST_SIDE,\n    CONTAIN,\n    COVER,\n    ELLIPSE,\n    FARTHEST_CORNER,\n    FARTHEST_SIDE\n} from './radial-gradient';\nimport {Context} from '../../../core/context';\n\nexport const prefixRadialGradient = (context: Context, tokens: CSSValue[]): CSSRadialGradientImage => {\n    let shape: CSSRadialShape = CSSRadialShape.CIRCLE;\n    let size: CSSRadialSize = CSSRadialExtent.FARTHEST_CORNER;\n    const stops: UnprocessedGradientColorStop[] = [];\n    const position: LengthPercentage[] = [];\n\n    parseFunctionArgs(tokens).forEach((arg, i) => {\n        let isColorStop = true;\n        if (i === 0) {\n            isColorStop = arg.reduce((acc, token) => {\n                if (isIdentToken(token)) {\n                    switch (token.value) {\n                        case 'center':\n                            position.push(FIFTY_PERCENT);\n                            return false;\n                        case 'top':\n                        case 'left':\n                            position.push(ZERO_LENGTH);\n                            return false;\n                        case 'right':\n                        case 'bottom':\n                            position.push(HUNDRED_PERCENT);\n                            return false;\n                    }\n                } else if (isLengthPercentage(token) || isLength(token)) {\n                    position.push(token);\n                    return false;\n                }\n\n                return acc;\n            }, isColorStop);\n        } else if (i === 1) {\n            isColorStop = arg.reduce((acc, token) => {\n                if (isIdentToken(token)) {\n                    switch (token.value) {\n                        case CIRCLE:\n                            shape = CSSRadialShape.CIRCLE;\n                            return false;\n                        case ELLIPSE:\n                            shape = CSSRadialShape.ELLIPSE;\n                            return false;\n                        case CONTAIN:\n                        case CLOSEST_SIDE:\n                            size = CSSRadialExtent.CLOSEST_SIDE;\n                            return false;\n                        case FARTHEST_SIDE:\n                            size = CSSRadialExtent.FARTHEST_SIDE;\n                            return false;\n                        case CLOSEST_CORNER:\n                            size = CSSRadialExtent.CLOSEST_CORNER;\n                            return false;\n                        case COVER:\n                        case FARTHEST_CORNER:\n                            size = CSSRadialExtent.FARTHEST_CORNER;\n                            return false;\n                    }\n                } else if (isLength(token) || isLengthPercentage(token)) {\n                    if (!Array.isArray(size)) {\n                        size = [];\n                    }\n                    size.push(token);\n                    return false;\n                }\n\n                return acc;\n            }, isColorStop);\n        }\n\n        if (isColorStop) {\n            const colorStop = parseColorStop(context, arg);\n            stops.push(colorStop);\n        }\n    });\n\n    return {size, shape, stops, position, type: CSSImageType.RADIAL_GRADIENT};\n};\n", "import {CSSValue} from '../syntax/parser';\nimport {TokenType} from '../syntax/tokenizer';\nimport {Color} from './color';\nimport {linearGradient} from './functions/linear-gradient';\nimport {prefixLinearGradient} from './functions/-prefix-linear-gradient';\nimport {ITypeDescriptor} from '../ITypeDescriptor';\nimport {LengthPercentage} from './length-percentage';\nimport {webkitGradient} from './functions/-webkit-gradient';\nimport {radialGradient} from './functions/radial-gradient';\nimport {prefixRadialGradient} from './functions/-prefix-radial-gradient';\nimport {Context} from '../../core/context';\n\nexport const enum CSSImageType {\n    URL,\n    LINEAR_GRADIENT,\n    RADIAL_GRADIENT\n}\n\nexport const isLinearGradient = (background: ICSSImage): background is CSSLinearGradientImage => {\n    return background.type === CSSImageType.LINEAR_GRADIENT;\n};\n\nexport const isRadialGradient = (background: ICSSImage): background is CSSRadialGradientImage => {\n    return background.type === CSSImageType.RADIAL_GRADIENT;\n};\n\nexport interface UnprocessedGradientColorStop {\n    color: Color;\n    stop: LengthPercentage | null;\n}\n\nexport interface GradientColorStop {\n    color: Color;\n    stop: number;\n}\n\nexport interface ICSSImage {\n    type: CSSImageType;\n}\n\nexport interface CSSURLImage extends ICSSImage {\n    url: string;\n    type: CSSImageType.URL;\n}\n\n// interface ICSSGeneratedImage extends ICSSImage {}\n\nexport type GradientCorner = [LengthPercentage, LengthPercentage];\n\ninterface ICSSGradientImage extends ICSSImage {\n    stops: UnprocessedGradientColorStop[];\n}\n\nexport interface CSSLinearGradientImage extends ICSSGradientImage {\n    angle: number | GradientCorner;\n    type: CSSImageType.LINEAR_GRADIENT;\n}\n\nexport const enum CSSRadialShape {\n    CIRCLE,\n    ELLIPSE\n}\n\nexport const enum CSSRadialExtent {\n    CLOSEST_SIDE,\n    FARTHEST_SIDE,\n    CLOSEST_CORNER,\n    FARTHEST_CORNER\n}\n\nexport type CSSRadialSize = CSSRadialExtent | LengthPercentage[];\n\nexport interface CSSRadialGradientImage extends ICSSGradientImage {\n    type: CSSImageType.RADIAL_GRADIENT;\n    shape: CSSRadialShape;\n    size: CSSRadialSize;\n    position: LengthPercentage[];\n}\n\nexport const image: ITypeDescriptor<ICSSImage> = {\n    name: 'image',\n    parse: (context: Context, value: CSSValue): ICSSImage => {\n        if (value.type === TokenType.URL_TOKEN) {\n            const image: CSSURLImage = {url: value.value, type: CSSImageType.URL};\n            context.cache.addImage(value.value);\n            return image;\n        }\n\n        if (value.type === TokenType.FUNCTION) {\n            const imageFunction = SUPPORTED_IMAGE_FUNCTIONS[value.name];\n            if (typeof imageFunction === 'undefined') {\n                throw new Error(`Attempting to parse an unsupported image function \"${value.name}\"`);\n            }\n            return imageFunction(context, value.values);\n        }\n\n        throw new Error(`Unsupported image type ${value.type}`);\n    }\n};\n\nexport function isSupportedImage(value: CSSValue): boolean {\n    return (\n        !(value.type === TokenType.IDENT_TOKEN && value.value === 'none') &&\n        (value.type !== TokenType.FUNCTION || !!SUPPORTED_IMAGE_FUNCTIONS[value.name])\n    );\n}\n\nconst SUPPORTED_IMAGE_FUNCTIONS: Record<string, (context: Context, args: CSSValue[]) => ICSSImage> = {\n    'linear-gradient': linearGradient,\n    '-moz-linear-gradient': prefixLinearGradient,\n    '-ms-linear-gradient': prefixLinearGradient,\n    '-o-linear-gradient': prefixLinearGradient,\n    '-webkit-linear-gradient': prefixLinearGradient,\n    'radial-gradient': radialGradient,\n    '-moz-radial-gradient': prefixRadialGradient,\n    '-ms-radial-gradient': prefixRadialGradient,\n    '-o-radial-gradient': prefixRadialGradient,\n    '-webkit-radial-gradient': prefixRadialGradient,\n    '-webkit-gradient': webkitGradient\n};\n", "import {TokenType} from '../syntax/tokenizer';\nimport {ICSSImage, image, isSupportedImage} from '../types/image';\nimport {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, nonFunctionArgSeparator} from '../syntax/parser';\nimport {Context} from '../../core/context';\n\nexport const backgroundImage: IPropertyListDescriptor<ICSSImage[]> = {\n    name: 'background-image',\n    initialValue: 'none',\n    type: PropertyDescriptorParsingType.LIST,\n    prefix: false,\n    parse: (context: Context, tokens: CSSValue[]) => {\n        if (tokens.length === 0) {\n            return [];\n        }\n\n        const first = tokens[0];\n\n        if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {\n            return [];\n        }\n\n        return tokens\n            .filter((value) => nonFunctionArgSeparator(value) && isSupportedImage(value))\n            .map((value) => image.parse(context, value));\n    }\n};\n", "import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken} from '../syntax/parser';\nimport {Context} from '../../core/context';\n\nexport const enum BACKGROUND_ORIGIN {\n    BORDER_BOX = 0,\n    PADDING_BOX = 1,\n    CONTENT_BOX = 2\n}\n\nexport type BackgroundOrigin = BACKGROUND_ORIGIN[];\n\nexport const backgroundOrigin: IPropertyListDescriptor<BackgroundOrigin> = {\n    name: 'background-origin',\n    initialValue: 'border-box',\n    prefix: false,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (_context: Context, tokens: CSSValue[]): BackgroundOrigin => {\n        return tokens.map((token) => {\n            if (isIdentToken(token)) {\n                switch (token.value) {\n                    case 'padding-box':\n                        return BACKGROUND_ORIGIN.PADDING_BOX;\n                    case 'content-box':\n                        return BACKGROUND_ORIGIN.CONTENT_BOX;\n                }\n            }\n            return BACKGROUND_ORIGIN.BORDER_BOX;\n        });\n    }\n};\n", "import {PropertyDescriptorParsingType, IPropertyListDescriptor} from '../IPropertyDescriptor';\nimport {CSSValue, parseFunctionArgs} from '../syntax/parser';\nimport {isLengthPercentage, LengthPercentageTuple, parseLengthPercentageTuple} from '../types/length-percentage';\nimport {Context} from '../../core/context';\nexport type BackgroundPosition = BackgroundImagePosition[];\n\nexport type BackgroundImagePosition = LengthPercentageTuple;\n\nexport const backgroundPosition: IPropertyListDescriptor<BackgroundPosition> = {\n    name: 'background-position',\n    initialValue: '0% 0%',\n    type: PropertyDescriptorParsingType.LIST,\n    prefix: false,\n    parse: (_context: Context, tokens: CSSValue[]): BackgroundPosition => {\n        return parseFunctionArgs(tokens)\n            .map((values: CSSValue[]) => values.filter(isLengthPercentage))\n            .map(parseLengthPercentageTuple);\n    }\n};\n", "import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken, parseFunctionArgs} from '../syntax/parser';\nimport {Context} from '../../core/context';\nexport type BackgroundRepeat = BACKGROUND_REPEAT[];\n\nexport const enum BACKGROUND_REPEAT {\n    REPEAT = 0,\n    NO_REPEAT = 1,\n    REPEAT_X = 2,\n    REPEAT_Y = 3\n}\n\nexport const backgroundRepeat: IPropertyListDescriptor<BackgroundRepeat> = {\n    name: 'background-repeat',\n    initialValue: 'repeat',\n    prefix: false,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (_context: Context, tokens: CSSValue[]): BackgroundRepeat => {\n        return parseFunctionArgs(tokens)\n            .map((values) =>\n                values\n                    .filter(isIdentToken)\n                    .map((token) => token.value)\n                    .join(' ')\n            )\n            .map(parseBackgroundRepeat);\n    }\n};\n\nconst parseBackgroundRepeat = (value: string): BACKGROUND_REPEAT => {\n    switch (value) {\n        case 'no-repeat':\n            return BACKGROUND_REPEAT.NO_REPEAT;\n        case 'repeat-x':\n        case 'repeat no-repeat':\n            return BACKGROUND_REPEAT.REPEAT_X;\n        case 'repeat-y':\n        case 'no-repeat repeat':\n            return BACKGROUND_REPEAT.REPEAT_Y;\n        case 'repeat':\n        default:\n            return BACKGROUND_REPEAT.REPEAT;\n    }\n};\n", "import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken, parseFunctionArgs} from '../syntax/parser';\nimport {isLengthPercentage, LengthPercentage} from '../types/length-percentage';\nimport {StringValueToken} from '../syntax/tokenizer';\nimport {Context} from '../../core/context';\n\nexport enum BACKGROUND_SIZE {\n    AUTO = 'auto',\n    CONTAIN = 'contain',\n    COVER = 'cover'\n}\n\nexport type BackgroundSizeInfo = LengthPercentage | StringValueToken;\nexport type BackgroundSize = BackgroundSizeInfo[][];\n\nexport const backgroundSize: IPropertyListDescriptor<BackgroundSize> = {\n    name: 'background-size',\n    initialValue: '0',\n    prefix: false,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (_context: Context, tokens: CSSValue[]): BackgroundSize => {\n        return parseFunctionArgs(tokens).map((values) => values.filter(isBackgroundSizeInfoToken));\n    }\n};\n\nconst isBackgroundSizeInfoToken = (value: CSSValue): value is BackgroundSizeInfo =>\n    isIdentToken(value) || isLengthPercentage(value);\n", "import {IPropertyTypeValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nconst borderColorForSide = (side: string): IPropertyTypeValueDescriptor => ({\n    name: `border-${side}-color`,\n    initialValue: 'transparent',\n    prefix: false,\n    type: PropertyDescriptorParsingType.TYPE_VALUE,\n    format: 'color'\n});\n\nexport const borderTopColor: IPropertyTypeValueDescriptor = borderColorForSide('top');\nexport const borderRightColor: IPropertyTypeValueDescriptor = borderColorForSide('right');\nexport const borderBottomColor: IPropertyTypeValueDescriptor = borderColorForSide('bottom');\nexport const borderLeftColor: IPropertyTypeValueDescriptor = borderColorForSide('left');\n", "import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue} from '../syntax/parser';\nimport {isLengthPercentage, LengthPercentageTuple, parseLengthPercentageTuple} from '../types/length-percentage';\nimport {Context} from '../../core/context';\nexport type BorderRadius = LengthPercentageTuple;\n\nconst borderRadiusForSide = (side: string): IPropertyListDescriptor<BorderRadius> => ({\n    name: `border-radius-${side}`,\n    initialValue: '0 0',\n    prefix: false,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (_context: Context, tokens: CSSValue[]): BorderRadius =>\n        parseLengthPercentageTuple(tokens.filter(isLengthPercentage))\n});\n\nexport const borderTopLeftRadius: IPropertyListDescriptor<BorderRadius> = borderRadiusForSide('top-left');\nexport const borderTopRightRadius: IPropertyListDescriptor<BorderRadius> = borderRadiusForSide('top-right');\nexport const borderBottomRightRadius: IPropertyListDescriptor<BorderRadius> = borderRadiusForSide('bottom-right');\nexport const borderBottomLeftRadius: IPropertyListDescriptor<BorderRadius> = borderRadiusForSide('bottom-left');\n", "import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\nexport const enum BORDER_STYLE {\n    NONE = 0,\n    SOLID = 1,\n    DASHED = 2,\n    DOTTED = 3,\n    DOUBLE = 4\n}\n\nconst borderStyleForSide = (side: string): IPropertyIdentValueDescriptor<BORDER_STYLE> => ({\n    name: `border-${side}-style`,\n    initialValue: 'solid',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (_context: Context, style: string): BORDER_STYLE => {\n        switch (style) {\n            case 'none':\n                return BORDER_STYLE.NONE;\n            case 'dashed':\n                return BORDER_STYLE.DASHED;\n            case 'dotted':\n                return BORDER_STYLE.DOTTED;\n            case 'double':\n                return BORDER_STYLE.DOUBLE;\n        }\n        return BORDER_STYLE.SOLID;\n    }\n});\n\nexport const borderTopStyle: IPropertyIdentValueDescriptor<BORDER_STYLE> = borderStyleForSide('top');\nexport const borderRightStyle: IPropertyIdentValueDescriptor<BORDER_STYLE> = borderStyleForSide('right');\nexport const borderBottomStyle: IPropertyIdentValueDescriptor<BORDER_STYLE> = borderStyleForSide('bottom');\nexport const borderLeftStyle: IPropertyIdentValueDescriptor<BORDER_STYLE> = borderStyleForSide('left');\n", "import {IPropertyValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isDimensionToken} from '../syntax/parser';\nimport {Context} from '../../core/context';\nconst borderWidthForSide = (side: string): IPropertyValueDescriptor<number> => ({\n    name: `border-${side}-width`,\n    initialValue: '0',\n    type: PropertyDescriptorParsingType.VALUE,\n    prefix: false,\n    parse: (_context: Context, token: CSSValue): number => {\n        if (isDimensionToken(token)) {\n            return token.number;\n        }\n        return 0;\n    }\n});\n\nexport const borderTopWidth: IPropertyValueDescriptor<number> = borderWidthForSide('top');\nexport const borderRightWidth: IPropertyValueDescriptor<number> = borderWidthForSide('right');\nexport const borderBottomWidth: IPropertyValueDescriptor<number> = borderWidthForSide('bottom');\nexport const borderLeftWidth: IPropertyValueDescriptor<number> = borderWidthForSide('left');\n", "import {IPropertyTypeValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\n\nexport const color: IPropertyTypeValueDescriptor = {\n    name: `color`,\n    initialValue: 'transparent',\n    prefix: false,\n    type: PropertyDescriptorParsingType.TYPE_VALUE,\n    format: 'color'\n};\n", "import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\n\nexport const enum DIRECTION {\n    LTR = 0,\n    RTL = 1\n}\n\nexport const direction: IPropertyIdentValueDescriptor<DIRECTION> = {\n    name: 'direction',\n    initialValue: 'ltr',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (_context: Context, direction: string) => {\n        switch (direction) {\n            case 'rtl':\n                return DIRECTION.RTL;\n            case 'ltr':\n            default:\n                return DIRECTION.LTR;\n        }\n    }\n};\n", "import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken} from '../syntax/parser';\nimport {Context} from '../../core/context';\nexport const enum DISPLAY {\n    NONE = 0,\n    BLOCK = 1 << 1,\n    INLINE = 1 << 2,\n    RUN_IN = 1 << 3,\n    FLOW = 1 << 4,\n    FLOW_ROOT = 1 << 5,\n    TABLE = 1 << 6,\n    FLEX = 1 << 7,\n    GRID = 1 << 8,\n    RUBY = 1 << 9,\n    SUBGRID = 1 << 10,\n    LIST_ITEM = 1 << 11,\n    TABLE_ROW_GROUP = 1 << 12,\n    TABLE_HEADER_GROUP = 1 << 13,\n    TABLE_FOOTER_GROUP = 1 << 14,\n    TABLE_ROW = 1 << 15,\n    TABLE_CELL = 1 << 16,\n    TABLE_COLUMN_GROUP = 1 << 17,\n    TABLE_COLUMN = 1 << 18,\n    TABLE_CAPTION = 1 << 19,\n    RUBY_BASE = 1 << 20,\n    RUBY_TEXT = 1 << 21,\n    RUBY_BASE_CONTAINER = 1 << 22,\n    RUBY_TEXT_CONTAINER = 1 << 23,\n    CONTENTS = 1 << 24,\n    INLINE_BLOCK = 1 << 25,\n    INLINE_LIST_ITEM = 1 << 26,\n    INLINE_TABLE = 1 << 27,\n    INLINE_FLEX = 1 << 28,\n    INLINE_GRID = 1 << 29\n}\n\nexport type Display = number;\n\nexport const display: IPropertyListDescriptor<Display> = {\n    name: 'display',\n    initialValue: 'inline-block',\n    prefix: false,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (_context: Context, tokens: CSSValue[]): Display => {\n        return tokens.filter(isIdentToken).reduce((bit, token) => {\n            return bit | parseDisplayValue(token.value);\n        }, DISPLAY.NONE);\n    }\n};\n\nconst parseDisplayValue = (display: string): Display => {\n    switch (display) {\n        case 'block':\n        case '-webkit-box':\n            return DISPLAY.BLOCK;\n        case 'inline':\n            return DISPLAY.INLINE;\n        case 'run-in':\n            return DISPLAY.RUN_IN;\n        case 'flow':\n            return DISPLAY.FLOW;\n        case 'flow-root':\n            return DISPLAY.FLOW_ROOT;\n        case 'table':\n            return DISPLAY.TABLE;\n        case 'flex':\n        case '-webkit-flex':\n            return DISPLAY.FLEX;\n        case 'grid':\n        case '-ms-grid':\n            return DISPLAY.GRID;\n        case 'ruby':\n            return DISPLAY.RUBY;\n        case 'subgrid':\n            return DISPLAY.SUBGRID;\n        case 'list-item':\n            return DISPLAY.LIST_ITEM;\n        case 'table-row-group':\n            return DISPLAY.TABLE_ROW_GROUP;\n        case 'table-header-group':\n            return DISPLAY.TABLE_HEADER_GROUP;\n        case 'table-footer-group':\n            return DISPLAY.TABLE_FOOTER_GROUP;\n        case 'table-row':\n            return DISPLAY.TABLE_ROW;\n        case 'table-cell':\n            return DISPLAY.TABLE_CELL;\n        case 'table-column-group':\n            return DISPLAY.TABLE_COLUMN_GROUP;\n        case 'table-column':\n            return DISPLAY.TABLE_COLUMN;\n        case 'table-caption':\n            return DISPLAY.TABLE_CAPTION;\n        case 'ruby-base':\n            return DISPLAY.RUBY_BASE;\n        case 'ruby-text':\n            return DISPLAY.RUBY_TEXT;\n        case 'ruby-base-container':\n            return DISPLAY.RUBY_BASE_CONTAINER;\n        case 'ruby-text-container':\n            return DISPLAY.RUBY_TEXT_CONTAINER;\n        case 'contents':\n            return DISPLAY.CONTENTS;\n        case 'inline-block':\n            return DISPLAY.INLINE_BLOCK;\n        case 'inline-list-item':\n            return DISPLAY.INLINE_LIST_ITEM;\n        case 'inline-table':\n            return DISPLAY.INLINE_TABLE;\n        case 'inline-flex':\n            return DISPLAY.INLINE_FLEX;\n        case 'inline-grid':\n            return DISPLAY.INLINE_GRID;\n    }\n\n    return DISPLAY.NONE;\n};\n", "import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\nexport const enum FLOAT {\n    NONE = 0,\n    LEFT = 1,\n    RIGHT = 2,\n    INLINE_START = 3,\n    INLINE_END = 4\n}\n\nexport const float: IPropertyIdentValueDescriptor<FLOAT> = {\n    name: 'float',\n    initialValue: 'none',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (_context: Context, float: string) => {\n        switch (float) {\n            case 'left':\n                return FLOAT.LEFT;\n            case 'right':\n                return FLOAT.RIGHT;\n            case 'inline-start':\n                return FLOAT.INLINE_START;\n            case 'inline-end':\n                return FLOAT.INLINE_END;\n        }\n        return FLOAT.NONE;\n    }\n};\n", "import {IPropertyValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue} from '../syntax/parser';\nimport {TokenType} from '../syntax/tokenizer';\nimport {Context} from '../../core/context';\nexport const letterSpacing: IPropertyValueDescriptor<number> = {\n    name: 'letter-spacing',\n    initialValue: '0',\n    prefix: false,\n    type: PropertyDescriptorParsingType.VALUE,\n    parse: (_context: Context, token: CSSValue) => {\n        if (token.type === TokenType.IDENT_TOKEN && token.value === 'normal') {\n            return 0;\n        }\n\n        if (token.type === TokenType.NUMBER_TOKEN) {\n            return token.number;\n        }\n\n        if (token.type === TokenType.DIMENSION_TOKEN) {\n            return token.number;\n        }\n\n        return 0;\n    }\n};\n", "import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\nexport enum LINE_BREAK {\n    NORMAL = 'normal',\n    STRICT = 'strict'\n}\n\nexport const lineBreak: IPropertyIdentValueDescriptor<LINE_BREAK> = {\n    name: 'line-break',\n    initialValue: 'normal',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (_context: Context, lineBreak: string): LINE_BREAK => {\n        switch (lineBreak) {\n            case 'strict':\n                return LINE_BREAK.STRICT;\n            case 'normal':\n            default:\n                return LINE_BREAK.NORMAL;\n        }\n    }\n};\n", "import {IPropertyTokenValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken} from '../syntax/parser';\nimport {TokenType} from '../syntax/tokenizer';\nimport {getAbsoluteValue, isLengthPercentage} from '../types/length-percentage';\nexport const lineHeight: IPropertyTokenValueDescriptor = {\n    name: 'line-height',\n    initialValue: 'normal',\n    prefix: false,\n    type: PropertyDescriptorParsingType.TOKEN_VALUE\n};\n\nexport const computeLineHeight = (token: CSSValue, fontSize: number): number => {\n    if (isIdentToken(token) && token.value === 'normal') {\n        return 1.2 * fontSize;\n    } else if (token.type === TokenType.NUMBER_TOKEN) {\n        return fontSize * token.number;\n    } else if (isLengthPercentage(token)) {\n        return getAbsoluteValue(token, fontSize);\n    }\n\n    return fontSize;\n};\n", "import {TokenType} from '../syntax/tokenizer';\nimport {ICSSImage, image} from '../types/image';\nimport {IPropertyValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue} from '../syntax/parser';\nimport {Context} from '../../core/context';\n\nexport const listStyleImage: IPropertyValueDescriptor<ICSSImage | null> = {\n    name: 'list-style-image',\n    initialValue: 'none',\n    type: PropertyDescriptorParsingType.VALUE,\n    prefix: false,\n    parse: (context: Context, token: CSSValue) => {\n        if (token.type === TokenType.IDENT_TOKEN && token.value === 'none') {\n            return null;\n        }\n\n        return image.parse(context, token);\n    }\n};\n", "import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\nexport const enum LIST_STYLE_POSITION {\n    INSIDE = 0,\n    OUTSIDE = 1\n}\n\nexport const listStylePosition: IPropertyIdentValueDescriptor<LIST_STYLE_POSITION> = {\n    name: 'list-style-position',\n    initialValue: 'outside',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (_context: Context, position: string) => {\n        switch (position) {\n            case 'inside':\n                return LIST_STYLE_POSITION.INSIDE;\n            case 'outside':\n            default:\n                return LIST_STYLE_POSITION.OUTSIDE;\n        }\n    }\n};\n", "import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\nexport const enum LIST_STYLE_TYPE {\n    NONE = -1,\n    DISC = 0,\n    CIRCLE = 1,\n    SQUARE = 2,\n    DECIMAL = 3,\n    CJK_DECIMAL = 4,\n    DECIMAL_LEADING_ZERO = 5,\n    LOWER_ROMAN = 6,\n    UPPER_ROMAN = 7,\n    LOWER_GREEK = 8,\n    LOWER_ALPHA = 9,\n    UPPER_ALPHA = 10,\n    ARABIC_INDIC = 11,\n    ARMENIAN = 12,\n    BENGALI = 13,\n    CAMBODIAN = 14,\n    CJK_EARTHLY_BRANCH = 15,\n    CJK_HEAVENLY_STEM = 16,\n    CJK_IDEOGRAPHIC = 17,\n    DEVANAGARI = 18,\n    ETHIOPIC_NUMERIC = 19,\n    GEORGIAN = 20,\n    GUJARATI = 21,\n    GURMUKHI = 22,\n    HEBREW = 22,\n    HIRAGANA = 23,\n    HIRAGANA_IROHA = 24,\n    JAPANESE_FORMAL = 25,\n    JAPANESE_INFORMAL = 26,\n    KANNADA = 27,\n    KATAKANA = 28,\n    KATAKANA_IROHA = 29,\n    KHMER = 30,\n    KOREAN_HANGUL_FORMAL = 31,\n    KOREAN_HANJA_FORMAL = 32,\n    KOREAN_HANJA_INFORMAL = 33,\n    LAO = 34,\n    LOWER_ARMENIAN = 35,\n    MALAYALAM = 36,\n    MONGOLIAN = 37,\n    MYANMAR = 38,\n    ORIYA = 39,\n    PERSIAN = 40,\n    SIMP_CHINESE_FORMAL = 41,\n    SIMP_CHINESE_INFORMAL = 42,\n    TAMIL = 43,\n    TELUGU = 44,\n    THAI = 45,\n    TIBETAN = 46,\n    TRAD_CHINESE_FORMAL = 47,\n    TRAD_CHINESE_INFORMAL = 48,\n    UPPER_ARMENIAN = 49,\n    DISCLOSURE_OPEN = 50,\n    DISCLOSURE_CLOSED = 51\n}\n\nexport const listStyleType: IPropertyIdentValueDescriptor<LIST_STYLE_TYPE> = {\n    name: 'list-style-type',\n    initialValue: 'none',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (_context: Context, type: string) => {\n        switch (type) {\n            case 'disc':\n                return LIST_STYLE_TYPE.DISC;\n            case 'circle':\n                return LIST_STYLE_TYPE.CIRCLE;\n            case 'square':\n                return LIST_STYLE_TYPE.SQUARE;\n            case 'decimal':\n                return LIST_STYLE_TYPE.DECIMAL;\n            case 'cjk-decimal':\n                return LIST_STYLE_TYPE.CJK_DECIMAL;\n            case 'decimal-leading-zero':\n                return LIST_STYLE_TYPE.DECIMAL_LEADING_ZERO;\n            case 'lower-roman':\n                return LIST_STYLE_TYPE.LOWER_ROMAN;\n            case 'upper-roman':\n                return LIST_STYLE_TYPE.UPPER_ROMAN;\n            case 'lower-greek':\n                return LIST_STYLE_TYPE.LOWER_GREEK;\n            case 'lower-alpha':\n                return LIST_STYLE_TYPE.LOWER_ALPHA;\n            case 'upper-alpha':\n                return LIST_STYLE_TYPE.UPPER_ALPHA;\n            case 'arabic-indic':\n                return LIST_STYLE_TYPE.ARABIC_INDIC;\n            case 'armenian':\n                return LIST_STYLE_TYPE.ARMENIAN;\n            case 'bengali':\n                return LIST_STYLE_TYPE.BENGALI;\n            case 'cambodian':\n                return LIST_STYLE_TYPE.CAMBODIAN;\n            case 'cjk-earthly-branch':\n                return LIST_STYLE_TYPE.CJK_EARTHLY_BRANCH;\n            case 'cjk-heavenly-stem':\n                return LIST_STYLE_TYPE.CJK_HEAVENLY_STEM;\n            case 'cjk-ideographic':\n                return LIST_STYLE_TYPE.CJK_IDEOGRAPHIC;\n            case 'devanagari':\n                return LIST_STYLE_TYPE.DEVANAGARI;\n            case 'ethiopic-numeric':\n                return LIST_STYLE_TYPE.ETHIOPIC_NUMERIC;\n            case 'georgian':\n                return LIST_STYLE_TYPE.GEORGIAN;\n            case 'gujarati':\n                return LIST_STYLE_TYPE.GUJARATI;\n            case 'gurmukhi':\n                return LIST_STYLE_TYPE.GURMUKHI;\n            case 'hebrew':\n                return LIST_STYLE_TYPE.HEBREW;\n            case 'hiragana':\n                return LIST_STYLE_TYPE.HIRAGANA;\n            case 'hiragana-iroha':\n                return LIST_STYLE_TYPE.HIRAGANA_IROHA;\n            case 'japanese-formal':\n                return LIST_STYLE_TYPE.JAPANESE_FORMAL;\n            case 'japanese-informal':\n                return LIST_STYLE_TYPE.JAPANESE_INFORMAL;\n            case 'kannada':\n                return LIST_STYLE_TYPE.KANNADA;\n            case 'katakana':\n                return LIST_STYLE_TYPE.KATAKANA;\n            case 'katakana-iroha':\n                return LIST_STYLE_TYPE.KATAKANA_IROHA;\n            case 'khmer':\n                return LIST_STYLE_TYPE.KHMER;\n            case 'korean-hangul-formal':\n                return LIST_STYLE_TYPE.KOREAN_HANGUL_FORMAL;\n            case 'korean-hanja-formal':\n                return LIST_STYLE_TYPE.KOREAN_HANJA_FORMAL;\n            case 'korean-hanja-informal':\n                return LIST_STYLE_TYPE.KOREAN_HANJA_INFORMAL;\n            case 'lao':\n                return LIST_STYLE_TYPE.LAO;\n            case 'lower-armenian':\n                return LIST_STYLE_TYPE.LOWER_ARMENIAN;\n            case 'malayalam':\n                return LIST_STYLE_TYPE.MALAYALAM;\n            case 'mongolian':\n                return LIST_STYLE_TYPE.MONGOLIAN;\n            case 'myanmar':\n                return LIST_STYLE_TYPE.MYANMAR;\n            case 'oriya':\n                return LIST_STYLE_TYPE.ORIYA;\n            case 'persian':\n                return LIST_STYLE_TYPE.PERSIAN;\n            case 'simp-chinese-formal':\n                return LIST_STYLE_TYPE.SIMP_CHINESE_FORMAL;\n            case 'simp-chinese-informal':\n                return LIST_STYLE_TYPE.SIMP_CHINESE_INFORMAL;\n            case 'tamil':\n                return LIST_STYLE_TYPE.TAMIL;\n            case 'telugu':\n                return LIST_STYLE_TYPE.TELUGU;\n            case 'thai':\n                return LIST_STYLE_TYPE.THAI;\n            case 'tibetan':\n                return LIST_STYLE_TYPE.TIBETAN;\n            case 'trad-chinese-formal':\n                return LIST_STYLE_TYPE.TRAD_CHINESE_FORMAL;\n            case 'trad-chinese-informal':\n                return LIST_STYLE_TYPE.TRAD_CHINESE_INFORMAL;\n            case 'upper-armenian':\n                return LIST_STYLE_TYPE.UPPER_ARMENIAN;\n            case 'disclosure-open':\n                return LIST_STYLE_TYPE.DISCLOSURE_OPEN;\n            case 'disclosure-closed':\n                return LIST_STYLE_TYPE.DISCLOSURE_CLOSED;\n            case 'none':\n            default:\n                return LIST_STYLE_TYPE.NONE;\n        }\n    }\n};\n", "import {IPropertyTokenValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\n\nconst marginForSide = (side: string): IPropertyTokenValueDescriptor => ({\n    name: `margin-${side}`,\n    initialValue: '0',\n    prefix: false,\n    type: PropertyDescriptorParsingType.TOKEN_VALUE\n});\n\nexport const marginTop: IPropertyTokenValueDescriptor = marginForSide('top');\nexport const marginRight: IPropertyTokenValueDescriptor = marginForSide('right');\nexport const marginBottom: IPropertyTokenValueDescriptor = marginForSide('bottom');\nexport const marginLeft: IPropertyTokenValueDescriptor = marginForSide('left');\n", "import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken} from '../syntax/parser';\nimport {Context} from '../../core/context';\nexport const enum OVERFLOW {\n    VISIBLE = 0,\n    HIDDEN = 1,\n    SCROLL = 2,\n    CLIP = 3,\n    AUTO = 4\n}\n\nexport const overflow: IPropertyListDescriptor<OVERFLOW[]> = {\n    name: 'overflow',\n    initialValue: 'visible',\n    prefix: false,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (_context: Context, tokens: CSSValue[]): OVERFLOW[] => {\n        return tokens.filter(isIdentToken).map((overflow) => {\n            switch (overflow.value) {\n                case 'hidden':\n                    return OVERFLOW.HIDDEN;\n                case 'scroll':\n                    return OVERFLOW.SCROLL;\n                case 'clip':\n                    return OVERFLOW.CLIP;\n                case 'auto':\n                    return OVERFLOW.AUTO;\n                case 'visible':\n                default:\n                    return OVERFLOW.VISIBLE;\n            }\n        });\n    }\n};\n", "import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\nexport const enum OVERFLOW_WRAP {\n    NORMAL = 'normal',\n    BREAK_WORD = 'break-word'\n}\n\nexport const overflowWrap: IPropertyIdentValueDescriptor<OVERFLOW_WRAP> = {\n    name: 'overflow-wrap',\n    initialValue: 'normal',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (_context: Context, overflow: string) => {\n        switch (overflow) {\n            case 'break-word':\n                return OVERFLOW_WRAP.BREAK_WORD;\n            case 'normal':\n            default:\n                return OVERFLOW_WRAP.NORMAL;\n        }\n    }\n};\n", "import {IPropertyTypeValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\n\nconst paddingForSide = (side: string): IPropertyTypeValueDescriptor => ({\n    name: `padding-${side}`,\n    initialValue: '0',\n    prefix: false,\n    type: PropertyDescriptorParsingType.TYPE_VALUE,\n    format: 'length-percentage'\n});\n\nexport const paddingTop: IPropertyTypeValueDescriptor = paddingForSide('top');\nexport const paddingRight: IPropertyTypeValueDescriptor = paddingForSide('right');\nexport const paddingBottom: IPropertyTypeValueDescriptor = paddingForSide('bottom');\nexport const paddingLeft: IPropertyTypeValueDescriptor = paddingForSide('left');\n", "import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\nexport const enum TEXT_ALIGN {\n    LEFT = 0,\n    CENTER = 1,\n    RIGHT = 2\n}\n\nexport const textAlign: IPropertyIdentValueDescriptor<TEXT_ALIGN> = {\n    name: 'text-align',\n    initialValue: 'left',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (_context: Context, textAlign: string) => {\n        switch (textAlign) {\n            case 'right':\n                return TEXT_ALIGN.RIGHT;\n            case 'center':\n            case 'justify':\n                return TEXT_ALIGN.CENTER;\n            case 'left':\n            default:\n                return TEXT_ALIGN.LEFT;\n        }\n    }\n};\n", "import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\nexport const enum POSITION {\n    STATIC = 0,\n    RELATIVE = 1,\n    ABSOLUTE = 2,\n    FIXED = 3,\n    STICKY = 4\n}\n\nexport const position: IPropertyIdentValueDescriptor<POSITION> = {\n    name: 'position',\n    initialValue: 'static',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (_context: Context, position: string) => {\n        switch (position) {\n            case 'relative':\n                return POSITION.RELATIVE;\n            case 'absolute':\n                return POSITION.ABSOLUTE;\n            case 'fixed':\n                return POSITION.FIXED;\n            case 'sticky':\n                return POSITION.STICKY;\n        }\n\n        return POSITION.STATIC;\n    }\n};\n", "import {PropertyDescriptorParsingType, IPropertyListDescriptor} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentWithValue, parseFunctionArgs} from '../syntax/parser';\nimport {ZERO_LENGTH} from '../types/length-percentage';\nimport {color, Color, COLORS} from '../types/color';\nimport {isLength, Length} from '../types/length';\nimport {Context} from '../../core/context';\n\nexport type TextShadow = TextShadowItem[];\ninterface TextShadowItem {\n    color: Color;\n    offsetX: Length;\n    offsetY: Length;\n    blur: Length;\n}\n\nexport const textShadow: IPropertyListDescriptor<TextShadow> = {\n    name: 'text-shadow',\n    initialValue: 'none',\n    type: PropertyDescriptorParsingType.LIST,\n    prefix: false,\n    parse: (context: Context, tokens: CSSValue[]): TextShadow => {\n        if (tokens.length === 1 && isIdentWithValue(tokens[0], 'none')) {\n            return [];\n        }\n\n        return parseFunctionArgs(tokens).map((values: CSSValue[]) => {\n            const shadow: TextShadowItem = {\n                color: COLORS.TRANSPARENT,\n                offsetX: ZERO_LENGTH,\n                offsetY: ZERO_LENGTH,\n                blur: ZERO_LENGTH\n            };\n            let c = 0;\n            for (let i = 0; i < values.length; i++) {\n                const token = values[i];\n                if (isLength(token)) {\n                    if (c === 0) {\n                        shadow.offsetX = token;\n                    } else if (c === 1) {\n                        shadow.offsetY = token;\n                    } else {\n                        shadow.blur = token;\n                    }\n                    c++;\n                } else {\n                    shadow.color = color.parse(context, token);\n                }\n            }\n            return shadow;\n        });\n    }\n};\n", "import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\nexport const enum TEXT_TRANSFORM {\n    NONE = 0,\n    LOWERCASE = 1,\n    UPPERCASE = 2,\n    CAPITALIZE = 3\n}\n\nexport const textTransform: IPropertyIdentValueDescriptor<TEXT_TRANSFORM> = {\n    name: 'text-transform',\n    initialValue: 'none',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (_context: Context, textTransform: string) => {\n        switch (textTransform) {\n            case 'uppercase':\n                return TEXT_TRANSFORM.UPPERCASE;\n            case 'lowercase':\n                return TEXT_TRANSFORM.LOWERCASE;\n            case 'capitalize':\n                return TEXT_TRANSFORM.CAPITALIZE;\n        }\n\n        return TEXT_TRANSFORM.NONE;\n    }\n};\n", "import {IPropertyValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue} from '../syntax/parser';\nimport {NumberValueToken, TokenType} from '../syntax/tokenizer';\nimport {Context} from '../../core/context';\nexport type Matrix = [number, number, number, number, number, number];\nexport type Transform = Matrix | null;\n\nexport const transform: IPropertyValueDescriptor<Transform> = {\n    name: 'transform',\n    initialValue: 'none',\n    prefix: true,\n    type: PropertyDescriptorParsingType.VALUE,\n    parse: (_context: Context, token: CSSValue) => {\n        if (token.type === TokenType.IDENT_TOKEN && token.value === 'none') {\n            return null;\n        }\n\n        if (token.type === TokenType.FUNCTION) {\n            const transformFunction = SUPPORTED_TRANSFORM_FUNCTIONS[token.name];\n            if (typeof transformFunction === 'undefined') {\n                throw new Error(`Attempting to parse an unsupported transform function \"${token.name}\"`);\n            }\n            return transformFunction(token.values);\n        }\n\n        return null;\n    }\n};\n\nconst matrix = (args: CSSValue[]): Transform => {\n    const values = args.filter((arg) => arg.type === TokenType.NUMBER_TOKEN).map((arg: NumberValueToken) => arg.number);\n\n    return values.length === 6 ? (values as Matrix) : null;\n};\n\n// doesn't support 3D transforms at the moment\nconst matrix3d = (args: CSSValue[]): Transform => {\n    const values = args.filter((arg) => arg.type === TokenType.NUMBER_TOKEN).map((arg: NumberValueToken) => arg.number);\n\n    const [a1, b1, {}, {}, a2, b2, {}, {}, {}, {}, {}, {}, a4, b4, {}, {}] = values;\n\n    return values.length === 16 ? [a1, b1, a2, b2, a4, b4] : null;\n};\n\nconst SUPPORTED_TRANSFORM_FUNCTIONS: {\n    [key: string]: (args: CSSValue[]) => Transform;\n} = {\n    matrix: matrix,\n    matrix3d: matrix3d\n};\n", "import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue} from '../syntax/parser';\nimport {isLengthPercentage, LengthPercentage} from '../types/length-percentage';\nimport {FLAG_INTEGER, TokenType} from '../syntax/tokenizer';\nimport {Context} from '../../core/context';\nexport type TransformOrigin = [LengthPercentage, LengthPercentage];\n\nconst DEFAULT_VALUE: LengthPercentage = {\n    type: TokenType.PERCENTAGE_TOKEN,\n    number: 50,\n    flags: FLAG_INTEGER\n};\nconst DEFAULT: TransformOrigin = [DEFAULT_VALUE, DEFAULT_VALUE];\n\nexport const transformOrigin: IPropertyListDescriptor<TransformOrigin> = {\n    name: 'transform-origin',\n    initialValue: '50% 50%',\n    prefix: true,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (_context: Context, tokens: CSSValue[]) => {\n        const origins: LengthPercentage[] = tokens.filter(isLengthPercentage);\n\n        if (origins.length !== 2) {\n            return DEFAULT;\n        }\n\n        return [origins[0], origins[1]];\n    }\n};\n", "import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\nexport const enum VISIBILITY {\n    VISIBLE = 0,\n    HIDDEN = 1,\n    COLLAPSE = 2\n}\n\nexport const visibility: IPropertyIdentValueDescriptor<VISIBILITY> = {\n    name: 'visible',\n    initialValue: 'none',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (_context: Context, visibility: string) => {\n        switch (visibility) {\n            case 'hidden':\n                return VISIBILITY.HIDDEN;\n            case 'collapse':\n                return VISIBILITY.COLLAPSE;\n            case 'visible':\n            default:\n                return VISIBILITY.VISIBLE;\n        }\n    }\n};\n", "import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\nexport enum WORD_BREAK {\n    NORMAL = 'normal',\n    BREAK_ALL = 'break-all',\n    KEEP_ALL = 'keep-all'\n}\n\nexport const wordBreak: IPropertyIdentValueDescriptor<WORD_BREAK> = {\n    name: 'word-break',\n    initialValue: 'normal',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (_context: Context, wordBreak: string): WORD_BREAK => {\n        switch (wordBreak) {\n            case 'break-all':\n                return WORD_BREAK.BREAK_ALL;\n            case 'keep-all':\n                return WORD_BREAK.KEEP_ALL;\n            case 'normal':\n            default:\n                return WORD_BREAK.NORMAL;\n        }\n    }\n};\n", "import {IPropertyValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isNumberToken} from '../syntax/parser';\nimport {TokenType} from '../syntax/tokenizer';\nimport {Context} from '../../core/context';\n\ninterface zIndex {\n    order: number;\n    auto: boolean;\n}\n\nexport const zIndex: IPropertyValueDescriptor<zIndex> = {\n    name: 'z-index',\n    initialValue: 'auto',\n    prefix: false,\n    type: PropertyDescriptorParsingType.VALUE,\n    parse: (_context: Context, token: CSSValue): zIndex => {\n        if (token.type === TokenType.IDENT_TOKEN) {\n            return {auto: true, order: 0};\n        }\n\n        if (isNumberToken(token)) {\n            return {auto: false, order: token.number};\n        }\n\n        throw new Error(`Invalid z-index number parsed`);\n    }\n};\n", "import {CSSValue} from '../syntax/parser';\nimport {TokenType} from '../syntax/tokenizer';\nimport {ITypeDescriptor} from '../ITypeDescriptor';\nimport {Context} from '../../core/context';\n\nexport const time: ITypeDescriptor<number> = {\n    name: 'time',\n    parse: (_context: Context, value: CSSValue): number => {\n        if (value.type === TokenType.DIMENSION_TOKEN) {\n            switch (value.unit.toLowerCase()) {\n                case 's':\n                    return 1000 * value.number;\n                case 'ms':\n                    return value.number;\n            }\n        }\n\n        throw new Error(`Unsupported time type`);\n    }\n};\n", "import {IPropertyValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isNumberToken} from '../syntax/parser';\nimport {Context} from '../../core/context';\nexport const opacity: IPropertyValueDescriptor<number> = {\n    name: 'opacity',\n    initialValue: '1',\n    type: PropertyDescriptorParsingType.VALUE,\n    prefix: false,\n    parse: (_context: Context, token: CSSValue): number => {\n        if (isNumberToken(token)) {\n            return token.number;\n        }\n        return 1;\n    }\n};\n", "import {IPropertyTypeValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\n\nexport const textDecorationColor: IPropertyTypeValueDescriptor = {\n    name: `text-decoration-color`,\n    initialValue: 'transparent',\n    prefix: false,\n    type: PropertyDescriptorParsingType.TYPE_VALUE,\n    format: 'color'\n};\n", "import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken} from '../syntax/parser';\nimport {Context} from '../../core/context';\n\nexport const enum TEXT_DECORATION_LINE {\n    NONE = 0,\n    UNDERLINE = 1,\n    OVERLINE = 2,\n    LINE_THROUGH = 3,\n    BLINK = 4\n}\n\nexport type TextDecorationLine = TEXT_DECORATION_LINE[];\n\nexport const textDecorationLine: IPropertyListDescriptor<TextDecorationLine> = {\n    name: 'text-decoration-line',\n    initialValue: 'none',\n    prefix: false,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (_context: Context, tokens: CSSValue[]): TextDecorationLine => {\n        return tokens\n            .filter(isIdentToken)\n            .map((token) => {\n                switch (token.value) {\n                    case 'underline':\n                        return TEXT_DECORATION_LINE.UNDERLINE;\n                    case 'overline':\n                        return TEXT_DECORATION_LINE.OVERLINE;\n                    case 'line-through':\n                        return TEXT_DECORATION_LINE.LINE_THROUGH;\n                    case 'none':\n                        return TEXT_DECORATION_LINE.BLINK;\n                }\n                return TEXT_DECORATION_LINE.NONE;\n            })\n            .filter((line) => line !== TEXT_DECORATION_LINE.NONE);\n    }\n};\n", "import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue} from '../syntax/parser';\nimport {TokenType} from '../syntax/tokenizer';\nimport {Context} from '../../core/context';\n\nexport type FONT_FAMILY = string;\n\nexport type FontFamily = FONT_FAMILY[];\n\nexport const fontFamily: IPropertyListDescriptor<FontFamily> = {\n    name: `font-family`,\n    initialValue: '',\n    prefix: false,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (_context: Context, tokens: CSSValue[]) => {\n        const accumulator: string[] = [];\n        const results: string[] = [];\n        tokens.forEach((token) => {\n            switch (token.type) {\n                case TokenType.IDENT_TOKEN:\n                case TokenType.STRING_TOKEN:\n                    accumulator.push(token.value);\n                    break;\n                case TokenType.NUMBER_TOKEN:\n                    accumulator.push(token.number.toString());\n                    break;\n                case TokenType.COMMA_TOKEN:\n                    results.push(accumulator.join(' '));\n                    accumulator.length = 0;\n                    break;\n            }\n        });\n        if (accumulator.length) {\n            results.push(accumulator.join(' '));\n        }\n        return results.map((result) => (result.indexOf(' ') === -1 ? result : `'${result}'`));\n    }\n};\n", "import {IPropertyTypeValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\n\nexport const fontSize: IPropertyTypeValueDescriptor = {\n    name: `font-size`,\n    initialValue: '0',\n    prefix: false,\n    type: PropertyDescriptorParsingType.TYPE_VALUE,\n    format: 'length'\n};\n", "import {IPropertyValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken, isNumberToken} from '../syntax/parser';\nimport {Context} from '../../core/context';\nexport const fontWeight: IPropertyValueDescriptor<number> = {\n    name: 'font-weight',\n    initialValue: 'normal',\n    type: PropertyDescriptorParsingType.VALUE,\n    prefix: false,\n    parse: (_context: Context, token: CSSValue): number => {\n        if (isNumberToken(token)) {\n            return token.number;\n        }\n\n        if (isIdentToken(token)) {\n            switch (token.value) {\n                case 'bold':\n                    return 700;\n                case 'normal':\n                default:\n                    return 400;\n            }\n        }\n\n        return 400;\n    }\n};\n", "import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken} from '../syntax/parser';\nimport {Context} from '../../core/context';\nexport const fontVariant: IPropertyListDescriptor<string[]> = {\n    name: 'font-variant',\n    initialValue: 'none',\n    type: PropertyDescriptorParsingType.LIST,\n    prefix: false,\n    parse: (_context: Context, tokens: CSSValue[]): string[] => {\n        return tokens.filter(isIdentToken).map((token) => token.value);\n    }\n};\n", "import {IPropertyIdentValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\nexport const enum FONT_STYLE {\n    NORMAL = 'normal',\n    ITALIC = 'italic',\n    OBLIQUE = 'oblique'\n}\n\nexport const fontStyle: IPropertyIdentValueDescriptor<FONT_STYLE> = {\n    name: 'font-style',\n    initialValue: 'normal',\n    prefix: false,\n    type: PropertyDescriptorParsingType.IDENT_VALUE,\n    parse: (_context: Context, overflow: string) => {\n        switch (overflow) {\n            case 'oblique':\n                return FONT_STYLE.OBLIQUE;\n            case 'italic':\n                return FONT_STYLE.ITALIC;\n            case 'normal':\n            default:\n                return FONT_STYLE.NORMAL;\n        }\n    }\n};\n", "export const contains = (bit: number, value: number): boolean => (bit & value) !== 0;\n", "import {TokenType} from '../syntax/tokenizer';\nimport {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue} from '../syntax/parser';\nimport {Context} from '../../core/context';\n\nexport type Content = CSSValue[];\n\nexport const content: IPropertyListDescriptor<Content> = {\n    name: 'content',\n    initialValue: 'none',\n    type: PropertyDescriptorParsingType.LIST,\n    prefix: false,\n    parse: (_context: Context, tokens: CSSValue[]) => {\n        if (tokens.length === 0) {\n            return [];\n        }\n\n        const first = tokens[0];\n\n        if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {\n            return [];\n        }\n\n        return tokens;\n    }\n};\n", "import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isNumberToken, nonWhiteSpace} from '../syntax/parser';\nimport {TokenType} from '../syntax/tokenizer';\nimport {Context} from '../../core/context';\n\nexport interface COUNTER_INCREMENT {\n    counter: string;\n    increment: number;\n}\n\nexport type CounterIncrement = COUNTER_INCREMENT[] | null;\n\nexport const counterIncrement: IPropertyListDescriptor<CounterIncrement> = {\n    name: 'counter-increment',\n    initialValue: 'none',\n    prefix: true,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (_context: Context, tokens: CSSValue[]) => {\n        if (tokens.length === 0) {\n            return null;\n        }\n\n        const first = tokens[0];\n\n        if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {\n            return null;\n        }\n\n        const increments = [];\n        const filtered = tokens.filter(nonWhiteSpace);\n\n        for (let i = 0; i < filtered.length; i++) {\n            const counter = filtered[i];\n            const next = filtered[i + 1];\n            if (counter.type === TokenType.IDENT_TOKEN) {\n                const increment = next && isNumberToken(next) ? next.number : 1;\n                increments.push({counter: counter.value, increment});\n            }\n        }\n\n        return increments;\n    }\n};\n", "import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken, isNumberToken, nonWhiteSpace} from '../syntax/parser';\nimport {Context} from '../../core/context';\n\nexport interface COUNTER_RESET {\n    counter: string;\n    reset: number;\n}\n\nexport type CounterReset = COUNTER_RESET[];\n\nexport const counterReset: IPropertyListDescriptor<CounterReset> = {\n    name: 'counter-reset',\n    initialValue: 'none',\n    prefix: true,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (_context: Context, tokens: CSSValue[]) => {\n        if (tokens.length === 0) {\n            return [];\n        }\n\n        const resets = [];\n        const filtered = tokens.filter(nonWhiteSpace);\n\n        for (let i = 0; i < filtered.length; i++) {\n            const counter = filtered[i];\n            const next = filtered[i + 1];\n            if (isIdentToken(counter) && counter.value !== 'none') {\n                const reset = next && isNumberToken(next) ? next.number : 0;\n                resets.push({counter: counter.value, reset});\n            }\n        }\n\n        return resets;\n    }\n};\n", "import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\nimport {CSSValue, isDimensionToken} from '../syntax/parser';\nimport {time} from '../types/time';\n\nexport const duration: IPropertyListDescriptor<number[]> = {\n    name: 'duration',\n    initialValue: '0s',\n    prefix: false,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (context: Context, tokens: CSSValue[]) => {\n        return tokens.filter(isDimensionToken).map((token) => time.parse(context, token));\n    }\n};\n", "import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isStringToken} from '../syntax/parser';\nimport {TokenType} from '../syntax/tokenizer';\nimport {Context} from '../../core/context';\n\nexport interface QUOTE {\n    open: string;\n    close: string;\n}\n\nexport type Quotes = QUOTE[] | null;\n\nexport const quotes: IPropertyListDescriptor<Quotes> = {\n    name: 'quotes',\n    initialValue: 'none',\n    prefix: true,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (_context: Context, tokens: CSSValue[]) => {\n        if (tokens.length === 0) {\n            return null;\n        }\n\n        const first = tokens[0];\n\n        if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {\n            return null;\n        }\n\n        const quotes = [];\n        const filtered = tokens.filter(isStringToken);\n\n        if (filtered.length % 2 !== 0) {\n            return null;\n        }\n\n        for (let i = 0; i < filtered.length; i += 2) {\n            const open = filtered[i].value;\n            const close = filtered[i + 1].value;\n            quotes.push({open, close});\n        }\n\n        return quotes;\n    }\n};\n\nexport const getQuote = (quotes: Quotes, depth: number, open: boolean): string => {\n    if (!quotes) {\n        return '';\n    }\n\n    const quote = quotes[Math.min(depth, quotes.length - 1)];\n    if (!quote) {\n        return '';\n    }\n\n    return open ? quote.open : quote.close;\n};\n", "import {PropertyDescriptorParsingType, IPropertyListDescriptor} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentWithValue, parseFunctionArgs} from '../syntax/parser';\nimport {ZERO_LENGTH} from '../types/length-percentage';\nimport {color, Color} from '../types/color';\nimport {isLength, Length} from '../types/length';\nimport {Context} from '../../core/context';\n\nexport type BoxShadow = BoxShadowItem[];\ninterface BoxShadowItem {\n    inset: boolean;\n    color: Color;\n    offsetX: Length;\n    offsetY: Length;\n    blur: Length;\n    spread: Length;\n}\n\nexport const boxShadow: IPropertyListDescriptor<BoxShadow> = {\n    name: 'box-shadow',\n    initialValue: 'none',\n    type: PropertyDescriptorParsingType.LIST,\n    prefix: false,\n    parse: (context: Context, tokens: CSSValue[]): BoxShadow => {\n        if (tokens.length === 1 && isIdentWithValue(tokens[0], 'none')) {\n            return [];\n        }\n\n        return parseFunctionArgs(tokens).map((values: CSSValue[]) => {\n            const shadow: BoxShadowItem = {\n                color: 0x000000ff,\n                offsetX: ZERO_LENGTH,\n                offsetY: ZERO_LENGTH,\n                blur: ZERO_LENGTH,\n                spread: ZERO_LENGTH,\n                inset: false\n            };\n            let c = 0;\n            for (let i = 0; i < values.length; i++) {\n                const token = values[i];\n                if (isIdentWithValue(token, 'inset')) {\n                    shadow.inset = true;\n                } else if (isLength(token)) {\n                    if (c === 0) {\n                        shadow.offsetX = token;\n                    } else if (c === 1) {\n                        shadow.offsetY = token;\n                    } else if (c === 2) {\n                        shadow.blur = token;\n                    } else {\n                        shadow.spread = token;\n                    }\n                    c++;\n                } else {\n                    shadow.color = color.parse(context, token);\n                }\n            }\n            return shadow;\n        });\n    }\n};\n", "import {IPropertyListDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {CSSValue, isIdentToken} from '../syntax/parser';\nimport {Context} from '../../core/context';\nexport const enum PAINT_ORDER_LAYER {\n    FILL,\n    STROKE,\n    MARKERS\n}\n\nexport type PaintOrder = PAINT_ORDER_LAYER[];\n\nexport const paintOrder: IPropertyListDescriptor<PaintOrder> = {\n    name: 'paint-order',\n    initialValue: 'normal',\n    prefix: false,\n    type: PropertyDescriptorParsingType.LIST,\n    parse: (_context: Context, tokens: CSSValue[]): PaintOrder => {\n        const DEFAULT_VALUE = [PAINT_ORDER_LAYER.FILL, PAINT_ORDER_LAYER.STROKE, PAINT_ORDER_LAYER.MARKERS];\n        const layers: PaintOrder = [];\n\n        tokens.filter(isIdentToken).forEach((token) => {\n            switch (token.value) {\n                case 'stroke':\n                    layers.push(PAINT_ORDER_LAYER.STROKE);\n                    break;\n                case 'fill':\n                    layers.push(PAINT_ORDER_LAYER.FILL);\n                    break;\n                case 'markers':\n                    layers.push(PAINT_ORDER_LAYER.MARKERS);\n                    break;\n            }\n        });\n        DEFAULT_VALUE.forEach((value) => {\n            if (layers.indexOf(value) === -1) {\n                layers.push(value);\n            }\n        });\n\n        return layers;\n    }\n};\n", "import {IPropertyTypeValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nexport const webkitTextStrokeColor: IPropertyTypeValueDescriptor = {\n    name: `-webkit-text-stroke-color`,\n    initialValue: 'currentcolor',\n    prefix: false,\n    type: PropertyDescriptorParsingType.TYPE_VALUE,\n    format: 'color'\n};\n", "import {CSSValue, isDimensionToken} from '../syntax/parser';\nimport {IPropertyValueDescriptor, PropertyDescriptorParsingType} from '../IPropertyDescriptor';\nimport {Context} from '../../core/context';\nexport const webkitTextStrokeWidth: IPropertyValueDescriptor<number> = {\n    name: `-webkit-text-stroke-width`,\n    initialValue: '0',\n    type: PropertyDescriptorParsingType.VALUE,\n    prefix: false,\n    parse: (_context: Context, token: CSSValue): number => {\n        if (isDimensionToken(token)) {\n            return token.number;\n        }\n        return 0;\n    }\n};\n", "import {CSSPropertyDescriptor, PropertyDescriptorParsingType} from './IPropertyDescriptor';\nimport {backgroundClip} from './property-descriptors/background-clip';\nimport {backgroundColor} from './property-descriptors/background-color';\nimport {backgroundImage} from './property-descriptors/background-image';\nimport {backgroundOrigin} from './property-descriptors/background-origin';\nimport {backgroundPosition} from './property-descriptors/background-position';\nimport {backgroundRepeat} from './property-descriptors/background-repeat';\nimport {backgroundSize} from './property-descriptors/background-size';\nimport {\n    borderBottomColor,\n    borderLeftColor,\n    borderRightColor,\n    borderTopColor\n} from './property-descriptors/border-color';\nimport {\n    borderBottomLeftRadius,\n    borderBottomRightRadius,\n    borderTopLeftRadius,\n    borderTopRightRadius\n} from './property-descriptors/border-radius';\nimport {\n    borderBottomStyle,\n    borderLeftStyle,\n    borderRightStyle,\n    borderTopStyle\n} from './property-descriptors/border-style';\nimport {\n    borderBottomWidth,\n    borderLeftWidth,\n    borderRightWidth,\n    borderTopWidth\n} from './property-descriptors/border-width';\nimport {color} from './property-descriptors/color';\nimport {direction} from './property-descriptors/direction';\nimport {display, DISPLAY} from './property-descriptors/display';\nimport {float, FLOAT} from './property-descriptors/float';\nimport {letterSpacing} from './property-descriptors/letter-spacing';\nimport {lineBreak} from './property-descriptors/line-break';\nimport {lineHeight} from './property-descriptors/line-height';\nimport {listStyleImage} from './property-descriptors/list-style-image';\nimport {listStylePosition} from './property-descriptors/list-style-position';\nimport {listStyleType} from './property-descriptors/list-style-type';\nimport {marginBottom, marginLeft, marginRight, marginTop} from './property-descriptors/margin';\nimport {overflow, OVERFLOW} from './property-descriptors/overflow';\nimport {overflowWrap} from './property-descriptors/overflow-wrap';\nimport {paddingBottom, paddingLeft, paddingRight, paddingTop} from './property-descriptors/padding';\nimport {textAlign} from './property-descriptors/text-align';\nimport {position, POSITION} from './property-descriptors/position';\nimport {textShadow} from './property-descriptors/text-shadow';\nimport {textTransform} from './property-descriptors/text-transform';\nimport {transform} from './property-descriptors/transform';\nimport {transformOrigin} from './property-descriptors/transform-origin';\nimport {visibility, VISIBILITY} from './property-descriptors/visibility';\nimport {wordBreak} from './property-descriptors/word-break';\nimport {zIndex} from './property-descriptors/z-index';\nimport {CSSValue, isIdentToken, Parser} from './syntax/parser';\nimport {Tokenizer} from './syntax/tokenizer';\nimport {Color, color as colorType, isTransparent} from './types/color';\nimport {angle} from './types/angle';\nimport {image} from './types/image';\nimport {time} from './types/time';\nimport {opacity} from './property-descriptors/opacity';\nimport {textDecorationColor} from './property-descriptors/text-decoration-color';\nimport {textDecorationLine} from './property-descriptors/text-decoration-line';\nimport {isLengthPercentage, LengthPercentage, ZERO_LENGTH} from './types/length-percentage';\nimport {fontFamily} from './property-descriptors/font-family';\nimport {fontSize} from './property-descriptors/font-size';\nimport {isLength} from './types/length';\nimport {fontWeight} from './property-descriptors/font-weight';\nimport {fontVariant} from './property-descriptors/font-variant';\nimport {fontStyle} from './property-descriptors/font-style';\nimport {contains} from '../core/bitwise';\nimport {content} from './property-descriptors/content';\nimport {counterIncrement} from './property-descriptors/counter-increment';\nimport {counterReset} from './property-descriptors/counter-reset';\nimport {duration} from './property-descriptors/duration';\nimport {quotes} from './property-descriptors/quotes';\nimport {boxShadow} from './property-descriptors/box-shadow';\nimport {paintOrder} from './property-descriptors/paint-order';\nimport {webkitTextStrokeColor} from './property-descriptors/webkit-text-stroke-color';\nimport {webkitTextStrokeWidth} from './property-descriptors/webkit-text-stroke-width';\nimport {Context} from '../core/context';\n\nexport class CSSParsedDeclaration {\n    animationDuration: ReturnType<typeof duration.parse>;\n    backgroundClip: ReturnType<typeof backgroundClip.parse>;\n    backgroundColor: Color;\n    backgroundImage: ReturnType<typeof backgroundImage.parse>;\n    backgroundOrigin: ReturnType<typeof backgroundOrigin.parse>;\n    backgroundPosition: ReturnType<typeof backgroundPosition.parse>;\n    backgroundRepeat: ReturnType<typeof backgroundRepeat.parse>;\n    backgroundSize: ReturnType<typeof backgroundSize.parse>;\n    borderTopColor: Color;\n    borderRightColor: Color;\n    borderBottomColor: Color;\n    borderLeftColor: Color;\n    borderTopLeftRadius: ReturnType<typeof borderTopLeftRadius.parse>;\n    borderTopRightRadius: ReturnType<typeof borderTopRightRadius.parse>;\n    borderBottomRightRadius: ReturnType<typeof borderBottomRightRadius.parse>;\n    borderBottomLeftRadius: ReturnType<typeof borderBottomLeftRadius.parse>;\n    borderTopStyle: ReturnType<typeof borderTopStyle.parse>;\n    borderRightStyle: ReturnType<typeof borderRightStyle.parse>;\n    borderBottomStyle: ReturnType<typeof borderBottomStyle.parse>;\n    borderLeftStyle: ReturnType<typeof borderLeftStyle.parse>;\n    borderTopWidth: ReturnType<typeof borderTopWidth.parse>;\n    borderRightWidth: ReturnType<typeof borderRightWidth.parse>;\n    borderBottomWidth: ReturnType<typeof borderBottomWidth.parse>;\n    borderLeftWidth: ReturnType<typeof borderLeftWidth.parse>;\n    boxShadow: ReturnType<typeof boxShadow.parse>;\n    color: Color;\n    direction: ReturnType<typeof direction.parse>;\n    display: ReturnType<typeof display.parse>;\n    float: ReturnType<typeof float.parse>;\n    fontFamily: ReturnType<typeof fontFamily.parse>;\n    fontSize: LengthPercentage;\n    fontStyle: ReturnType<typeof fontStyle.parse>;\n    fontVariant: ReturnType<typeof fontVariant.parse>;\n    fontWeight: ReturnType<typeof fontWeight.parse>;\n    letterSpacing: ReturnType<typeof letterSpacing.parse>;\n    lineBreak: ReturnType<typeof lineBreak.parse>;\n    lineHeight: CSSValue;\n    listStyleImage: ReturnType<typeof listStyleImage.parse>;\n    listStylePosition: ReturnType<typeof listStylePosition.parse>;\n    listStyleType: ReturnType<typeof listStyleType.parse>;\n    marginTop: CSSValue;\n    marginRight: CSSValue;\n    marginBottom: CSSValue;\n    marginLeft: CSSValue;\n    opacity: ReturnType<typeof opacity.parse>;\n    overflowX: OVERFLOW;\n    overflowY: OVERFLOW;\n    overflowWrap: ReturnType<typeof overflowWrap.parse>;\n    paddingTop: LengthPercentage;\n    paddingRight: LengthPercentage;\n    paddingBottom: LengthPercentage;\n    paddingLeft: LengthPercentage;\n    paintOrder: ReturnType<typeof paintOrder.parse>;\n    position: ReturnType<typeof position.parse>;\n    textAlign: ReturnType<typeof textAlign.parse>;\n    textDecorationColor: Color;\n    textDecorationLine: ReturnType<typeof textDecorationLine.parse>;\n    textShadow: ReturnType<typeof textShadow.parse>;\n    textTransform: ReturnType<typeof textTransform.parse>;\n    transform: ReturnType<typeof transform.parse>;\n    transformOrigin: ReturnType<typeof transformOrigin.parse>;\n    visibility: ReturnType<typeof visibility.parse>;\n    webkitTextStrokeColor: Color;\n    webkitTextStrokeWidth: ReturnType<typeof webkitTextStrokeWidth.parse>;\n    wordBreak: ReturnType<typeof wordBreak.parse>;\n    zIndex: ReturnType<typeof zIndex.parse>;\n\n    constructor(context: Context, declaration: CSSStyleDeclaration) {\n        this.animationDuration = parse(context, duration, declaration.animationDuration);\n        this.backgroundClip = parse(context, backgroundClip, declaration.backgroundClip);\n        this.backgroundColor = parse(context, backgroundColor, declaration.backgroundColor);\n        this.backgroundImage = parse(context, backgroundImage, declaration.backgroundImage);\n        this.backgroundOrigin = parse(context, backgroundOrigin, declaration.backgroundOrigin);\n        this.backgroundPosition = parse(context, backgroundPosition, declaration.backgroundPosition);\n        this.backgroundRepeat = parse(context, backgroundRepeat, declaration.backgroundRepeat);\n        this.backgroundSize = parse(context, backgroundSize, declaration.backgroundSize);\n        this.borderTopColor = parse(context, borderTopColor, declaration.borderTopColor);\n        this.borderRightColor = parse(context, borderRightColor, declaration.borderRightColor);\n        this.borderBottomColor = parse(context, borderBottomColor, declaration.borderBottomColor);\n        this.borderLeftColor = parse(context, borderLeftColor, declaration.borderLeftColor);\n        this.borderTopLeftRadius = parse(context, borderTopLeftRadius, declaration.borderTopLeftRadius);\n        this.borderTopRightRadius = parse(context, borderTopRightRadius, declaration.borderTopRightRadius);\n        this.borderBottomRightRadius = parse(context, borderBottomRightRadius, declaration.borderBottomRightRadius);\n        this.borderBottomLeftRadius = parse(context, borderBottomLeftRadius, declaration.borderBottomLeftRadius);\n        this.borderTopStyle = parse(context, borderTopStyle, declaration.borderTopStyle);\n        this.borderRightStyle = parse(context, borderRightStyle, declaration.borderRightStyle);\n        this.borderBottomStyle = parse(context, borderBottomStyle, declaration.borderBottomStyle);\n        this.borderLeftStyle = parse(context, borderLeftStyle, declaration.borderLeftStyle);\n        this.borderTopWidth = parse(context, borderTopWidth, declaration.borderTopWidth);\n        this.borderRightWidth = parse(context, borderRightWidth, declaration.borderRightWidth);\n        this.borderBottomWidth = parse(context, borderBottomWidth, declaration.borderBottomWidth);\n        this.borderLeftWidth = parse(context, borderLeftWidth, declaration.borderLeftWidth);\n        this.boxShadow = parse(context, boxShadow, declaration.boxShadow);\n        this.color = parse(context, color, declaration.color);\n        this.direction = parse(context, direction, declaration.direction);\n        this.display = parse(context, display, declaration.display);\n        this.float = parse(context, float, declaration.cssFloat);\n        this.fontFamily = parse(context, fontFamily, declaration.fontFamily);\n        this.fontSize = parse(context, fontSize, declaration.fontSize);\n        this.fontStyle = parse(context, fontStyle, declaration.fontStyle);\n        this.fontVariant = parse(context, fontVariant, declaration.fontVariant);\n        this.fontWeight = parse(context, fontWeight, declaration.fontWeight);\n        this.letterSpacing = parse(context, letterSpacing, declaration.letterSpacing);\n        this.lineBreak = parse(context, lineBreak, declaration.lineBreak);\n        this.lineHeight = parse(context, lineHeight, declaration.lineHeight);\n        this.listStyleImage = parse(context, listStyleImage, declaration.listStyleImage);\n        this.listStylePosition = parse(context, listStylePosition, declaration.listStylePosition);\n        this.listStyleType = parse(context, listStyleType, declaration.listStyleType);\n        this.marginTop = parse(context, marginTop, declaration.marginTop);\n        this.marginRight = parse(context, marginRight, declaration.marginRight);\n        this.marginBottom = parse(context, marginBottom, declaration.marginBottom);\n        this.marginLeft = parse(context, marginLeft, declaration.marginLeft);\n        this.opacity = parse(context, opacity, declaration.opacity);\n        const overflowTuple = parse(context, overflow, declaration.overflow);\n        this.overflowX = overflowTuple[0];\n        this.overflowY = overflowTuple[overflowTuple.length > 1 ? 1 : 0];\n        this.overflowWrap = parse(context, overflowWrap, declaration.overflowWrap);\n        this.paddingTop = parse(context, paddingTop, declaration.paddingTop);\n        this.paddingRight = parse(context, paddingRight, declaration.paddingRight);\n        this.paddingBottom = parse(context, paddingBottom, declaration.paddingBottom);\n        this.paddingLeft = parse(context, paddingLeft, declaration.paddingLeft);\n        this.paintOrder = parse(context, paintOrder, declaration.paintOrder);\n        this.position = parse(context, position, declaration.position);\n        this.textAlign = parse(context, textAlign, declaration.textAlign);\n        this.textDecorationColor = parse(\n            context,\n            textDecorationColor,\n            declaration.textDecorationColor ?? declaration.color\n        );\n        this.textDecorationLine = parse(\n            context,\n            textDecorationLine,\n            declaration.textDecorationLine ?? declaration.textDecoration\n        );\n        this.textShadow = parse(context, textShadow, declaration.textShadow);\n        this.textTransform = parse(context, textTransform, declaration.textTransform);\n        this.transform = parse(context, transform, declaration.transform);\n        this.transformOrigin = parse(context, transformOrigin, declaration.transformOrigin);\n        this.visibility = parse(context, visibility, declaration.visibility);\n        this.webkitTextStrokeColor = parse(context, webkitTextStrokeColor, declaration.webkitTextStrokeColor);\n        this.webkitTextStrokeWidth = parse(context, webkitTextStrokeWidth, declaration.webkitTextStrokeWidth);\n        this.wordBreak = parse(context, wordBreak, declaration.wordBreak);\n        this.zIndex = parse(context, zIndex, declaration.zIndex);\n    }\n\n    isVisible(): boolean {\n        return this.display > 0 && this.opacity > 0 && this.visibility === VISIBILITY.VISIBLE;\n    }\n\n    isTransparent(): boolean {\n        return isTransparent(this.backgroundColor);\n    }\n\n    isTransformed(): boolean {\n        return this.transform !== null;\n    }\n\n    isPositioned(): boolean {\n        return this.position !== POSITION.STATIC;\n    }\n\n    isPositionedWithZIndex(): boolean {\n        return this.isPositioned() && !this.zIndex.auto;\n    }\n\n    isFloating(): boolean {\n        return this.float !== FLOAT.NONE;\n    }\n\n    isInlineLevel(): boolean {\n        return (\n            contains(this.display, DISPLAY.INLINE) ||\n            contains(this.display, DISPLAY.INLINE_BLOCK) ||\n            contains(this.display, DISPLAY.INLINE_FLEX) ||\n            contains(this.display, DISPLAY.INLINE_GRID) ||\n            contains(this.display, DISPLAY.INLINE_LIST_ITEM) ||\n            contains(this.display, DISPLAY.INLINE_TABLE)\n        );\n    }\n}\n\nexport class CSSParsedPseudoDeclaration {\n    content: ReturnType<typeof content.parse>;\n    quotes: ReturnType<typeof quotes.parse>;\n\n    constructor(context: Context, declaration: CSSStyleDeclaration) {\n        this.content = parse(context, content, declaration.content);\n        this.quotes = parse(context, quotes, declaration.quotes);\n    }\n}\n\nexport class CSSParsedCounterDeclaration {\n    counterIncrement: ReturnType<typeof counterIncrement.parse>;\n    counterReset: ReturnType<typeof counterReset.parse>;\n\n    constructor(context: Context, declaration: CSSStyleDeclaration) {\n        this.counterIncrement = parse(context, counterIncrement, declaration.counterIncrement);\n        this.counterReset = parse(context, counterReset, declaration.counterReset);\n    }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst parse = (context: Context, descriptor: CSSPropertyDescriptor<any>, style?: string | null) => {\n    const tokenizer = new Tokenizer();\n    const value = style !== null && typeof style !== 'undefined' ? style.toString() : descriptor.initialValue;\n    tokenizer.write(value);\n    const parser = new Parser(tokenizer.read());\n    switch (descriptor.type) {\n        case PropertyDescriptorParsingType.IDENT_VALUE:\n            const token = parser.parseComponentValue();\n            return descriptor.parse(context, isIdentToken(token) ? token.value : descriptor.initialValue);\n        case PropertyDescriptorParsingType.VALUE:\n            return descriptor.parse(context, parser.parseComponentValue());\n        case PropertyDescriptorParsingType.LIST:\n            return descriptor.parse(context, parser.parseComponentValues());\n        case PropertyDescriptorParsingType.TOKEN_VALUE:\n            return parser.parseComponentValue();\n        case PropertyDescriptorParsingType.TYPE_VALUE:\n            switch (descriptor.format) {\n                case 'angle':\n                    return angle.parse(context, parser.parseComponentValue());\n                case 'color':\n                    return colorType.parse(context, parser.parseComponentValue());\n                case 'image':\n                    return image.parse(context, parser.parseComponentValue());\n                case 'length':\n                    const length = parser.parseComponentValue();\n                    return isLength(length) ? length : ZERO_LENGTH;\n                case 'length-percentage':\n                    const value = parser.parseComponentValue();\n                    return isLengthPercentage(value) ? value : ZERO_LENGTH;\n                case 'time':\n                    return time.parse(context, parser.parseComponentValue());\n            }\n            break;\n    }\n};\n", "const elementDebuggerAttribute = 'data-html2canvas-debug';\nexport const enum DebuggerType {\n    NONE,\n    ALL,\n    CLONE,\n    PARSE,\n    RENDER\n}\n\nconst getElementDebugType = (element: Element): DebuggerType => {\n    const attribute = element.getAttribute(elementDebuggerAttribute);\n    switch (attribute) {\n        case 'all':\n            return DebuggerType.ALL;\n        case 'clone':\n            return DebuggerType.CLONE;\n        case 'parse':\n            return DebuggerType.PARSE;\n        case 'render':\n            return DebuggerType.RENDER;\n        default:\n            return DebuggerType.NONE;\n    }\n};\n\nexport const isDebugging = (element: Element, type: Omit<DebuggerType, DebuggerType.NONE>): boolean => {\n    const elementType = getElementDebugType(element);\n    return elementType === DebuggerType.ALL || type === elementType;\n};\n", "import {CSSParsedDeclaration} from '../css/index';\nimport {TextContainer} from './text-container';\nimport {Bounds, parseBounds} from '../css/layout/bounds';\nimport {isHTMLElementNode} from './node-parser';\nimport {Context} from '../core/context';\nimport {DebuggerType, isDebugging} from '../core/debugger';\n\nexport const enum FLAGS {\n    CREATES_STACKING_CONTEXT = 1 << 1,\n    CREATES_REAL_STACKING_CONTEXT = 1 << 2,\n    IS_LIST_OWNER = 1 << 3,\n    DEBUG_RENDER = 1 << 4\n}\n\nexport class ElementContainer {\n    readonly styles: CSSParsedDeclaration;\n    readonly textNodes: TextContainer[] = [];\n    readonly elements: ElementContainer[] = [];\n    bounds: Bounds;\n    flags = 0;\n\n    constructor(protected readonly context: Context, element: Element) {\n        if (isDebugging(element, DebuggerType.PARSE)) {\n            debugger;\n        }\n\n        this.styles = new CSSParsedDeclaration(context, window.getComputedStyle(element, null));\n\n        if (isHTMLElementNode(element)) {\n            if (this.styles.animationDuration.some((duration) => duration > 0)) {\n                element.style.animationDuration = '0s';\n            }\n\n            if (this.styles.transform !== null) {\n                // getBoundingClientRect takes transforms into account\n                element.style.transform = 'none';\n            }\n        }\n\n        this.bounds = parseBounds(this.context, element);\n\n        if (isDebugging(element, DebuggerType.RENDER)) {\n            this.flags |= FLAGS.DEBUG_RENDER;\n        }\n    }\n}\n", "export const base64 =\n    'AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=';\nexport const byteLength = 19616;\n", "const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n// Use a lookup table to find the index.\nconst lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (let i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\n\nexport const decode = (base64: string): ArrayBuffer | number[] => {\n    let bufferLength = base64.length * 0.75,\n        len = base64.length,\n        i,\n        p = 0,\n        encoded1,\n        encoded2,\n        encoded3,\n        encoded4;\n\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n\n    const buffer =\n        typeof ArrayBuffer !== 'undefined' &&\n        typeof Uint8Array !== 'undefined' &&\n        typeof Uint8Array.prototype.slice !== 'undefined'\n            ? new ArrayBuffer(bufferLength)\n            : new Array(bufferLength);\n    const bytes = Array.isArray(buffer) ? buffer : new Uint8Array(buffer);\n\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return buffer;\n};\n\nexport const polyUint16Array = (buffer: number[]): number[] => {\n    const length = buffer.length;\n    const bytes = [];\n    for (let i = 0; i < length; i += 2) {\n        bytes.push((buffer[i + 1] << 8) | buffer[i]);\n    }\n    return bytes;\n};\n\nexport const polyUint32Array = (buffer: number[]): number[] => {\n    const length = buffer.length;\n    const bytes = [];\n    for (let i = 0; i < length; i += 4) {\n        bytes.push((buffer[i + 3] << 24) | (buffer[i + 2] << 16) | (buffer[i + 1] << 8) | buffer[i]);\n    }\n    return bytes;\n};\n", "import {decode, polyUint16Array, polyUint32Array} from './Util';\n\nexport type int = number;\n\n/** Shift size for getting the index-2 table offset. */\nexport const UTRIE2_SHIFT_2 = 5;\n\n/** Shift size for getting the index-1 table offset. */\nexport const UTRIE2_SHIFT_1 = 6 + 5;\n\n/**\n * Shift size for shifting left the index array values.\n * Increases possible data size with 16-bit index values at the cost\n * of compactability.\n * This requires data blocks to be aligned by UTRIE2_DATA_GRANULARITY.\n */\nexport const UTRIE2_INDEX_SHIFT = 2;\n\n/**\n * Difference between the two shift sizes,\n * for getting an index-1 offset from an index-2 offset. 6=11-5\n */\nexport const UTRIE2_SHIFT_1_2 = UTRIE2_SHIFT_1 - UTRIE2_SHIFT_2;\n\n/**\n * The part of the index-2 table for U+D800..U+DBFF stores values for\n * lead surrogate code _units_ not code _points_.\n * Values for lead surrogate code _points_ are indexed with this portion of the table.\n * Length=32=0x20=0x400>>UTRIE2_SHIFT_2. (There are 1024=0x400 lead surrogates.)\n */\nexport const UTRIE2_LSCP_INDEX_2_OFFSET = 0x10000 >> UTRIE2_SHIFT_2;\n\n/** Number of entries in a data block. 32=0x20 */\nexport const UTRIE2_DATA_BLOCK_LENGTH = 1 << UTRIE2_SHIFT_2;\n/** Mask for getting the lower bits for the in-data-block offset. */\nexport const UTRIE2_DATA_MASK = UTRIE2_DATA_BLOCK_LENGTH - 1;\n\nexport const UTRIE2_LSCP_INDEX_2_LENGTH = 0x400 >> UTRIE2_SHIFT_2;\n/** Count the lengths of both BMP pieces. 2080=0x820 */\nexport const UTRIE2_INDEX_2_BMP_LENGTH = UTRIE2_LSCP_INDEX_2_OFFSET + UTRIE2_LSCP_INDEX_2_LENGTH;\n/**\n * The 2-byte UTF-8 version of the index-2 table follows at offset 2080=0x820.\n * Length 32=0x20 for lead bytes C0..DF, regardless of UTRIE2_SHIFT_2.\n */\nexport const UTRIE2_UTF8_2B_INDEX_2_OFFSET = UTRIE2_INDEX_2_BMP_LENGTH;\nexport const UTRIE2_UTF8_2B_INDEX_2_LENGTH = 0x800 >> 6; /* U+0800 is the first code point after 2-byte UTF-8 */\n/**\n * The index-1 table, only used for supplementary code points, at offset 2112=0x840.\n * Variable length, for code points up to highStart, where the last single-value range starts.\n * Maximum length 512=0x200=0x100000>>UTRIE2_SHIFT_1.\n * (For 0x100000 supplementary code points U+10000..U+10ffff.)\n *\n * The part of the index-2 table for supplementary code points starts\n * after this index-1 table.\n *\n * Both the index-1 table and the following part of the index-2 table\n * are omitted completely if there is only BMP data.\n */\nexport const UTRIE2_INDEX_1_OFFSET = UTRIE2_UTF8_2B_INDEX_2_OFFSET + UTRIE2_UTF8_2B_INDEX_2_LENGTH;\n\n/**\n * Number of index-1 entries for the BMP. 32=0x20\n * This part of the index-1 table is omitted from the serialized form.\n */\nexport const UTRIE2_OMITTED_BMP_INDEX_1_LENGTH = 0x10000 >> UTRIE2_SHIFT_1;\n\n/** Number of entries in an index-2 block. 64=0x40 */\nexport const UTRIE2_INDEX_2_BLOCK_LENGTH = 1 << UTRIE2_SHIFT_1_2;\n/** Mask for getting the lower bits for the in-index-2-block offset. */\nexport const UTRIE2_INDEX_2_MASK = UTRIE2_INDEX_2_BLOCK_LENGTH - 1;\n\nconst slice16 = (view: number[] | Uint16Array, start: number, end?: number) => {\n    if (view.slice) {\n        return view.slice(start, end);\n    }\n\n    return new Uint16Array(Array.prototype.slice.call(view, start, end));\n};\n\nconst slice32 = (view: number[] | Uint32Array, start: number, end?: number) => {\n    if (view.slice) {\n        return view.slice(start, end);\n    }\n\n    return new Uint32Array(Array.prototype.slice.call(view, start, end));\n};\n\nexport const createTrieFromBase64 = (base64: string, _byteLength: number): Trie => {\n    const buffer = decode(base64);\n    const view32 = Array.isArray(buffer) ? polyUint32Array(buffer) : new Uint32Array(buffer);\n    const view16 = Array.isArray(buffer) ? polyUint16Array(buffer) : new Uint16Array(buffer);\n    const headerLength = 24;\n\n    const index = slice16(view16, headerLength / 2, view32[4] / 2);\n    const data =\n        view32[5] === 2\n            ? slice16(view16, (headerLength + view32[4]) / 2)\n            : slice32(view32, Math.ceil((headerLength + view32[4]) / 4));\n\n    return new Trie(view32[0], view32[1], view32[2], view32[3], index, data);\n};\n\nexport class Trie {\n    initialValue: int;\n    errorValue: int;\n    highStart: int;\n    highValueIndex: int;\n    index: Uint16Array | number[];\n    data: Uint32Array | Uint16Array | number[];\n\n    constructor(\n        initialValue: int,\n        errorValue: int,\n        highStart: int,\n        highValueIndex: int,\n        index: Uint16Array | number[],\n        data: Uint32Array | Uint16Array | number[]\n    ) {\n        this.initialValue = initialValue;\n        this.errorValue = errorValue;\n        this.highStart = highStart;\n        this.highValueIndex = highValueIndex;\n        this.index = index;\n        this.data = data;\n    }\n\n    /**\n     * Get the value for a code point as stored in the Trie.\n     *\n     * @param codePoint the code point\n     * @return the value\n     */\n    get(codePoint: number): number {\n        let ix;\n        if (codePoint >= 0) {\n            if (codePoint < 0x0d800 || (codePoint > 0x0dbff && codePoint <= 0x0ffff)) {\n                // Ordinary BMP code point, excluding leading surrogates.\n                // BMP uses a single level lookup.  BMP index starts at offset 0 in the Trie2 index.\n                // 16 bit data is stored in the index array itself.\n                ix = this.index[codePoint >> UTRIE2_SHIFT_2];\n                ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\n                return this.data[ix];\n            }\n\n            if (codePoint <= 0xffff) {\n                // Lead Surrogate Code Point.  A Separate index section is stored for\n                // lead surrogate code units and code points.\n                //   The main index has the code unit data.\n                //   For this function, we need the code point data.\n                // Note: this expression could be refactored for slightly improved efficiency, but\n                //       surrogate code points will be so rare in practice that it's not worth it.\n                ix = this.index[UTRIE2_LSCP_INDEX_2_OFFSET + ((codePoint - 0xd800) >> UTRIE2_SHIFT_2)];\n                ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\n                return this.data[ix];\n            }\n\n            if (codePoint < this.highStart) {\n                // Supplemental code point, use two-level lookup.\n                ix = UTRIE2_INDEX_1_OFFSET - UTRIE2_OMITTED_BMP_INDEX_1_LENGTH + (codePoint >> UTRIE2_SHIFT_1);\n                ix = this.index[ix];\n                ix += (codePoint >> UTRIE2_SHIFT_2) & UTRIE2_INDEX_2_MASK;\n                ix = this.index[ix];\n                ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\n                return this.data[ix];\n            }\n            if (codePoint <= 0x10ffff) {\n                return this.data[this.highValueIndex];\n            }\n        }\n\n        // Fall through.  The code point is outside of the legal range of 0..0x10ffff.\n        return this.errorValue;\n    }\n}\n", "const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n// Use a lookup table to find the index.\nconst lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (let i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\n\nexport const encode = (arraybuffer: ArrayBuffer): string => {\n    let bytes = new Uint8Array(arraybuffer),\n        i,\n        len = bytes.length,\n        base64 = '';\n\n    for (i = 0; i < len; i += 3) {\n        base64 += chars[bytes[i] >> 2];\n        base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n        base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n        base64 += chars[bytes[i + 2] & 63];\n    }\n\n    if (len % 3 === 2) {\n        base64 = base64.substring(0, base64.length - 1) + '=';\n    } else if (len % 3 === 1) {\n        base64 = base64.substring(0, base64.length - 2) + '==';\n    }\n\n    return base64;\n};\n\nexport const decode = (base64: string): ArrayBuffer => {\n    let bufferLength = base64.length * 0.75,\n        len = base64.length,\n        i,\n        p = 0,\n        encoded1,\n        encoded2,\n        encoded3,\n        encoded4;\n\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n\n    const arraybuffer = new ArrayBuffer(bufferLength),\n        bytes = new Uint8Array(arraybuffer);\n\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return arraybuffer;\n};\n", "import {base64, byteLength} from './grapheme-break-trie';\nimport {createTrieFromBase64} from 'utrie';\n\nconst Other = 0;\nconst Prepend = 1;\nconst CR = 2;\nconst LF = 3;\nconst Control = 4;\nconst Extend = 5;\nconst Regional_Indicator = 6;\nconst SpacingMark = 7;\nconst L = 8;\nconst V = 9;\nconst T = 10;\nconst LV = 11;\nconst LVT = 12;\nconst ZWJ = 13;\nconst Extended_Pictographic = 14;\nconst RI = 15;\n\nexport const classes: {[key: string]: number} = {\n    Other,\n    Prepend,\n    CR,\n    LF,\n    Control,\n    Extend,\n    Regional_Indicator,\n    SpacingMark,\n    L,\n    V,\n    T,\n    LV,\n    LVT,\n    ZWJ,\n    Extended_Pictographic,\n    RI,\n};\n\nexport const toCodePoints = (str: string): number[] => {\n    const codePoints = [];\n    let i = 0;\n    const length = str.length;\n    while (i < length) {\n        const value = str.charCodeAt(i++);\n        if (value >= 0xd800 && value <= 0xdbff && i < length) {\n            const extra = str.charCodeAt(i++);\n            if ((extra & 0xfc00) === 0xdc00) {\n                codePoints.push(((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000);\n            } else {\n                codePoints.push(value);\n                i--;\n            }\n        } else {\n            codePoints.push(value);\n        }\n    }\n    return codePoints;\n};\n\nexport const fromCodePoint = (...codePoints: number[]): string => {\n    if (String.fromCodePoint) {\n        return String.fromCodePoint(...codePoints);\n    }\n\n    const length = codePoints.length;\n    if (!length) {\n        return '';\n    }\n\n    const codeUnits = [];\n\n    let index = -1;\n    let result = '';\n    while (++index < length) {\n        let codePoint = codePoints[index];\n        if (codePoint <= 0xffff) {\n            codeUnits.push(codePoint);\n        } else {\n            codePoint -= 0x10000;\n            codeUnits.push((codePoint >> 10) + 0xd800, (codePoint % 0x400) + 0xdc00);\n        }\n        if (index + 1 === length || codeUnits.length > 0x4000) {\n            result += String.fromCharCode(...codeUnits);\n            codeUnits.length = 0;\n        }\n    }\n    return result;\n};\n\nexport const UnicodeTrie = createTrieFromBase64(base64, byteLength);\n\nexport const BREAK_NOT_ALLOWED = '';\nexport const BREAK_ALLOWED = '';\n\nexport type BREAK_OPPORTUNITIES = typeof BREAK_NOT_ALLOWED | typeof BREAK_ALLOWED;\n\nexport const codePointToClass = (codePoint: number): number => UnicodeTrie.get(codePoint);\n\nconst _graphemeBreakAtIndex = (_codePoints: number[], classTypes: number[], index: number): BREAK_OPPORTUNITIES => {\n    let prevIndex = index - 2;\n    let prev = classTypes[prevIndex];\n    const current = classTypes[index - 1];\n    const next = classTypes[index];\n    // GB3 Do not break between a CR and LF\n    if (current === CR && next === LF) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // GB4 Otherwise, break before and after controls.\n    if (current === CR || current === LF || current === Control) {\n        return BREAK_ALLOWED;\n    }\n\n    // GB5\n    if (next === CR || next === LF || next === Control) {\n        return BREAK_ALLOWED;\n    }\n\n    // Do not break Hangul syllable sequences.\n    // GB6\n    if (current === L && [L, V, LV, LVT].indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // GB7\n    if ((current === LV || current === V) && (next === V || next === T)) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // GB8\n    if ((current === LVT || current === T) && next === T) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // GB9 Do not break before extending characters or ZWJ.\n    if (next === ZWJ || next === Extend) {\n        return BREAK_NOT_ALLOWED;\n    }\n    // Do not break before SpacingMarks, or after Prepend characters.\n    // GB9a\n    if (next === SpacingMark) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // GB9a\n    if (current === Prepend) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // GB11 Do not break within emoji modifier sequences or emoji zwj sequences.\n    if (current === ZWJ && next === Extended_Pictographic) {\n        while (prev === Extend) {\n            prev = classTypes[--prevIndex];\n        }\n        if (prev === Extended_Pictographic) {\n            return BREAK_NOT_ALLOWED;\n        }\n    }\n\n    // GB12 Do not break within emoji flag sequences.\n    // That is, do not break between regional indicator (RI) symbols\n    // if there is an odd number of RI characters before the break point.\n    if (current === RI && next === RI) {\n        let countRI = 0;\n        while (prev === RI) {\n            countRI++;\n            prev = classTypes[--prevIndex];\n        }\n        if (countRI % 2 === 0) {\n            return BREAK_NOT_ALLOWED;\n        }\n    }\n\n    return BREAK_ALLOWED;\n};\n\nexport const graphemeBreakAtIndex = (codePoints: number[], index: number): BREAK_OPPORTUNITIES => {\n    // GB1 Break at the start and end of text, unless the text is empty.\n    if (index === 0) {\n        return BREAK_ALLOWED;\n    }\n\n    // GB2\n    if (index >= codePoints.length) {\n        return BREAK_ALLOWED;\n    }\n\n    const classTypes = codePoints.map(codePointToClass);\n    return _graphemeBreakAtIndex(codePoints, classTypes, index);\n};\n\nexport const GraphemeBreaker = (str: string) => {\n    const codePoints = toCodePoints(str);\n    const length = codePoints.length;\n    let index = 0;\n    let lastEnd = 0;\n    const classTypes = codePoints.map(codePointToClass);\n\n    return {\n        next: () => {\n            if (index >= length) {\n                return {done: true, value: null};\n            }\n\n            let graphemeBreak = BREAK_NOT_ALLOWED;\n            while (\n                index < length &&\n                (graphemeBreak = _graphemeBreakAtIndex(codePoints, classTypes, ++index)) === BREAK_NOT_ALLOWED\n            ) {}\n\n            if (graphemeBreak !== BREAK_NOT_ALLOWED || index === length) {\n                const value = fromCodePoint.apply(null, codePoints.slice(lastEnd, index));\n                lastEnd = index;\n                return {value, done: false};\n            }\n\n            return {done: true, value: null};\n            while (index < length) {}\n\n            return {done: true, value: null};\n        },\n    };\n};\n\nexport const splitGraphemes = (str: string): string[] => {\n    const breaker = GraphemeBreaker(str);\n\n    const graphemes = [];\n    let bk;\n\n    while (!(bk = breaker.next()).done) {\n        if (bk.value) {\n            graphemes.push(bk.value.slice());\n        }\n    }\n\n    return graphemes;\n};\n", "import {fromCodePoint, toCodePoints} from 'css-line-break';\n\nconst testRangeBounds = (document: Document) => {\n    const TEST_HEIGHT = 123;\n\n    if (document.createRange) {\n        const range = document.createRange();\n        if (range.getBoundingClientRect) {\n            const testElement = document.createElement('boundtest');\n            testElement.style.height = `${TEST_HEIGHT}px`;\n            testElement.style.display = 'block';\n            document.body.appendChild(testElement);\n\n            range.selectNode(testElement);\n            const rangeBounds = range.getBoundingClientRect();\n            const rangeHeight = Math.round(rangeBounds.height);\n            document.body.removeChild(testElement);\n            if (rangeHeight === TEST_HEIGHT) {\n                return true;\n            }\n        }\n    }\n\n    return false;\n};\n\nconst testIOSLineBreak = (document: Document) => {\n    const testElement = document.createElement('boundtest');\n    testElement.style.width = '50px';\n    testElement.style.display = 'block';\n    testElement.style.fontSize = '12px';\n    testElement.style.letterSpacing = '0px';\n    testElement.style.wordSpacing = '0px';\n    document.body.appendChild(testElement);\n    const range = document.createRange();\n\n    testElement.innerHTML = typeof ''.repeat === 'function' ? '&#128104;'.repeat(10) : '';\n\n    const node = testElement.firstChild as Text;\n\n    const textList = toCodePoints(node.data).map((i) => fromCodePoint(i));\n    let offset = 0;\n    let prev: DOMRect = {} as DOMRect;\n\n    // ios 13 does not handle range getBoundingClientRect line changes correctly #2177\n    const supports = textList.every((text, i) => {\n        range.setStart(node, offset);\n        range.setEnd(node, offset + text.length);\n        const rect = range.getBoundingClientRect();\n\n        offset += text.length;\n        const boundAhead = rect.x > prev.x || rect.y > prev.y;\n\n        prev = rect;\n        if (i === 0) {\n            return true;\n        }\n\n        return boundAhead;\n    });\n\n    document.body.removeChild(testElement);\n    return supports;\n};\n\nconst testCORS = (): boolean => typeof new Image().crossOrigin !== 'undefined';\n\nconst testResponseType = (): boolean => typeof new XMLHttpRequest().responseType === 'string';\n\nconst testSVG = (document: Document): boolean => {\n    const img = new Image();\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n    if (!ctx) {\n        return false;\n    }\n\n    img.src = `data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>`;\n\n    try {\n        ctx.drawImage(img, 0, 0);\n        canvas.toDataURL();\n    } catch (e) {\n        return false;\n    }\n    return true;\n};\n\nconst isGreenPixel = (data: Uint8ClampedArray): boolean =>\n    data[0] === 0 && data[1] === 255 && data[2] === 0 && data[3] === 255;\n\nconst testForeignObject = (document: Document): Promise<boolean> => {\n    const canvas = document.createElement('canvas');\n    const size = 100;\n    canvas.width = size;\n    canvas.height = size;\n    const ctx = canvas.getContext('2d');\n    if (!ctx) {\n        return Promise.reject(false);\n    }\n    ctx.fillStyle = 'rgb(0, 255, 0)';\n    ctx.fillRect(0, 0, size, size);\n\n    const img = new Image();\n    const greenImageSrc = canvas.toDataURL();\n    img.src = greenImageSrc;\n    const svg = createForeignObjectSVG(size, size, 0, 0, img);\n    ctx.fillStyle = 'red';\n    ctx.fillRect(0, 0, size, size);\n\n    return loadSerializedSVG(svg)\n        .then((img: HTMLImageElement) => {\n            ctx.drawImage(img, 0, 0);\n            const data = ctx.getImageData(0, 0, size, size).data;\n            ctx.fillStyle = 'red';\n            ctx.fillRect(0, 0, size, size);\n\n            const node = document.createElement('div');\n            node.style.backgroundImage = `url(${greenImageSrc})`;\n            node.style.height = `${size}px`;\n            // Firefox 55 does not render inline <img /> tags\n            return isGreenPixel(data)\n                ? loadSerializedSVG(createForeignObjectSVG(size, size, 0, 0, node))\n                : Promise.reject(false);\n        })\n        .then((img: HTMLImageElement) => {\n            ctx.drawImage(img, 0, 0);\n            // Edge does not render background-images\n            return isGreenPixel(ctx.getImageData(0, 0, size, size).data);\n        })\n        .catch(() => false);\n};\n\nexport const createForeignObjectSVG = (\n    width: number,\n    height: number,\n    x: number,\n    y: number,\n    node: Node\n): SVGForeignObjectElement => {\n    const xmlns = 'http://www.w3.org/2000/svg';\n    const svg = document.createElementNS(xmlns, 'svg');\n    const foreignObject = document.createElementNS(xmlns, 'foreignObject');\n    svg.setAttributeNS(null, 'width', width.toString());\n    svg.setAttributeNS(null, 'height', height.toString());\n\n    foreignObject.setAttributeNS(null, 'width', '100%');\n    foreignObject.setAttributeNS(null, 'height', '100%');\n    foreignObject.setAttributeNS(null, 'x', x.toString());\n    foreignObject.setAttributeNS(null, 'y', y.toString());\n    foreignObject.setAttributeNS(null, 'externalResourcesRequired', 'true');\n    svg.appendChild(foreignObject);\n\n    foreignObject.appendChild(node);\n\n    return svg;\n};\n\nexport const loadSerializedSVG = (svg: Node): Promise<HTMLImageElement> => {\n    return new Promise((resolve, reject) => {\n        const img = new Image();\n        img.onload = () => resolve(img);\n        img.onerror = reject;\n\n        img.src = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(new XMLSerializer().serializeToString(svg))}`;\n    });\n};\n\nexport const FEATURES = {\n    get SUPPORT_RANGE_BOUNDS(): boolean {\n        'use strict';\n        const value = testRangeBounds(document);\n        Object.defineProperty(FEATURES, 'SUPPORT_RANGE_BOUNDS', {value});\n        return value;\n    },\n    get SUPPORT_WORD_BREAKING(): boolean {\n        'use strict';\n        const value = FEATURES.SUPPORT_RANGE_BOUNDS && testIOSLineBreak(document);\n        Object.defineProperty(FEATURES, 'SUPPORT_WORD_BREAKING', {value});\n        return value;\n    },\n    get SUPPORT_SVG_DRAWING(): boolean {\n        'use strict';\n        const value = testSVG(document);\n        Object.defineProperty(FEATURES, 'SUPPORT_SVG_DRAWING', {value});\n        return value;\n    },\n    get SUPPORT_FOREIGNOBJECT_DRAWING(): Promise<boolean> {\n        'use strict';\n        const value =\n            typeof Array.from === 'function' && typeof window.fetch === 'function'\n                ? testForeignObject(document)\n                : Promise.resolve(false);\n        Object.defineProperty(FEATURES, 'SUPPORT_FOREIGNOBJECT_DRAWING', {value});\n        return value;\n    },\n    get SUPPORT_CORS_IMAGES(): boolean {\n        'use strict';\n        const value = testCORS();\n        Object.defineProperty(FEATURES, 'SUPPORT_CORS_IMAGES', {value});\n        return value;\n    },\n    get SUPPORT_RESPONSE_TYPE(): boolean {\n        'use strict';\n        const value = testResponseType();\n        Object.defineProperty(FEATURES, 'SUPPORT_RESPONSE_TYPE', {value});\n        return value;\n    },\n    get SUPPORT_CORS_XHR(): boolean {\n        'use strict';\n        const value = 'withCredentials' in new XMLHttpRequest();\n        Object.defineProperty(FEATURES, 'SUPPORT_CORS_XHR', {value});\n        return value;\n    },\n    get SUPPORT_NATIVE_TEXT_SEGMENTATION(): boolean {\n        'use strict';\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const value = !!(typeof Intl !== 'undefined' && (Intl as any).Segmenter);\n        Object.defineProperty(FEATURES, 'SUPPORT_NATIVE_TEXT_SEGMENTATION', {value});\n        return value;\n    }\n};\n", "import {OVERFLOW_WRAP} from '../property-descriptors/overflow-wrap';\nimport {CSSParsedDeclaration} from '../index';\nimport {fromCodePoint, LineBreaker, toCodePoints} from 'css-line-break';\nimport {splitGraphemes} from 'text-segmentation';\nimport {Bounds, parseBounds} from './bounds';\nimport {FEATURES} from '../../core/features';\nimport {Context} from '../../core/context';\n\nexport class TextBounds {\n    readonly text: string;\n    readonly bounds: Bounds;\n\n    constructor(text: string, bounds: Bounds) {\n        this.text = text;\n        this.bounds = bounds;\n    }\n}\n\nexport const parseTextBounds = (\n    context: Context,\n    value: string,\n    styles: CSSParsedDeclaration,\n    node: Text\n): TextBounds[] => {\n    const textList = breakText(value, styles);\n    const textBounds: TextBounds[] = [];\n    let offset = 0;\n    textList.forEach((text) => {\n        if (styles.textDecorationLine.length || text.trim().length > 0) {\n            if (FEATURES.SUPPORT_RANGE_BOUNDS) {\n                const clientRects = createRange(node, offset, text.length).getClientRects();\n                if (clientRects.length > 1) {\n                    const subSegments = segmentGraphemes(text);\n                    let subOffset = 0;\n                    subSegments.forEach((subSegment) => {\n                        textBounds.push(\n                            new TextBounds(\n                                subSegment,\n                                Bounds.fromDOMRectList(\n                                    context,\n                                    createRange(node, subOffset + offset, subSegment.length).getClientRects()\n                                )\n                            )\n                        );\n                        subOffset += subSegment.length;\n                    });\n                } else {\n                    textBounds.push(new TextBounds(text, Bounds.fromDOMRectList(context, clientRects)));\n                }\n            } else {\n                const replacementNode = node.splitText(text.length);\n                textBounds.push(new TextBounds(text, getWrapperBounds(context, node)));\n                node = replacementNode;\n            }\n        } else if (!FEATURES.SUPPORT_RANGE_BOUNDS) {\n            node = node.splitText(text.length);\n        }\n        offset += text.length;\n    });\n\n    return textBounds;\n};\n\nconst getWrapperBounds = (context: Context, node: Text): Bounds => {\n    const ownerDocument = node.ownerDocument;\n    if (ownerDocument) {\n        const wrapper = ownerDocument.createElement('html2canvaswrapper');\n        wrapper.appendChild(node.cloneNode(true));\n        const parentNode = node.parentNode;\n        if (parentNode) {\n            parentNode.replaceChild(wrapper, node);\n            const bounds = parseBounds(context, wrapper);\n            if (wrapper.firstChild) {\n                parentNode.replaceChild(wrapper.firstChild, wrapper);\n            }\n            return bounds;\n        }\n    }\n\n    return Bounds.EMPTY;\n};\n\nconst createRange = (node: Text, offset: number, length: number): Range => {\n    const ownerDocument = node.ownerDocument;\n    if (!ownerDocument) {\n        throw new Error('Node has no owner document');\n    }\n    const range = ownerDocument.createRange();\n    range.setStart(node, offset);\n    range.setEnd(node, offset + length);\n    return range;\n};\n\nexport const segmentGraphemes = (value: string): string[] => {\n    if (FEATURES.SUPPORT_NATIVE_TEXT_SEGMENTATION) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const segmenter = new (Intl as any).Segmenter(void 0, {granularity: 'grapheme'});\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return Array.from(segmenter.segment(value)).map((segment: any) => segment.segment);\n    }\n\n    return splitGraphemes(value);\n};\n\nconst segmentWords = (value: string, styles: CSSParsedDeclaration): string[] => {\n    if (FEATURES.SUPPORT_NATIVE_TEXT_SEGMENTATION) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const segmenter = new (Intl as any).Segmenter(void 0, {\n            granularity: 'word'\n        });\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return Array.from(segmenter.segment(value)).map((segment: any) => segment.segment);\n    }\n\n    return breakWords(value, styles);\n};\n\nconst breakText = (value: string, styles: CSSParsedDeclaration): string[] => {\n    return styles.letterSpacing !== 0 ? segmentGraphemes(value) : segmentWords(value, styles);\n};\n\n// https://drafts.csswg.org/css-text/#word-separator\nconst wordSeparators = [0x0020, 0x00a0, 0x1361, 0x10100, 0x10101, 0x1039, 0x1091];\n\nconst breakWords = (str: string, styles: CSSParsedDeclaration): string[] => {\n    const breaker = LineBreaker(str, {\n        lineBreak: styles.lineBreak,\n        wordBreak: styles.overflowWrap === OVERFLOW_WRAP.BREAK_WORD ? 'break-word' : styles.wordBreak\n    });\n\n    const words = [];\n    let bk;\n\n    while (!(bk = breaker.next()).done) {\n        if (bk.value) {\n            const value = bk.value.slice();\n            const codePoints = toCodePoints(value);\n            let word = '';\n            codePoints.forEach((codePoint) => {\n                if (wordSeparators.indexOf(codePoint) === -1) {\n                    word += fromCodePoint(codePoint);\n                } else {\n                    if (word.length) {\n                        words.push(word);\n                    }\n                    words.push(fromCodePoint(codePoint));\n                    word = '';\n                }\n            });\n\n            if (word.length) {\n                words.push(word);\n            }\n        }\n    }\n\n    return words;\n};\n", "import {CSSParsedDeclaration} from '../css/index';\nimport {TEXT_TRANSFORM} from '../css/property-descriptors/text-transform';\nimport {parseTextBounds, TextBounds} from '../css/layout/text';\nimport {Context} from '../core/context';\n\nexport class TextContainer {\n    text: string;\n    textBounds: TextBounds[];\n\n    constructor(context: Context, node: Text, styles: CSSParsedDeclaration) {\n        this.text = transform(node.data, styles.textTransform);\n        this.textBounds = parseTextBounds(context, this.text, styles, node);\n    }\n}\n\nconst transform = (text: string, transform: TEXT_TRANSFORM) => {\n    switch (transform) {\n        case TEXT_TRANSFORM.LOWERCASE:\n            return text.toLowerCase();\n        case TEXT_TRANSFORM.CAPITALIZE:\n            return text.replace(CAPITALIZE, capitalize);\n        case TEXT_TRANSFORM.UPPERCASE:\n            return text.toUpperCase();\n        default:\n            return text;\n    }\n};\n\nconst CAPITALIZE = /(^|\\s|:|-|\\(|\\))([a-z])/g;\n\nconst capitalize = (m: string, p1: string, p2: string) => {\n    if (m.length > 0) {\n        return p1 + p2.toUpperCase();\n    }\n\n    return m;\n};\n", "import {ElementContainer} from '../element-container';\nimport {Context} from '../../core/context';\n\nexport class ImageElementContainer extends ElementContainer {\n    src: string;\n    intrinsicWidth: number;\n    intrinsicHeight: number;\n\n    constructor(context: Context, img: HTMLImageElement) {\n        super(context, img);\n        this.src = img.currentSrc || img.src;\n        this.intrinsicWidth = img.naturalWidth;\n        this.intrinsicHeight = img.naturalHeight;\n        this.context.cache.addImage(this.src);\n    }\n}\n", "import {ElementContainer} from '../element-container';\nimport {Context} from '../../core/context';\n\nexport class CanvasElementContainer extends ElementContainer {\n    canvas: HTMLCanvasElement;\n    intrinsicWidth: number;\n    intrinsicHeight: number;\n\n    constructor(context: Context, canvas: HTMLCanvasElement) {\n        super(context, canvas);\n        this.canvas = canvas;\n        this.intrinsicWidth = canvas.width;\n        this.intrinsicHeight = canvas.height;\n    }\n}\n", "import {ElementContainer} from '../element-container';\nimport {parseBounds} from '../../css/layout/bounds';\nimport {Context} from '../../core/context';\n\nexport class SVGElementContainer extends ElementContainer {\n    svg: string;\n    intrinsicWidth: number;\n    intrinsicHeight: number;\n\n    constructor(context: Context, img: SVGSVGElement) {\n        super(context, img);\n        const s = new XMLSerializer();\n        const bounds = parseBounds(context, img);\n        img.setAttribute('width', `${bounds.width}px`);\n        img.setAttribute('height', `${bounds.height}px`);\n\n        this.svg = `data:image/svg+xml,${encodeURIComponent(s.serializeToString(img))}`;\n        this.intrinsicWidth = img.width.baseVal.value;\n        this.intrinsicHeight = img.height.baseVal.value;\n\n        this.context.cache.addImage(this.svg);\n    }\n}\n", "import {ElementContainer} from '../element-container';\nimport {Context} from '../../core/context';\nexport class LIElementContainer extends ElementContainer {\n    readonly value: number;\n\n    constructor(context: Context, element: HTMLLIElement) {\n        super(context, element);\n        this.value = element.value;\n    }\n}\n", "import {ElementContainer} from '../element-container';\nimport {Context} from '../../core/context';\nexport class OLElementContainer extends ElementContainer {\n    readonly start: number;\n    readonly reversed: boolean;\n\n    constructor(context: Context, element: HTMLOListElement) {\n        super(context, element);\n        this.start = element.start;\n        this.reversed = typeof element.reversed === 'boolean' && element.reversed === true;\n    }\n}\n", "import {ElementContainer} from '../element-container';\nimport {BORDER_STYLE} from '../../css/property-descriptors/border-style';\nimport {BACKGROUND_CLIP} from '../../css/property-descriptors/background-clip';\nimport {BACKGROUND_ORIGIN} from '../../css/property-descriptors/background-origin';\nimport {TokenType} from '../../css/syntax/tokenizer';\nimport {LengthPercentageTuple} from '../../css/types/length-percentage';\nimport {Bounds} from '../../css/layout/bounds';\nimport {Context} from '../../core/context';\n\nconst CHECKBOX_BORDER_RADIUS: LengthPercentageTuple = [\n    {\n        type: TokenType.DIMENSION_TOKEN,\n        flags: 0,\n        unit: 'px',\n        number: 3\n    }\n];\n\nconst RADIO_BORDER_RADIUS: LengthPercentageTuple = [\n    {\n        type: TokenType.PERCENTAGE_TOKEN,\n        flags: 0,\n        number: 50\n    }\n];\n\nconst reformatInputBounds = (bounds: Bounds): Bounds => {\n    if (bounds.width > bounds.height) {\n        return new Bounds(bounds.left + (bounds.width - bounds.height) / 2, bounds.top, bounds.height, bounds.height);\n    } else if (bounds.width < bounds.height) {\n        return new Bounds(bounds.left, bounds.top + (bounds.height - bounds.width) / 2, bounds.width, bounds.width);\n    }\n    return bounds;\n};\n\nconst getInputValue = (node: HTMLInputElement): string => {\n    const value = node.type === PASSWORD ? new Array(node.value.length + 1).join('\\u2022') : node.value;\n\n    return value.length === 0 ? node.placeholder || '' : value;\n};\n\nexport const CHECKBOX = 'checkbox';\nexport const RADIO = 'radio';\nexport const PASSWORD = 'password';\nexport const INPUT_COLOR = 0x2a2a2aff;\n\nexport class InputElementContainer extends ElementContainer {\n    readonly type: string;\n    readonly checked: boolean;\n    readonly value: string;\n\n    constructor(context: Context, input: HTMLInputElement) {\n        super(context, input);\n        this.type = input.type.toLowerCase();\n        this.checked = input.checked;\n        this.value = getInputValue(input);\n\n        if (this.type === CHECKBOX || this.type === RADIO) {\n            this.styles.backgroundColor = 0xdededeff;\n            this.styles.borderTopColor =\n                this.styles.borderRightColor =\n                this.styles.borderBottomColor =\n                this.styles.borderLeftColor =\n                    0xa5a5a5ff;\n            this.styles.borderTopWidth =\n                this.styles.borderRightWidth =\n                this.styles.borderBottomWidth =\n                this.styles.borderLeftWidth =\n                    1;\n            this.styles.borderTopStyle =\n                this.styles.borderRightStyle =\n                this.styles.borderBottomStyle =\n                this.styles.borderLeftStyle =\n                    BORDER_STYLE.SOLID;\n            this.styles.backgroundClip = [BACKGROUND_CLIP.BORDER_BOX];\n            this.styles.backgroundOrigin = [BACKGROUND_ORIGIN.BORDER_BOX];\n            this.bounds = reformatInputBounds(this.bounds);\n        }\n\n        switch (this.type) {\n            case CHECKBOX:\n                this.styles.borderTopRightRadius =\n                    this.styles.borderTopLeftRadius =\n                    this.styles.borderBottomRightRadius =\n                    this.styles.borderBottomLeftRadius =\n                        CHECKBOX_BORDER_RADIUS;\n                break;\n            case RADIO:\n                this.styles.borderTopRightRadius =\n                    this.styles.borderTopLeftRadius =\n                    this.styles.borderBottomRightRadius =\n                    this.styles.borderBottomLeftRadius =\n                        RADIO_BORDER_RADIUS;\n                break;\n        }\n    }\n}\n", "import {ElementContainer} from '../element-container';\nimport {Context} from '../../core/context';\nexport class SelectElementContainer extends ElementContainer {\n    readonly value: string;\n    constructor(context: Context, element: HTMLSelectElement) {\n        super(context, element);\n        const option = element.options[element.selectedIndex || 0];\n        this.value = option ? option.text || '' : '';\n    }\n}\n", "import {ElementContainer} from '../element-container';\nimport {Context} from '../../core/context';\nexport class TextareaElementContainer extends ElementContainer {\n    readonly value: string;\n    constructor(context: Context, element: HTMLTextAreaElement) {\n        super(context, element);\n        this.value = element.value;\n    }\n}\n", "import {ElementContainer} from '../element-container';\nimport {parseTree} from '../node-parser';\nimport {Color, parseColor, COLORS, isTransparent} from '../../css/types/color';\nimport {Context} from '../../core/context';\n\nexport class IFrameElementContainer extends ElementContainer {\n    src: string;\n    width: number;\n    height: number;\n    tree?: ElementContainer;\n    backgroundColor: Color;\n\n    constructor(context: Context, iframe: HTMLIFrameElement) {\n        super(context, iframe);\n        this.src = iframe.src;\n        this.width = parseInt(iframe.width, 10) || 0;\n        this.height = parseInt(iframe.height, 10) || 0;\n        this.backgroundColor = this.styles.backgroundColor;\n        try {\n            if (\n                iframe.contentWindow &&\n                iframe.contentWindow.document &&\n                iframe.contentWindow.document.documentElement\n            ) {\n                this.tree = parseTree(context, iframe.contentWindow.document.documentElement);\n\n                // http://www.w3.org/TR/css3-background/#special-backgrounds\n                const documentBackgroundColor = iframe.contentWindow.document.documentElement\n                    ? parseColor(\n                          context,\n                          getComputedStyle(iframe.contentWindow.document.documentElement).backgroundColor as string\n                      )\n                    : COLORS.TRANSPARENT;\n                const bodyBackgroundColor = iframe.contentWindow.document.body\n                    ? parseColor(\n                          context,\n                          getComputedStyle(iframe.contentWindow.document.body).backgroundColor as string\n                      )\n                    : COLORS.TRANSPARENT;\n\n                this.backgroundColor = isTransparent(documentBackgroundColor)\n                    ? isTransparent(bodyBackgroundColor)\n                        ? this.styles.backgroundColor\n                        : bodyBackgroundColor\n                    : documentBackgroundColor;\n            }\n        } catch (e) {}\n    }\n}\n", "import {CSSParsedDeclaration} from '../css';\nimport {ElementContainer, FLAGS} from './element-container';\nimport {TextContainer} from './text-container';\nimport {ImageElementContainer} from './replaced-elements/image-element-container';\nimport {CanvasElementContainer} from './replaced-elements/canvas-element-container';\nimport {SVGElementContainer} from './replaced-elements/svg-element-container';\nimport {LIElementContainer} from './elements/li-element-container';\nimport {OLElementContainer} from './elements/ol-element-container';\nimport {InputElementContainer} from './replaced-elements/input-element-container';\nimport {SelectElementContainer} from './elements/select-element-container';\nimport {TextareaElementContainer} from './elements/textarea-element-container';\nimport {IFrameElementContainer} from './replaced-elements/iframe-element-container';\nimport {Context} from '../core/context';\n\nconst LIST_OWNERS = ['OL', 'UL', 'MENU'];\n\nconst parseNodeTree = (context: Context, node: Node, parent: ElementContainer, root: ElementContainer) => {\n    for (let childNode = node.firstChild, nextNode; childNode; childNode = nextNode) {\n        nextNode = childNode.nextSibling;\n\n        if (isTextNode(childNode) && childNode.data.trim().length > 0) {\n            parent.textNodes.push(new TextContainer(context, childNode, parent.styles));\n        } else if (isElementNode(childNode)) {\n            if (isSlotElement(childNode) && childNode.assignedNodes) {\n                childNode.assignedNodes().forEach((childNode) => parseNodeTree(context, childNode, parent, root));\n            } else {\n                const container = createContainer(context, childNode);\n                if (container.styles.isVisible()) {\n                    if (createsRealStackingContext(childNode, container, root)) {\n                        container.flags |= FLAGS.CREATES_REAL_STACKING_CONTEXT;\n                    } else if (createsStackingContext(container.styles)) {\n                        container.flags |= FLAGS.CREATES_STACKING_CONTEXT;\n                    }\n\n                    if (LIST_OWNERS.indexOf(childNode.tagName) !== -1) {\n                        container.flags |= FLAGS.IS_LIST_OWNER;\n                    }\n\n                    parent.elements.push(container);\n                    childNode.slot;\n                    if (childNode.shadowRoot) {\n                        parseNodeTree(context, childNode.shadowRoot, container, root);\n                    } else if (\n                        !isTextareaElement(childNode) &&\n                        !isSVGElement(childNode) &&\n                        !isSelectElement(childNode)\n                    ) {\n                        parseNodeTree(context, childNode, container, root);\n                    }\n                }\n            }\n        }\n    }\n};\n\nconst createContainer = (context: Context, element: Element): ElementContainer => {\n    if (isImageElement(element)) {\n        return new ImageElementContainer(context, element);\n    }\n\n    if (isCanvasElement(element)) {\n        return new CanvasElementContainer(context, element);\n    }\n\n    if (isSVGElement(element)) {\n        return new SVGElementContainer(context, element);\n    }\n\n    if (isLIElement(element)) {\n        return new LIElementContainer(context, element);\n    }\n\n    if (isOLElement(element)) {\n        return new OLElementContainer(context, element);\n    }\n\n    if (isInputElement(element)) {\n        return new InputElementContainer(context, element);\n    }\n\n    if (isSelectElement(element)) {\n        return new SelectElementContainer(context, element);\n    }\n\n    if (isTextareaElement(element)) {\n        return new TextareaElementContainer(context, element);\n    }\n\n    if (isIFrameElement(element)) {\n        return new IFrameElementContainer(context, element);\n    }\n\n    return new ElementContainer(context, element);\n};\n\nexport const parseTree = (context: Context, element: HTMLElement): ElementContainer => {\n    const container = createContainer(context, element);\n    container.flags |= FLAGS.CREATES_REAL_STACKING_CONTEXT;\n    parseNodeTree(context, element, container, container);\n    return container;\n};\n\nconst createsRealStackingContext = (node: Element, container: ElementContainer, root: ElementContainer): boolean => {\n    return (\n        container.styles.isPositionedWithZIndex() ||\n        container.styles.opacity < 1 ||\n        container.styles.isTransformed() ||\n        (isBodyElement(node) && root.styles.isTransparent())\n    );\n};\n\nconst createsStackingContext = (styles: CSSParsedDeclaration): boolean => styles.isPositioned() || styles.isFloating();\n\nexport const isTextNode = (node: Node): node is Text => node.nodeType === Node.TEXT_NODE;\nexport const isElementNode = (node: Node): node is Element => node.nodeType === Node.ELEMENT_NODE;\nexport const isHTMLElementNode = (node: Node): node is HTMLElement =>\n    isElementNode(node) && typeof (node as HTMLElement).style !== 'undefined' && !isSVGElementNode(node);\nexport const isSVGElementNode = (element: Element): element is SVGElement =>\n    typeof (element as SVGElement).className === 'object';\nexport const isLIElement = (node: Element): node is HTMLLIElement => node.tagName === 'LI';\nexport const isOLElement = (node: Element): node is HTMLOListElement => node.tagName === 'OL';\nexport const isInputElement = (node: Element): node is HTMLInputElement => node.tagName === 'INPUT';\nexport const isHTMLElement = (node: Element): node is HTMLHtmlElement => node.tagName === 'HTML';\nexport const isSVGElement = (node: Element): node is SVGSVGElement => node.tagName === 'svg';\nexport const isBodyElement = (node: Element): node is HTMLBodyElement => node.tagName === 'BODY';\nexport const isCanvasElement = (node: Element): node is HTMLCanvasElement => node.tagName === 'CANVAS';\nexport const isVideoElement = (node: Element): node is HTMLVideoElement => node.tagName === 'VIDEO';\nexport const isImageElement = (node: Element): node is HTMLImageElement => node.tagName === 'IMG';\nexport const isIFrameElement = (node: Element): node is HTMLIFrameElement => node.tagName === 'IFRAME';\nexport const isStyleElement = (node: Element): node is HTMLStyleElement => node.tagName === 'STYLE';\nexport const isScriptElement = (node: Element): node is HTMLScriptElement => node.tagName === 'SCRIPT';\nexport const isTextareaElement = (node: Element): node is HTMLTextAreaElement => node.tagName === 'TEXTAREA';\nexport const isSelectElement = (node: Element): node is HTMLSelectElement => node.tagName === 'SELECT';\nexport const isSlotElement = (node: Element): node is HTMLSlotElement => node.tagName === 'SLOT';\n// https://html.spec.whatwg.org/multipage/custom-elements.html#valid-custom-element-name\nexport const isCustomElement = (node: Element): node is HTMLElement => node.tagName.indexOf('-') > 0;\n", "import {LIST_STYLE_TYPE} from '../../property-descriptors/list-style-type';\nimport {fromCodePoint} from 'css-line-break';\nimport {contains} from '../../../core/bitwise';\nimport {CSSParsedCounterDeclaration} from '../../index';\n\nexport class CounterState {\n    private readonly counters: {[key: string]: number[]} = {};\n\n    getCounterValue(name: string): number {\n        const counter = this.counters[name];\n\n        if (counter && counter.length) {\n            return counter[counter.length - 1];\n        }\n        return 1;\n    }\n\n    getCounterValues(name: string): readonly number[] {\n        const counter = this.counters[name];\n        return counter ? counter : [];\n    }\n\n    pop(counters: string[]): void {\n        counters.forEach((counter) => this.counters[counter].pop());\n    }\n\n    parse(style: CSSParsedCounterDeclaration): string[] {\n        const counterIncrement = style.counterIncrement;\n        const counterReset = style.counterReset;\n        let canReset = true;\n\n        if (counterIncrement !== null) {\n            counterIncrement.forEach((entry) => {\n                const counter = this.counters[entry.counter];\n                if (counter && entry.increment !== 0) {\n                    canReset = false;\n                    if (!counter.length) {\n                        counter.push(1);\n                    }\n                    counter[Math.max(0, counter.length - 1)] += entry.increment;\n                }\n            });\n        }\n\n        const counterNames: string[] = [];\n        if (canReset) {\n            counterReset.forEach((entry) => {\n                let counter = this.counters[entry.counter];\n                counterNames.push(entry.counter);\n                if (!counter) {\n                    counter = this.counters[entry.counter] = [];\n                }\n                counter.push(entry.reset);\n            });\n        }\n\n        return counterNames;\n    }\n}\n\ninterface CounterSymbols {\n    integers: number[];\n    values: string[];\n}\n\nconst ROMAN_UPPER: CounterSymbols = {\n    integers: [1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1],\n    values: ['M', 'CM', 'D', 'CD', 'C', 'XC', 'L', 'XL', 'X', 'IX', 'V', 'IV', 'I']\n};\n\nconst ARMENIAN: CounterSymbols = {\n    integers: [\n        9000, 8000, 7000, 6000, 5000, 4000, 3000, 2000, 1000, 900, 800, 700, 600, 500, 400, 300, 200, 100, 90, 80, 70,\n        60, 50, 40, 30, 20, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1\n    ],\n    values: [\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        ''\n    ]\n};\n\nconst HEBREW: CounterSymbols = {\n    integers: [\n        10000, 9000, 8000, 7000, 6000, 5000, 4000, 3000, 2000, 1000, 400, 300, 200, 100, 90, 80, 70, 60, 50, 40, 30, 20,\n        19, 18, 17, 16, 15, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1\n    ],\n    values: [\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        ''\n    ]\n};\n\nconst GEORGIAN: CounterSymbols = {\n    integers: [\n        10000, 9000, 8000, 7000, 6000, 5000, 4000, 3000, 2000, 1000, 900, 800, 700, 600, 500, 400, 300, 200, 100, 90,\n        80, 70, 60, 50, 40, 30, 20, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1\n    ],\n    values: [\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        ''\n    ]\n};\n\nconst createAdditiveCounter = (\n    value: number,\n    min: number,\n    max: number,\n    symbols: CounterSymbols,\n    fallback: LIST_STYLE_TYPE,\n    suffix: string\n) => {\n    if (value < min || value > max) {\n        return createCounterText(value, fallback, suffix.length > 0);\n    }\n\n    return (\n        symbols.integers.reduce((string, integer, index) => {\n            while (value >= integer) {\n                value -= integer;\n                string += symbols.values[index];\n            }\n            return string;\n        }, '') + suffix\n    );\n};\n\nconst createCounterStyleWithSymbolResolver = (\n    value: number,\n    codePointRangeLength: number,\n    isNumeric: boolean,\n    resolver: (codePoint: number) => string\n): string => {\n    let string = '';\n\n    do {\n        if (!isNumeric) {\n            value--;\n        }\n        string = resolver(value) + string;\n        value /= codePointRangeLength;\n    } while (value * codePointRangeLength >= codePointRangeLength);\n\n    return string;\n};\n\nconst createCounterStyleFromRange = (\n    value: number,\n    codePointRangeStart: number,\n    codePointRangeEnd: number,\n    isNumeric: boolean,\n    suffix: string\n): string => {\n    const codePointRangeLength = codePointRangeEnd - codePointRangeStart + 1;\n\n    return (\n        (value < 0 ? '-' : '') +\n        (createCounterStyleWithSymbolResolver(Math.abs(value), codePointRangeLength, isNumeric, (codePoint) =>\n            fromCodePoint(Math.floor(codePoint % codePointRangeLength) + codePointRangeStart)\n        ) +\n            suffix)\n    );\n};\n\nconst createCounterStyleFromSymbols = (value: number, symbols: string, suffix = '. '): string => {\n    const codePointRangeLength = symbols.length;\n    return (\n        createCounterStyleWithSymbolResolver(\n            Math.abs(value),\n            codePointRangeLength,\n            false,\n            (codePoint) => symbols[Math.floor(codePoint % codePointRangeLength)]\n        ) + suffix\n    );\n};\n\nconst CJK_ZEROS = 1 << 0;\nconst CJK_TEN_COEFFICIENTS = 1 << 1;\nconst CJK_TEN_HIGH_COEFFICIENTS = 1 << 2;\nconst CJK_HUNDRED_COEFFICIENTS = 1 << 3;\n\nconst createCJKCounter = (\n    value: number,\n    numbers: string,\n    multipliers: string,\n    negativeSign: string,\n    suffix: string,\n    flags: number\n): string => {\n    if (value < -9999 || value > 9999) {\n        return createCounterText(value, LIST_STYLE_TYPE.CJK_DECIMAL, suffix.length > 0);\n    }\n    let tmp = Math.abs(value);\n    let string = suffix;\n\n    if (tmp === 0) {\n        return numbers[0] + string;\n    }\n\n    for (let digit = 0; tmp > 0 && digit <= 4; digit++) {\n        const coefficient = tmp % 10;\n\n        if (coefficient === 0 && contains(flags, CJK_ZEROS) && string !== '') {\n            string = numbers[coefficient] + string;\n        } else if (\n            coefficient > 1 ||\n            (coefficient === 1 && digit === 0) ||\n            (coefficient === 1 && digit === 1 && contains(flags, CJK_TEN_COEFFICIENTS)) ||\n            (coefficient === 1 && digit === 1 && contains(flags, CJK_TEN_HIGH_COEFFICIENTS) && value > 100) ||\n            (coefficient === 1 && digit > 1 && contains(flags, CJK_HUNDRED_COEFFICIENTS))\n        ) {\n            string = numbers[coefficient] + (digit > 0 ? multipliers[digit - 1] : '') + string;\n        } else if (coefficient === 1 && digit > 0) {\n            string = multipliers[digit - 1] + string;\n        }\n        tmp = Math.floor(tmp / 10);\n    }\n\n    return (value < 0 ? negativeSign : '') + string;\n};\n\nconst CHINESE_INFORMAL_MULTIPLIERS = '';\nconst CHINESE_FORMAL_MULTIPLIERS = '';\nconst JAPANESE_NEGATIVE = '';\nconst KOREAN_NEGATIVE = '';\n\nexport const createCounterText = (value: number, type: LIST_STYLE_TYPE, appendSuffix: boolean): string => {\n    const defaultSuffix = appendSuffix ? '. ' : '';\n    const cjkSuffix = appendSuffix ? '' : '';\n    const koreanSuffix = appendSuffix ? ', ' : '';\n    const spaceSuffix = appendSuffix ? ' ' : '';\n    switch (type) {\n        case LIST_STYLE_TYPE.DISC:\n            return '' + spaceSuffix;\n        case LIST_STYLE_TYPE.CIRCLE:\n            return '' + spaceSuffix;\n        case LIST_STYLE_TYPE.SQUARE:\n            return '' + spaceSuffix;\n        case LIST_STYLE_TYPE.DECIMAL_LEADING_ZERO:\n            const string = createCounterStyleFromRange(value, 48, 57, true, defaultSuffix);\n            return string.length < 4 ? `0${string}` : string;\n        case LIST_STYLE_TYPE.CJK_DECIMAL:\n            return createCounterStyleFromSymbols(value, '', cjkSuffix);\n        case LIST_STYLE_TYPE.LOWER_ROMAN:\n            return createAdditiveCounter(\n                value,\n                1,\n                3999,\n                ROMAN_UPPER,\n                LIST_STYLE_TYPE.DECIMAL,\n                defaultSuffix\n            ).toLowerCase();\n        case LIST_STYLE_TYPE.UPPER_ROMAN:\n            return createAdditiveCounter(value, 1, 3999, ROMAN_UPPER, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\n        case LIST_STYLE_TYPE.LOWER_GREEK:\n            return createCounterStyleFromRange(value, 945, 969, false, defaultSuffix);\n        case LIST_STYLE_TYPE.LOWER_ALPHA:\n            return createCounterStyleFromRange(value, 97, 122, false, defaultSuffix);\n        case LIST_STYLE_TYPE.UPPER_ALPHA:\n            return createCounterStyleFromRange(value, 65, 90, false, defaultSuffix);\n        case LIST_STYLE_TYPE.ARABIC_INDIC:\n            return createCounterStyleFromRange(value, 1632, 1641, true, defaultSuffix);\n        case LIST_STYLE_TYPE.ARMENIAN:\n        case LIST_STYLE_TYPE.UPPER_ARMENIAN:\n            return createAdditiveCounter(value, 1, 9999, ARMENIAN, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\n        case LIST_STYLE_TYPE.LOWER_ARMENIAN:\n            return createAdditiveCounter(\n                value,\n                1,\n                9999,\n                ARMENIAN,\n                LIST_STYLE_TYPE.DECIMAL,\n                defaultSuffix\n            ).toLowerCase();\n        case LIST_STYLE_TYPE.BENGALI:\n            return createCounterStyleFromRange(value, 2534, 2543, true, defaultSuffix);\n        case LIST_STYLE_TYPE.CAMBODIAN:\n        case LIST_STYLE_TYPE.KHMER:\n            return createCounterStyleFromRange(value, 6112, 6121, true, defaultSuffix);\n        case LIST_STYLE_TYPE.CJK_EARTHLY_BRANCH:\n            return createCounterStyleFromSymbols(value, '', cjkSuffix);\n        case LIST_STYLE_TYPE.CJK_HEAVENLY_STEM:\n            return createCounterStyleFromSymbols(value, '', cjkSuffix);\n        case LIST_STYLE_TYPE.CJK_IDEOGRAPHIC:\n        case LIST_STYLE_TYPE.TRAD_CHINESE_INFORMAL:\n            return createCJKCounter(\n                value,\n                '',\n                CHINESE_INFORMAL_MULTIPLIERS,\n                '',\n                cjkSuffix,\n                CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS\n            );\n        case LIST_STYLE_TYPE.TRAD_CHINESE_FORMAL:\n            return createCJKCounter(\n                value,\n                '',\n                CHINESE_FORMAL_MULTIPLIERS,\n                '',\n                cjkSuffix,\n                CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS\n            );\n        case LIST_STYLE_TYPE.SIMP_CHINESE_INFORMAL:\n            return createCJKCounter(\n                value,\n                '',\n                CHINESE_INFORMAL_MULTIPLIERS,\n                '',\n                cjkSuffix,\n                CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS\n            );\n        case LIST_STYLE_TYPE.SIMP_CHINESE_FORMAL:\n            return createCJKCounter(\n                value,\n                '',\n                CHINESE_FORMAL_MULTIPLIERS,\n                '',\n                cjkSuffix,\n                CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS\n            );\n        case LIST_STYLE_TYPE.JAPANESE_INFORMAL:\n            return createCJKCounter(value, '', '', JAPANESE_NEGATIVE, cjkSuffix, 0);\n        case LIST_STYLE_TYPE.JAPANESE_FORMAL:\n            return createCJKCounter(\n                value,\n                '',\n                '',\n                JAPANESE_NEGATIVE,\n                cjkSuffix,\n                CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS\n            );\n        case LIST_STYLE_TYPE.KOREAN_HANGUL_FORMAL:\n            return createCJKCounter(\n                value,\n                '',\n                '',\n                KOREAN_NEGATIVE,\n                koreanSuffix,\n                CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS\n            );\n        case LIST_STYLE_TYPE.KOREAN_HANJA_INFORMAL:\n            return createCJKCounter(value, '', '', KOREAN_NEGATIVE, koreanSuffix, 0);\n        case LIST_STYLE_TYPE.KOREAN_HANJA_FORMAL:\n            return createCJKCounter(\n                value,\n                '',\n                '',\n                KOREAN_NEGATIVE,\n                koreanSuffix,\n                CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS\n            );\n        case LIST_STYLE_TYPE.DEVANAGARI:\n            return createCounterStyleFromRange(value, 0x966, 0x96f, true, defaultSuffix);\n        case LIST_STYLE_TYPE.GEORGIAN:\n            return createAdditiveCounter(value, 1, 19999, GEORGIAN, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\n        case LIST_STYLE_TYPE.GUJARATI:\n            return createCounterStyleFromRange(value, 0xae6, 0xaef, true, defaultSuffix);\n        case LIST_STYLE_TYPE.GURMUKHI:\n            return createCounterStyleFromRange(value, 0xa66, 0xa6f, true, defaultSuffix);\n        case LIST_STYLE_TYPE.HEBREW:\n            return createAdditiveCounter(value, 1, 10999, HEBREW, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\n        case LIST_STYLE_TYPE.HIRAGANA:\n            return createCounterStyleFromSymbols(\n                value,\n                ''\n            );\n        case LIST_STYLE_TYPE.HIRAGANA_IROHA:\n            return createCounterStyleFromSymbols(\n                value,\n                ''\n            );\n        case LIST_STYLE_TYPE.KANNADA:\n            return createCounterStyleFromRange(value, 0xce6, 0xcef, true, defaultSuffix);\n        case LIST_STYLE_TYPE.KATAKANA:\n            return createCounterStyleFromSymbols(\n                value,\n                '',\n                cjkSuffix\n            );\n        case LIST_STYLE_TYPE.KATAKANA_IROHA:\n            return createCounterStyleFromSymbols(\n                value,\n                '',\n                cjkSuffix\n            );\n        case LIST_STYLE_TYPE.LAO:\n            return createCounterStyleFromRange(value, 0xed0, 0xed9, true, defaultSuffix);\n        case LIST_STYLE_TYPE.MONGOLIAN:\n            return createCounterStyleFromRange(value, 0x1810, 0x1819, true, defaultSuffix);\n        case LIST_STYLE_TYPE.MYANMAR:\n            return createCounterStyleFromRange(value, 0x1040, 0x1049, true, defaultSuffix);\n        case LIST_STYLE_TYPE.ORIYA:\n            return createCounterStyleFromRange(value, 0xb66, 0xb6f, true, defaultSuffix);\n        case LIST_STYLE_TYPE.PERSIAN:\n            return createCounterStyleFromRange(value, 0x6f0, 0x6f9, true, defaultSuffix);\n        case LIST_STYLE_TYPE.TAMIL:\n            return createCounterStyleFromRange(value, 0xbe6, 0xbef, true, defaultSuffix);\n        case LIST_STYLE_TYPE.TELUGU:\n            return createCounterStyleFromRange(value, 0xc66, 0xc6f, true, defaultSuffix);\n        case LIST_STYLE_TYPE.THAI:\n            return createCounterStyleFromRange(value, 0xe50, 0xe59, true, defaultSuffix);\n        case LIST_STYLE_TYPE.TIBETAN:\n            return createCounterStyleFromRange(value, 0xf20, 0xf29, true, defaultSuffix);\n        case LIST_STYLE_TYPE.DECIMAL:\n        default:\n            return createCounterStyleFromRange(value, 48, 57, true, defaultSuffix);\n    }\n};\n", "import {Bounds} from '../css/layout/bounds';\nimport {\n    isBodyElement,\n    isCanvasElement,\n    isCustomElement,\n    isElementNode,\n    isHTMLElementNode,\n    isIFrameElement,\n    isImageElement,\n    isScriptElement,\n    isSelectElement,\n    isSlotElement,\n    isStyleElement,\n    isSVGElementNode,\n    isTextareaElement,\n    isTextNode,\n    isVideoElement\n} from './node-parser';\nimport {isIdentToken, nonFunctionArgSeparator} from '../css/syntax/parser';\nimport {TokenType} from '../css/syntax/tokenizer';\nimport {CounterState, createCounterText} from '../css/types/functions/counter';\nimport {LIST_STYLE_TYPE, listStyleType} from '../css/property-descriptors/list-style-type';\nimport {CSSParsedCounterDeclaration, CSSParsedPseudoDeclaration} from '../css/index';\nimport {getQuote} from '../css/property-descriptors/quotes';\nimport {Context} from '../core/context';\nimport {DebuggerType, isDebugging} from '../core/debugger';\n\nexport interface CloneOptions {\n    ignoreElements?: (element: Element) => boolean;\n    onclone?: (document: Document, element: HTMLElement) => void;\n    allowTaint?: boolean;\n}\n\nexport interface WindowOptions {\n    scrollX: number;\n    scrollY: number;\n    windowWidth: number;\n    windowHeight: number;\n}\n\nexport type CloneConfigurations = CloneOptions & {\n    inlineImages: boolean;\n    copyStyles: boolean;\n};\n\nconst IGNORE_ATTRIBUTE = 'data-html2canvas-ignore';\n\nexport class DocumentCloner {\n    private readonly scrolledElements: [Element, number, number][];\n    private readonly referenceElement: HTMLElement;\n    clonedReferenceElement?: HTMLElement;\n    private readonly documentElement: HTMLElement;\n    private readonly counters: CounterState;\n    private quoteDepth: number;\n\n    constructor(\n        private readonly context: Context,\n        element: HTMLElement,\n        private readonly options: CloneConfigurations\n    ) {\n        this.scrolledElements = [];\n        this.referenceElement = element;\n        this.counters = new CounterState();\n        this.quoteDepth = 0;\n        if (!element.ownerDocument) {\n            throw new Error('Cloned element does not have an owner document');\n        }\n\n        this.documentElement = this.cloneNode(element.ownerDocument.documentElement, false) as HTMLElement;\n    }\n\n    toIFrame(ownerDocument: Document, windowSize: Bounds): Promise<HTMLIFrameElement> {\n        const iframe: HTMLIFrameElement = createIFrameContainer(ownerDocument, windowSize);\n\n        if (!iframe.contentWindow) {\n            return Promise.reject(`Unable to find iframe window`);\n        }\n\n        const scrollX = (ownerDocument.defaultView as Window).pageXOffset;\n        const scrollY = (ownerDocument.defaultView as Window).pageYOffset;\n\n        const cloneWindow = iframe.contentWindow;\n        const documentClone: Document = cloneWindow.document;\n\n        /* Chrome doesn't detect relative background-images assigned in inline <style> sheets when fetched through getComputedStyle\n         if window url is about:blank, we can assign the url to current by writing onto the document\n         */\n\n        const iframeLoad = iframeLoader(iframe).then(async () => {\n            this.scrolledElements.forEach(restoreNodeScroll);\n            if (cloneWindow) {\n                cloneWindow.scrollTo(windowSize.left, windowSize.top);\n                if (\n                    /(iPad|iPhone|iPod)/g.test(navigator.userAgent) &&\n                    (cloneWindow.scrollY !== windowSize.top || cloneWindow.scrollX !== windowSize.left)\n                ) {\n                    this.context.logger.warn('Unable to restore scroll position for cloned document');\n                    this.context.windowBounds = this.context.windowBounds.add(\n                        cloneWindow.scrollX - windowSize.left,\n                        cloneWindow.scrollY - windowSize.top,\n                        0,\n                        0\n                    );\n                }\n            }\n\n            const onclone = this.options.onclone;\n\n            const referenceElement = this.clonedReferenceElement;\n\n            if (typeof referenceElement === 'undefined') {\n                return Promise.reject(`Error finding the ${this.referenceElement.nodeName} in the cloned document`);\n            }\n\n            if (documentClone.fonts && documentClone.fonts.ready) {\n                await documentClone.fonts.ready;\n            }\n\n            if (/(AppleWebKit)/g.test(navigator.userAgent)) {\n                await imagesReady(documentClone);\n            }\n\n            if (typeof onclone === 'function') {\n                return Promise.resolve()\n                    .then(() => onclone(documentClone, referenceElement))\n                    .then(() => iframe);\n            }\n\n            return iframe;\n        });\n\n        documentClone.open();\n        documentClone.write(`${serializeDoctype(document.doctype)}<html></html>`);\n        // Chrome scrolls the parent document for some reason after the write to the cloned window???\n        restoreOwnerScroll(this.referenceElement.ownerDocument, scrollX, scrollY);\n        documentClone.replaceChild(documentClone.adoptNode(this.documentElement), documentClone.documentElement);\n        documentClone.close();\n\n        return iframeLoad;\n    }\n\n    createElementClone<T extends HTMLElement | SVGElement>(node: T): HTMLElement | SVGElement {\n        if (isDebugging(node, DebuggerType.CLONE)) {\n            debugger;\n        }\n        if (isCanvasElement(node)) {\n            return this.createCanvasClone(node);\n        }\n        if (isVideoElement(node)) {\n            return this.createVideoClone(node);\n        }\n        if (isStyleElement(node)) {\n            return this.createStyleClone(node);\n        }\n\n        const clone = node.cloneNode(false) as T;\n        if (isImageElement(clone)) {\n            if (isImageElement(node) && node.currentSrc && node.currentSrc !== node.src) {\n                clone.src = node.currentSrc;\n                clone.srcset = '';\n            }\n\n            if (clone.loading === 'lazy') {\n                clone.loading = 'eager';\n            }\n        }\n\n        if (isCustomElement(clone)) {\n            return this.createCustomElementClone(clone);\n        }\n\n        return clone;\n    }\n\n    createCustomElementClone(node: HTMLElement): HTMLElement {\n        const clone = document.createElement('html2canvascustomelement');\n        copyCSSStyles(node.style, clone);\n\n        return clone;\n    }\n\n    createStyleClone(node: HTMLStyleElement): HTMLStyleElement {\n        try {\n            const sheet = node.sheet as CSSStyleSheet | undefined;\n            if (sheet && sheet.cssRules) {\n                const css: string = [].slice.call(sheet.cssRules, 0).reduce((css: string, rule: CSSRule) => {\n                    if (rule && typeof rule.cssText === 'string') {\n                        return css + rule.cssText;\n                    }\n                    return css;\n                }, '');\n                const style = node.cloneNode(false) as HTMLStyleElement;\n                style.textContent = css;\n                return style;\n            }\n        } catch (e) {\n            // accessing node.sheet.cssRules throws a DOMException\n            this.context.logger.error('Unable to access cssRules property', e);\n            if (e.name !== 'SecurityError') {\n                throw e;\n            }\n        }\n        return node.cloneNode(false) as HTMLStyleElement;\n    }\n\n    createCanvasClone(canvas: HTMLCanvasElement): HTMLImageElement | HTMLCanvasElement {\n        if (this.options.inlineImages && canvas.ownerDocument) {\n            const img = canvas.ownerDocument.createElement('img');\n            try {\n                img.src = canvas.toDataURL();\n                return img;\n            } catch (e) {\n                this.context.logger.info(`Unable to inline canvas contents, canvas is tainted`, canvas);\n            }\n        }\n\n        const clonedCanvas = canvas.cloneNode(false) as HTMLCanvasElement;\n\n        try {\n            clonedCanvas.width = canvas.width;\n            clonedCanvas.height = canvas.height;\n            const ctx = canvas.getContext('2d');\n            const clonedCtx = clonedCanvas.getContext('2d');\n            if (clonedCtx) {\n                if (!this.options.allowTaint && ctx) {\n                    clonedCtx.putImageData(ctx.getImageData(0, 0, canvas.width, canvas.height), 0, 0);\n                } else {\n                    const gl = canvas.getContext('webgl2') ?? canvas.getContext('webgl');\n                    if (gl) {\n                        const attribs = gl.getContextAttributes();\n                        if (attribs?.preserveDrawingBuffer === false) {\n                            this.context.logger.warn(\n                                'Unable to clone WebGL context as it has preserveDrawingBuffer=false',\n                                canvas\n                            );\n                        }\n                    }\n\n                    clonedCtx.drawImage(canvas, 0, 0);\n                }\n            }\n            return clonedCanvas;\n        } catch (e) {\n            this.context.logger.info(`Unable to clone canvas as it is tainted`, canvas);\n        }\n\n        return clonedCanvas;\n    }\n\n    createVideoClone(video: HTMLVideoElement): HTMLCanvasElement {\n        const canvas = video.ownerDocument.createElement('canvas');\n\n        canvas.width = video.offsetWidth;\n        canvas.height = video.offsetHeight;\n        const ctx = canvas.getContext('2d');\n\n        try {\n            if (ctx) {\n                ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\n                if (!this.options.allowTaint) {\n                    ctx.getImageData(0, 0, canvas.width, canvas.height);\n                }\n            }\n            return canvas;\n        } catch (e) {\n            this.context.logger.info(`Unable to clone video as it is tainted`, video);\n        }\n\n        const blankCanvas = video.ownerDocument.createElement('canvas');\n\n        blankCanvas.width = video.offsetWidth;\n        blankCanvas.height = video.offsetHeight;\n        return blankCanvas;\n    }\n\n    appendChildNode(clone: HTMLElement | SVGElement, child: Node, copyStyles: boolean): void {\n        if (\n            !isElementNode(child) ||\n            (!isScriptElement(child) &&\n                !child.hasAttribute(IGNORE_ATTRIBUTE) &&\n                (typeof this.options.ignoreElements !== 'function' || !this.options.ignoreElements(child)))\n        ) {\n            if (!this.options.copyStyles || !isElementNode(child) || !isStyleElement(child)) {\n                clone.appendChild(this.cloneNode(child, copyStyles));\n            }\n        }\n    }\n\n    cloneChildNodes(node: Element, clone: HTMLElement | SVGElement, copyStyles: boolean): void {\n        for (\n            let child = node.shadowRoot ? node.shadowRoot.firstChild : node.firstChild;\n            child;\n            child = child.nextSibling\n        ) {\n            if (isElementNode(child) && isSlotElement(child) && typeof child.assignedNodes === 'function') {\n                const assignedNodes = child.assignedNodes() as ChildNode[];\n                if (assignedNodes.length) {\n                    assignedNodes.forEach((assignedNode) => this.appendChildNode(clone, assignedNode, copyStyles));\n                }\n            } else {\n                this.appendChildNode(clone, child, copyStyles);\n            }\n        }\n    }\n\n    cloneNode(node: Node, copyStyles: boolean): Node {\n        if (isTextNode(node)) {\n            return document.createTextNode(node.data);\n        }\n\n        if (!node.ownerDocument) {\n            return node.cloneNode(false);\n        }\n\n        const window = node.ownerDocument.defaultView;\n\n        if (window && isElementNode(node) && (isHTMLElementNode(node) || isSVGElementNode(node))) {\n            const clone = this.createElementClone(node);\n            clone.style.transitionProperty = 'none';\n\n            const style = window.getComputedStyle(node);\n            const styleBefore = window.getComputedStyle(node, ':before');\n            const styleAfter = window.getComputedStyle(node, ':after');\n\n            if (this.referenceElement === node && isHTMLElementNode(clone)) {\n                this.clonedReferenceElement = clone;\n            }\n            if (isBodyElement(clone)) {\n                createPseudoHideStyles(clone);\n            }\n\n            const counters = this.counters.parse(new CSSParsedCounterDeclaration(this.context, style));\n            const before = this.resolvePseudoContent(node, clone, styleBefore, PseudoElementType.BEFORE);\n\n            if (isCustomElement(node)) {\n                copyStyles = true;\n            }\n\n            if (!isVideoElement(node)) {\n                this.cloneChildNodes(node, clone, copyStyles);\n            }\n\n            if (before) {\n                clone.insertBefore(before, clone.firstChild);\n            }\n\n            const after = this.resolvePseudoContent(node, clone, styleAfter, PseudoElementType.AFTER);\n            if (after) {\n                clone.appendChild(after);\n            }\n\n            this.counters.pop(counters);\n\n            if (\n                (style && (this.options.copyStyles || isSVGElementNode(node)) && !isIFrameElement(node)) ||\n                copyStyles\n            ) {\n                copyCSSStyles(style, clone);\n            }\n\n            if (node.scrollTop !== 0 || node.scrollLeft !== 0) {\n                this.scrolledElements.push([clone, node.scrollLeft, node.scrollTop]);\n            }\n\n            if (\n                (isTextareaElement(node) || isSelectElement(node)) &&\n                (isTextareaElement(clone) || isSelectElement(clone))\n            ) {\n                clone.value = node.value;\n            }\n\n            return clone;\n        }\n\n        return node.cloneNode(false);\n    }\n\n    resolvePseudoContent(\n        node: Element,\n        clone: Element,\n        style: CSSStyleDeclaration,\n        pseudoElt: PseudoElementType\n    ): HTMLElement | void {\n        if (!style) {\n            return;\n        }\n\n        const value = style.content;\n        const document = clone.ownerDocument;\n        if (!document || !value || value === 'none' || value === '-moz-alt-content' || style.display === 'none') {\n            return;\n        }\n\n        this.counters.parse(new CSSParsedCounterDeclaration(this.context, style));\n        const declaration = new CSSParsedPseudoDeclaration(this.context, style);\n\n        const anonymousReplacedElement = document.createElement('html2canvaspseudoelement');\n        copyCSSStyles(style, anonymousReplacedElement);\n\n        declaration.content.forEach((token) => {\n            if (token.type === TokenType.STRING_TOKEN) {\n                anonymousReplacedElement.appendChild(document.createTextNode(token.value));\n            } else if (token.type === TokenType.URL_TOKEN) {\n                const img = document.createElement('img');\n                img.src = token.value;\n                img.style.opacity = '1';\n                anonymousReplacedElement.appendChild(img);\n            } else if (token.type === TokenType.FUNCTION) {\n                if (token.name === 'attr') {\n                    const attr = token.values.filter(isIdentToken);\n                    if (attr.length) {\n                        anonymousReplacedElement.appendChild(\n                            document.createTextNode(node.getAttribute(attr[0].value) || '')\n                        );\n                    }\n                } else if (token.name === 'counter') {\n                    const [counter, counterStyle] = token.values.filter(nonFunctionArgSeparator);\n                    if (counter && isIdentToken(counter)) {\n                        const counterState = this.counters.getCounterValue(counter.value);\n                        const counterType =\n                            counterStyle && isIdentToken(counterStyle)\n                                ? listStyleType.parse(this.context, counterStyle.value)\n                                : LIST_STYLE_TYPE.DECIMAL;\n\n                        anonymousReplacedElement.appendChild(\n                            document.createTextNode(createCounterText(counterState, counterType, false))\n                        );\n                    }\n                } else if (token.name === 'counters') {\n                    const [counter, delim, counterStyle] = token.values.filter(nonFunctionArgSeparator);\n                    if (counter && isIdentToken(counter)) {\n                        const counterStates = this.counters.getCounterValues(counter.value);\n                        const counterType =\n                            counterStyle && isIdentToken(counterStyle)\n                                ? listStyleType.parse(this.context, counterStyle.value)\n                                : LIST_STYLE_TYPE.DECIMAL;\n                        const separator = delim && delim.type === TokenType.STRING_TOKEN ? delim.value : '';\n                        const text = counterStates\n                            .map((value) => createCounterText(value, counterType, false))\n                            .join(separator);\n\n                        anonymousReplacedElement.appendChild(document.createTextNode(text));\n                    }\n                } else {\n                    //   console.log('FUNCTION_TOKEN', token);\n                }\n            } else if (token.type === TokenType.IDENT_TOKEN) {\n                switch (token.value) {\n                    case 'open-quote':\n                        anonymousReplacedElement.appendChild(\n                            document.createTextNode(getQuote(declaration.quotes, this.quoteDepth++, true))\n                        );\n                        break;\n                    case 'close-quote':\n                        anonymousReplacedElement.appendChild(\n                            document.createTextNode(getQuote(declaration.quotes, --this.quoteDepth, false))\n                        );\n                        break;\n                    default:\n                        // safari doesn't parse string tokens correctly because of lack of quotes\n                        anonymousReplacedElement.appendChild(document.createTextNode(token.value));\n                }\n            }\n        });\n\n        anonymousReplacedElement.className = `${PSEUDO_HIDE_ELEMENT_CLASS_BEFORE} ${PSEUDO_HIDE_ELEMENT_CLASS_AFTER}`;\n        const newClassName =\n            pseudoElt === PseudoElementType.BEFORE\n                ? ` ${PSEUDO_HIDE_ELEMENT_CLASS_BEFORE}`\n                : ` ${PSEUDO_HIDE_ELEMENT_CLASS_AFTER}`;\n\n        if (isSVGElementNode(clone)) {\n            clone.className.baseValue += newClassName;\n        } else {\n            clone.className += newClassName;\n        }\n\n        return anonymousReplacedElement;\n    }\n\n    static destroy(container: HTMLIFrameElement): boolean {\n        if (container.parentNode) {\n            container.parentNode.removeChild(container);\n            return true;\n        }\n        return false;\n    }\n}\n\nenum PseudoElementType {\n    BEFORE,\n    AFTER\n}\n\nconst createIFrameContainer = (ownerDocument: Document, bounds: Bounds): HTMLIFrameElement => {\n    const cloneIframeContainer = ownerDocument.createElement('iframe');\n\n    cloneIframeContainer.className = 'html2canvas-container';\n    cloneIframeContainer.style.visibility = 'hidden';\n    cloneIframeContainer.style.position = 'fixed';\n    cloneIframeContainer.style.left = '-10000px';\n    cloneIframeContainer.style.top = '0px';\n    cloneIframeContainer.style.border = '0';\n    cloneIframeContainer.width = bounds.width.toString();\n    cloneIframeContainer.height = bounds.height.toString();\n    cloneIframeContainer.scrolling = 'no'; // ios won't scroll without it\n    cloneIframeContainer.setAttribute(IGNORE_ATTRIBUTE, 'true');\n    ownerDocument.body.appendChild(cloneIframeContainer);\n\n    return cloneIframeContainer;\n};\n\nconst imageReady = (img: HTMLImageElement): Promise<Event | void | string> => {\n    return new Promise((resolve) => {\n        if (img.complete) {\n            resolve();\n            return;\n        }\n        if (!img.src) {\n            resolve();\n            return;\n        }\n        img.onload = resolve;\n        img.onerror = resolve;\n    });\n};\n\nconst imagesReady = (document: HTMLDocument): Promise<unknown[]> => {\n    return Promise.all([].slice.call(document.images, 0).map(imageReady));\n};\n\nconst iframeLoader = (iframe: HTMLIFrameElement): Promise<HTMLIFrameElement> => {\n    return new Promise((resolve, reject) => {\n        const cloneWindow = iframe.contentWindow;\n\n        if (!cloneWindow) {\n            return reject(`No window assigned for iframe`);\n        }\n\n        const documentClone = cloneWindow.document;\n\n        cloneWindow.onload = iframe.onload = () => {\n            cloneWindow.onload = iframe.onload = null;\n            const interval = setInterval(() => {\n                if (documentClone.body.childNodes.length > 0 && documentClone.readyState === 'complete') {\n                    clearInterval(interval);\n                    resolve(iframe);\n                }\n            }, 50);\n        };\n    });\n};\n\nconst ignoredStyleProperties = [\n    'all', // #2476\n    'd', // #2483\n    'content' // Safari shows pseudoelements if content is set\n];\n\nexport const copyCSSStyles = <T extends HTMLElement | SVGElement>(style: CSSStyleDeclaration, target: T): T => {\n    // Edge does not provide value for cssText\n    for (let i = style.length - 1; i >= 0; i--) {\n        const property = style.item(i);\n        if (ignoredStyleProperties.indexOf(property) === -1) {\n            target.style.setProperty(property, style.getPropertyValue(property));\n        }\n    }\n    return target;\n};\n\nconst serializeDoctype = (doctype?: DocumentType | null): string => {\n    let str = '';\n    if (doctype) {\n        str += '<!DOCTYPE ';\n        if (doctype.name) {\n            str += doctype.name;\n        }\n\n        if (doctype.internalSubset) {\n            str += doctype.internalSubset;\n        }\n\n        if (doctype.publicId) {\n            str += `\"${doctype.publicId}\"`;\n        }\n\n        if (doctype.systemId) {\n            str += `\"${doctype.systemId}\"`;\n        }\n\n        str += '>';\n    }\n\n    return str;\n};\n\nconst restoreOwnerScroll = (ownerDocument: Document | null, x: number, y: number) => {\n    if (\n        ownerDocument &&\n        ownerDocument.defaultView &&\n        (x !== ownerDocument.defaultView.pageXOffset || y !== ownerDocument.defaultView.pageYOffset)\n    ) {\n        ownerDocument.defaultView.scrollTo(x, y);\n    }\n};\n\nconst restoreNodeScroll = ([element, x, y]: [HTMLElement, number, number]) => {\n    element.scrollLeft = x;\n    element.scrollTop = y;\n};\n\nconst PSEUDO_BEFORE = ':before';\nconst PSEUDO_AFTER = ':after';\nconst PSEUDO_HIDE_ELEMENT_CLASS_BEFORE = '___html2canvas___pseudoelement_before';\nconst PSEUDO_HIDE_ELEMENT_CLASS_AFTER = '___html2canvas___pseudoelement_after';\n\nconst PSEUDO_HIDE_ELEMENT_STYLE = `{\n    content: \"\" !important;\n    display: none !important;\n}`;\n\nconst createPseudoHideStyles = (body: HTMLElement) => {\n    createStyles(\n        body,\n        `.${PSEUDO_HIDE_ELEMENT_CLASS_BEFORE}${PSEUDO_BEFORE}${PSEUDO_HIDE_ELEMENT_STYLE}\n         .${PSEUDO_HIDE_ELEMENT_CLASS_AFTER}${PSEUDO_AFTER}${PSEUDO_HIDE_ELEMENT_STYLE}`\n    );\n};\n\nconst createStyles = (body: HTMLElement, styles: string) => {\n    const document = body.ownerDocument;\n    if (document) {\n        const style = document.createElement('style');\n        style.textContent = styles;\n        body.appendChild(style);\n    }\n};\n", "import {FEATURES} from './features';\nimport {Context} from './context';\n\nexport class CacheStorage {\n    private static _link?: HTMLAnchorElement;\n    private static _origin = 'about:blank';\n\n    static getOrigin(url: string): string {\n        const link = CacheStorage._link;\n        if (!link) {\n            return 'about:blank';\n        }\n\n        link.href = url;\n        link.href = link.href; // IE9, LOL! - http://jsfiddle.net/niklasvh/2e48b/\n        return link.protocol + link.hostname + link.port;\n    }\n\n    static isSameOrigin(src: string): boolean {\n        return CacheStorage.getOrigin(src) === CacheStorage._origin;\n    }\n\n    static setContext(window: Window): void {\n        CacheStorage._link = window.document.createElement('a');\n        CacheStorage._origin = CacheStorage.getOrigin(window.location.href);\n    }\n}\n\nexport interface ResourceOptions {\n    imageTimeout: number;\n    useCORS: boolean;\n    allowTaint: boolean;\n    proxy?: string;\n}\n\nexport class Cache {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    private readonly _cache: {[key: string]: Promise<any>} = {};\n\n    constructor(private readonly context: Context, private readonly _options: ResourceOptions) {}\n\n    addImage(src: string): Promise<void> {\n        const result = Promise.resolve();\n        if (this.has(src)) {\n            return result;\n        }\n\n        if (isBlobImage(src) || isRenderable(src)) {\n            (this._cache[src] = this.loadImage(src)).catch(() => {\n                // prevent unhandled rejection\n            });\n            return result;\n        }\n\n        return result;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    match(src: string): Promise<any> {\n        return this._cache[src];\n    }\n\n    private async loadImage(key: string) {\n        const isSameOrigin = CacheStorage.isSameOrigin(key);\n        const useCORS =\n            !isInlineImage(key) && this._options.useCORS === true && FEATURES.SUPPORT_CORS_IMAGES && !isSameOrigin;\n        const useProxy =\n            !isInlineImage(key) &&\n            !isSameOrigin &&\n            !isBlobImage(key) &&\n            typeof this._options.proxy === 'string' &&\n            FEATURES.SUPPORT_CORS_XHR &&\n            !useCORS;\n        if (\n            !isSameOrigin &&\n            this._options.allowTaint === false &&\n            !isInlineImage(key) &&\n            !isBlobImage(key) &&\n            !useProxy &&\n            !useCORS\n        ) {\n            return;\n        }\n\n        let src = key;\n        if (useProxy) {\n            src = await this.proxy(src);\n        }\n\n        this.context.logger.debug(`Added image ${key.substring(0, 256)}`);\n\n        return await new Promise((resolve, reject) => {\n            const img = new Image();\n            img.onload = () => resolve(img);\n            img.onerror = reject;\n            //ios safari 10.3 taints canvas with data urls unless crossOrigin is set to anonymous\n            if (isInlineBase64Image(src) || useCORS) {\n                img.crossOrigin = 'anonymous';\n            }\n            img.src = src;\n            if (img.complete === true) {\n                // Inline XML images may fail to parse, throwing an Error later on\n                setTimeout(() => resolve(img), 500);\n            }\n            if (this._options.imageTimeout > 0) {\n                setTimeout(\n                    () => reject(`Timed out (${this._options.imageTimeout}ms) loading image`),\n                    this._options.imageTimeout\n                );\n            }\n        });\n    }\n\n    private has(key: string): boolean {\n        return typeof this._cache[key] !== 'undefined';\n    }\n\n    keys(): Promise<string[]> {\n        return Promise.resolve(Object.keys(this._cache));\n    }\n\n    private proxy(src: string): Promise<string> {\n        const proxy = this._options.proxy;\n\n        if (!proxy) {\n            throw new Error('No proxy defined');\n        }\n\n        const key = src.substring(0, 256);\n\n        return new Promise((resolve, reject) => {\n            const responseType = FEATURES.SUPPORT_RESPONSE_TYPE ? 'blob' : 'text';\n            const xhr = new XMLHttpRequest();\n            xhr.onload = () => {\n                if (xhr.status === 200) {\n                    if (responseType === 'text') {\n                        resolve(xhr.response);\n                    } else {\n                        const reader = new FileReader();\n                        reader.addEventListener('load', () => resolve(reader.result as string), false);\n                        reader.addEventListener('error', (e) => reject(e), false);\n                        reader.readAsDataURL(xhr.response);\n                    }\n                } else {\n                    reject(`Failed to proxy resource ${key} with status code ${xhr.status}`);\n                }\n            };\n\n            xhr.onerror = reject;\n            const queryString = proxy.indexOf('?') > -1 ? '&' : '?';\n            xhr.open('GET', `${proxy}${queryString}url=${encodeURIComponent(src)}&responseType=${responseType}`);\n\n            if (responseType !== 'text' && xhr instanceof XMLHttpRequest) {\n                xhr.responseType = responseType;\n            }\n\n            if (this._options.imageTimeout) {\n                const timeout = this._options.imageTimeout;\n                xhr.timeout = timeout;\n                xhr.ontimeout = () => reject(`Timed out (${timeout}ms) proxying ${key}`);\n            }\n\n            xhr.send();\n        });\n    }\n}\n\nconst INLINE_SVG = /^data:image\\/svg\\+xml/i;\nconst INLINE_BASE64 = /^data:image\\/.*;base64,/i;\nconst INLINE_IMG = /^data:image\\/.*/i;\n\nconst isRenderable = (src: string): boolean => FEATURES.SUPPORT_SVG_DRAWING || !isSVG(src);\nconst isInlineImage = (src: string): boolean => INLINE_IMG.test(src);\nconst isInlineBase64Image = (src: string): boolean => INLINE_BASE64.test(src);\nconst isBlobImage = (src: string): boolean => src.substr(0, 4) === 'blob';\n\nconst isSVG = (src: string): boolean => src.substr(-3).toLowerCase() === 'svg' || INLINE_SVG.test(src);\n", "import {IPath, Path, PathType} from './path';\n\nexport class Vector implements IPath {\n    type: PathType;\n    x: number;\n    y: number;\n\n    constructor(x: number, y: number) {\n        this.type = PathType.VECTOR;\n        this.x = x;\n        this.y = y;\n    }\n\n    add(deltaX: number, deltaY: number): Vector {\n        return new Vector(this.x + deltaX, this.y + deltaY);\n    }\n}\n\nexport const isVector = (path: Path): path is Vector => path.type === PathType.VECTOR;\n", "import {Vector} from './vector';\nimport {IPath, PathType, Path} from './path';\n\nconst lerp = (a: Vector, b: Vector, t: number): Vector => {\n    return new Vector(a.x + (b.x - a.x) * t, a.y + (b.y - a.y) * t);\n};\n\nexport class BezierCurve implements IPath {\n    type: PathType;\n    start: Vector;\n    startControl: Vector;\n    endControl: Vector;\n    end: Vector;\n\n    constructor(start: Vector, startControl: Vector, endControl: Vector, end: Vector) {\n        this.type = PathType.BEZIER_CURVE;\n        this.start = start;\n        this.startControl = startControl;\n        this.endControl = endControl;\n        this.end = end;\n    }\n\n    subdivide(t: number, firstHalf: boolean): BezierCurve {\n        const ab = lerp(this.start, this.startControl, t);\n        const bc = lerp(this.startControl, this.endControl, t);\n        const cd = lerp(this.endControl, this.end, t);\n        const abbc = lerp(ab, bc, t);\n        const bccd = lerp(bc, cd, t);\n        const dest = lerp(abbc, bccd, t);\n        return firstHalf ? new BezierCurve(this.start, ab, abbc, dest) : new BezierCurve(dest, bccd, cd, this.end);\n    }\n\n    add(deltaX: number, deltaY: number): BezierCurve {\n        return new BezierCurve(\n            this.start.add(deltaX, deltaY),\n            this.startControl.add(deltaX, deltaY),\n            this.endControl.add(deltaX, deltaY),\n            this.end.add(deltaX, deltaY)\n        );\n    }\n\n    reverse(): BezierCurve {\n        return new BezierCurve(this.end, this.endControl, this.startControl, this.start);\n    }\n}\n\nexport const isBezierCurve = (path: Path): path is BezierCurve => path.type === PathType.BEZIER_CURVE;\n", "import {ElementContainer} from '../dom/element-container';\nimport {getAbsoluteValue, getAbsoluteValueForTuple} from '../css/types/length-percentage';\nimport {Vector} from './vector';\nimport {BezierCurve} from './bezier-curve';\nimport {Path} from './path';\n\nexport class BoundCurves {\n    readonly topLeftBorderDoubleOuterBox: Path;\n    readonly topRightBorderDoubleOuterBox: Path;\n    readonly bottomRightBorderDoubleOuterBox: Path;\n    readonly bottomLeftBorderDoubleOuterBox: Path;\n    readonly topLeftBorderDoubleInnerBox: Path;\n    readonly topRightBorderDoubleInnerBox: Path;\n    readonly bottomRightBorderDoubleInnerBox: Path;\n    readonly bottomLeftBorderDoubleInnerBox: Path;\n    readonly topLeftBorderStroke: Path;\n    readonly topRightBorderStroke: Path;\n    readonly bottomRightBorderStroke: Path;\n    readonly bottomLeftBorderStroke: Path;\n    readonly topLeftBorderBox: Path;\n    readonly topRightBorderBox: Path;\n    readonly bottomRightBorderBox: Path;\n    readonly bottomLeftBorderBox: Path;\n    readonly topLeftPaddingBox: Path;\n    readonly topRightPaddingBox: Path;\n    readonly bottomRightPaddingBox: Path;\n    readonly bottomLeftPaddingBox: Path;\n    readonly topLeftContentBox: Path;\n    readonly topRightContentBox: Path;\n    readonly bottomRightContentBox: Path;\n    readonly bottomLeftContentBox: Path;\n\n    constructor(element: ElementContainer) {\n        const styles = element.styles;\n        const bounds = element.bounds;\n\n        let [tlh, tlv] = getAbsoluteValueForTuple(styles.borderTopLeftRadius, bounds.width, bounds.height);\n        let [trh, trv] = getAbsoluteValueForTuple(styles.borderTopRightRadius, bounds.width, bounds.height);\n        let [brh, brv] = getAbsoluteValueForTuple(styles.borderBottomRightRadius, bounds.width, bounds.height);\n        let [blh, blv] = getAbsoluteValueForTuple(styles.borderBottomLeftRadius, bounds.width, bounds.height);\n\n        const factors = [];\n        factors.push((tlh + trh) / bounds.width);\n        factors.push((blh + brh) / bounds.width);\n        factors.push((tlv + blv) / bounds.height);\n        factors.push((trv + brv) / bounds.height);\n        const maxFactor = Math.max(...factors);\n\n        if (maxFactor > 1) {\n            tlh /= maxFactor;\n            tlv /= maxFactor;\n            trh /= maxFactor;\n            trv /= maxFactor;\n            brh /= maxFactor;\n            brv /= maxFactor;\n            blh /= maxFactor;\n            blv /= maxFactor;\n        }\n\n        const topWidth = bounds.width - trh;\n        const rightHeight = bounds.height - brv;\n        const bottomWidth = bounds.width - brh;\n        const leftHeight = bounds.height - blv;\n\n        const borderTopWidth = styles.borderTopWidth;\n        const borderRightWidth = styles.borderRightWidth;\n        const borderBottomWidth = styles.borderBottomWidth;\n        const borderLeftWidth = styles.borderLeftWidth;\n\n        const paddingTop = getAbsoluteValue(styles.paddingTop, element.bounds.width);\n        const paddingRight = getAbsoluteValue(styles.paddingRight, element.bounds.width);\n        const paddingBottom = getAbsoluteValue(styles.paddingBottom, element.bounds.width);\n        const paddingLeft = getAbsoluteValue(styles.paddingLeft, element.bounds.width);\n\n        this.topLeftBorderDoubleOuterBox =\n            tlh > 0 || tlv > 0\n                ? getCurvePoints(\n                      bounds.left + borderLeftWidth / 3,\n                      bounds.top + borderTopWidth / 3,\n                      tlh - borderLeftWidth / 3,\n                      tlv - borderTopWidth / 3,\n                      CORNER.TOP_LEFT\n                  )\n                : new Vector(bounds.left + borderLeftWidth / 3, bounds.top + borderTopWidth / 3);\n        this.topRightBorderDoubleOuterBox =\n            tlh > 0 || tlv > 0\n                ? getCurvePoints(\n                      bounds.left + topWidth,\n                      bounds.top + borderTopWidth / 3,\n                      trh - borderRightWidth / 3,\n                      trv - borderTopWidth / 3,\n                      CORNER.TOP_RIGHT\n                  )\n                : new Vector(bounds.left + bounds.width - borderRightWidth / 3, bounds.top + borderTopWidth / 3);\n        this.bottomRightBorderDoubleOuterBox =\n            brh > 0 || brv > 0\n                ? getCurvePoints(\n                      bounds.left + bottomWidth,\n                      bounds.top + rightHeight,\n                      brh - borderRightWidth / 3,\n                      brv - borderBottomWidth / 3,\n                      CORNER.BOTTOM_RIGHT\n                  )\n                : new Vector(\n                      bounds.left + bounds.width - borderRightWidth / 3,\n                      bounds.top + bounds.height - borderBottomWidth / 3\n                  );\n        this.bottomLeftBorderDoubleOuterBox =\n            blh > 0 || blv > 0\n                ? getCurvePoints(\n                      bounds.left + borderLeftWidth / 3,\n                      bounds.top + leftHeight,\n                      blh - borderLeftWidth / 3,\n                      blv - borderBottomWidth / 3,\n                      CORNER.BOTTOM_LEFT\n                  )\n                : new Vector(bounds.left + borderLeftWidth / 3, bounds.top + bounds.height - borderBottomWidth / 3);\n        this.topLeftBorderDoubleInnerBox =\n            tlh > 0 || tlv > 0\n                ? getCurvePoints(\n                      bounds.left + (borderLeftWidth * 2) / 3,\n                      bounds.top + (borderTopWidth * 2) / 3,\n                      tlh - (borderLeftWidth * 2) / 3,\n                      tlv - (borderTopWidth * 2) / 3,\n                      CORNER.TOP_LEFT\n                  )\n                : new Vector(bounds.left + (borderLeftWidth * 2) / 3, bounds.top + (borderTopWidth * 2) / 3);\n        this.topRightBorderDoubleInnerBox =\n            tlh > 0 || tlv > 0\n                ? getCurvePoints(\n                      bounds.left + topWidth,\n                      bounds.top + (borderTopWidth * 2) / 3,\n                      trh - (borderRightWidth * 2) / 3,\n                      trv - (borderTopWidth * 2) / 3,\n                      CORNER.TOP_RIGHT\n                  )\n                : new Vector(\n                      bounds.left + bounds.width - (borderRightWidth * 2) / 3,\n                      bounds.top + (borderTopWidth * 2) / 3\n                  );\n        this.bottomRightBorderDoubleInnerBox =\n            brh > 0 || brv > 0\n                ? getCurvePoints(\n                      bounds.left + bottomWidth,\n                      bounds.top + rightHeight,\n                      brh - (borderRightWidth * 2) / 3,\n                      brv - (borderBottomWidth * 2) / 3,\n                      CORNER.BOTTOM_RIGHT\n                  )\n                : new Vector(\n                      bounds.left + bounds.width - (borderRightWidth * 2) / 3,\n                      bounds.top + bounds.height - (borderBottomWidth * 2) / 3\n                  );\n        this.bottomLeftBorderDoubleInnerBox =\n            blh > 0 || blv > 0\n                ? getCurvePoints(\n                      bounds.left + (borderLeftWidth * 2) / 3,\n                      bounds.top + leftHeight,\n                      blh - (borderLeftWidth * 2) / 3,\n                      blv - (borderBottomWidth * 2) / 3,\n                      CORNER.BOTTOM_LEFT\n                  )\n                : new Vector(\n                      bounds.left + (borderLeftWidth * 2) / 3,\n                      bounds.top + bounds.height - (borderBottomWidth * 2) / 3\n                  );\n        this.topLeftBorderStroke =\n            tlh > 0 || tlv > 0\n                ? getCurvePoints(\n                      bounds.left + borderLeftWidth / 2,\n                      bounds.top + borderTopWidth / 2,\n                      tlh - borderLeftWidth / 2,\n                      tlv - borderTopWidth / 2,\n                      CORNER.TOP_LEFT\n                  )\n                : new Vector(bounds.left + borderLeftWidth / 2, bounds.top + borderTopWidth / 2);\n        this.topRightBorderStroke =\n            tlh > 0 || tlv > 0\n                ? getCurvePoints(\n                      bounds.left + topWidth,\n                      bounds.top + borderTopWidth / 2,\n                      trh - borderRightWidth / 2,\n                      trv - borderTopWidth / 2,\n                      CORNER.TOP_RIGHT\n                  )\n                : new Vector(bounds.left + bounds.width - borderRightWidth / 2, bounds.top + borderTopWidth / 2);\n        this.bottomRightBorderStroke =\n            brh > 0 || brv > 0\n                ? getCurvePoints(\n                      bounds.left + bottomWidth,\n                      bounds.top + rightHeight,\n                      brh - borderRightWidth / 2,\n                      brv - borderBottomWidth / 2,\n                      CORNER.BOTTOM_RIGHT\n                  )\n                : new Vector(\n                      bounds.left + bounds.width - borderRightWidth / 2,\n                      bounds.top + bounds.height - borderBottomWidth / 2\n                  );\n        this.bottomLeftBorderStroke =\n            blh > 0 || blv > 0\n                ? getCurvePoints(\n                      bounds.left + borderLeftWidth / 2,\n                      bounds.top + leftHeight,\n                      blh - borderLeftWidth / 2,\n                      blv - borderBottomWidth / 2,\n                      CORNER.BOTTOM_LEFT\n                  )\n                : new Vector(bounds.left + borderLeftWidth / 2, bounds.top + bounds.height - borderBottomWidth / 2);\n        this.topLeftBorderBox =\n            tlh > 0 || tlv > 0\n                ? getCurvePoints(bounds.left, bounds.top, tlh, tlv, CORNER.TOP_LEFT)\n                : new Vector(bounds.left, bounds.top);\n        this.topRightBorderBox =\n            trh > 0 || trv > 0\n                ? getCurvePoints(bounds.left + topWidth, bounds.top, trh, trv, CORNER.TOP_RIGHT)\n                : new Vector(bounds.left + bounds.width, bounds.top);\n        this.bottomRightBorderBox =\n            brh > 0 || brv > 0\n                ? getCurvePoints(bounds.left + bottomWidth, bounds.top + rightHeight, brh, brv, CORNER.BOTTOM_RIGHT)\n                : new Vector(bounds.left + bounds.width, bounds.top + bounds.height);\n        this.bottomLeftBorderBox =\n            blh > 0 || blv > 0\n                ? getCurvePoints(bounds.left, bounds.top + leftHeight, blh, blv, CORNER.BOTTOM_LEFT)\n                : new Vector(bounds.left, bounds.top + bounds.height);\n        this.topLeftPaddingBox =\n            tlh > 0 || tlv > 0\n                ? getCurvePoints(\n                      bounds.left + borderLeftWidth,\n                      bounds.top + borderTopWidth,\n                      Math.max(0, tlh - borderLeftWidth),\n                      Math.max(0, tlv - borderTopWidth),\n                      CORNER.TOP_LEFT\n                  )\n                : new Vector(bounds.left + borderLeftWidth, bounds.top + borderTopWidth);\n        this.topRightPaddingBox =\n            trh > 0 || trv > 0\n                ? getCurvePoints(\n                      bounds.left + Math.min(topWidth, bounds.width - borderRightWidth),\n                      bounds.top + borderTopWidth,\n                      topWidth > bounds.width + borderRightWidth ? 0 : Math.max(0, trh - borderRightWidth),\n                      Math.max(0, trv - borderTopWidth),\n                      CORNER.TOP_RIGHT\n                  )\n                : new Vector(bounds.left + bounds.width - borderRightWidth, bounds.top + borderTopWidth);\n        this.bottomRightPaddingBox =\n            brh > 0 || brv > 0\n                ? getCurvePoints(\n                      bounds.left + Math.min(bottomWidth, bounds.width - borderLeftWidth),\n                      bounds.top + Math.min(rightHeight, bounds.height - borderBottomWidth),\n                      Math.max(0, brh - borderRightWidth),\n                      Math.max(0, brv - borderBottomWidth),\n                      CORNER.BOTTOM_RIGHT\n                  )\n                : new Vector(\n                      bounds.left + bounds.width - borderRightWidth,\n                      bounds.top + bounds.height - borderBottomWidth\n                  );\n        this.bottomLeftPaddingBox =\n            blh > 0 || blv > 0\n                ? getCurvePoints(\n                      bounds.left + borderLeftWidth,\n                      bounds.top + Math.min(leftHeight, bounds.height - borderBottomWidth),\n                      Math.max(0, blh - borderLeftWidth),\n                      Math.max(0, blv - borderBottomWidth),\n                      CORNER.BOTTOM_LEFT\n                  )\n                : new Vector(bounds.left + borderLeftWidth, bounds.top + bounds.height - borderBottomWidth);\n        this.topLeftContentBox =\n            tlh > 0 || tlv > 0\n                ? getCurvePoints(\n                      bounds.left + borderLeftWidth + paddingLeft,\n                      bounds.top + borderTopWidth + paddingTop,\n                      Math.max(0, tlh - (borderLeftWidth + paddingLeft)),\n                      Math.max(0, tlv - (borderTopWidth + paddingTop)),\n                      CORNER.TOP_LEFT\n                  )\n                : new Vector(bounds.left + borderLeftWidth + paddingLeft, bounds.top + borderTopWidth + paddingTop);\n        this.topRightContentBox =\n            trh > 0 || trv > 0\n                ? getCurvePoints(\n                      bounds.left + Math.min(topWidth, bounds.width + borderLeftWidth + paddingLeft),\n                      bounds.top + borderTopWidth + paddingTop,\n                      topWidth > bounds.width + borderLeftWidth + paddingLeft ? 0 : trh - borderLeftWidth + paddingLeft,\n                      trv - (borderTopWidth + paddingTop),\n                      CORNER.TOP_RIGHT\n                  )\n                : new Vector(\n                      bounds.left + bounds.width - (borderRightWidth + paddingRight),\n                      bounds.top + borderTopWidth + paddingTop\n                  );\n        this.bottomRightContentBox =\n            brh > 0 || brv > 0\n                ? getCurvePoints(\n                      bounds.left + Math.min(bottomWidth, bounds.width - (borderLeftWidth + paddingLeft)),\n                      bounds.top + Math.min(rightHeight, bounds.height + borderTopWidth + paddingTop),\n                      Math.max(0, brh - (borderRightWidth + paddingRight)),\n                      brv - (borderBottomWidth + paddingBottom),\n                      CORNER.BOTTOM_RIGHT\n                  )\n                : new Vector(\n                      bounds.left + bounds.width - (borderRightWidth + paddingRight),\n                      bounds.top + bounds.height - (borderBottomWidth + paddingBottom)\n                  );\n        this.bottomLeftContentBox =\n            blh > 0 || blv > 0\n                ? getCurvePoints(\n                      bounds.left + borderLeftWidth + paddingLeft,\n                      bounds.top + leftHeight,\n                      Math.max(0, blh - (borderLeftWidth + paddingLeft)),\n                      blv - (borderBottomWidth + paddingBottom),\n                      CORNER.BOTTOM_LEFT\n                  )\n                : new Vector(\n                      bounds.left + borderLeftWidth + paddingLeft,\n                      bounds.top + bounds.height - (borderBottomWidth + paddingBottom)\n                  );\n    }\n}\n\nenum CORNER {\n    TOP_LEFT = 0,\n    TOP_RIGHT = 1,\n    BOTTOM_RIGHT = 2,\n    BOTTOM_LEFT = 3\n}\n\nconst getCurvePoints = (x: number, y: number, r1: number, r2: number, position: CORNER): BezierCurve => {\n    const kappa = 4 * ((Math.sqrt(2) - 1) / 3);\n    const ox = r1 * kappa; // control point offset horizontal\n    const oy = r2 * kappa; // control point offset vertical\n    const xm = x + r1; // x-middle\n    const ym = y + r2; // y-middle\n\n    switch (position) {\n        case CORNER.TOP_LEFT:\n            return new BezierCurve(\n                new Vector(x, ym),\n                new Vector(x, ym - oy),\n                new Vector(xm - ox, y),\n                new Vector(xm, y)\n            );\n        case CORNER.TOP_RIGHT:\n            return new BezierCurve(\n                new Vector(x, y),\n                new Vector(x + ox, y),\n                new Vector(xm, ym - oy),\n                new Vector(xm, ym)\n            );\n        case CORNER.BOTTOM_RIGHT:\n            return new BezierCurve(\n                new Vector(xm, y),\n                new Vector(xm, y + oy),\n                new Vector(x + ox, ym),\n                new Vector(x, ym)\n            );\n        case CORNER.BOTTOM_LEFT:\n        default:\n            return new BezierCurve(\n                new Vector(xm, ym),\n                new Vector(xm - ox, ym),\n                new Vector(x, y + oy),\n                new Vector(x, y)\n            );\n    }\n};\n\nexport const calculateBorderBoxPath = (curves: BoundCurves): Path[] => {\n    return [curves.topLeftBorderBox, curves.topRightBorderBox, curves.bottomRightBorderBox, curves.bottomLeftBorderBox];\n};\n\nexport const calculateContentBoxPath = (curves: BoundCurves): Path[] => {\n    return [\n        curves.topLeftContentBox,\n        curves.topRightContentBox,\n        curves.bottomRightContentBox,\n        curves.bottomLeftContentBox\n    ];\n};\n\nexport const calculatePaddingBoxPath = (curves: BoundCurves): Path[] => {\n    return [\n        curves.topLeftPaddingBox,\n        curves.topRightPaddingBox,\n        curves.bottomRightPaddingBox,\n        curves.bottomLeftPaddingBox\n    ];\n};\n", "import {Matrix} from '../css/property-descriptors/transform';\nimport {Path} from './path';\n\nexport const enum EffectType {\n    TRANSFORM = 0,\n    CLIP = 1,\n    OPACITY = 2\n}\n\nexport const enum EffectTarget {\n    BACKGROUND_BORDERS = 1 << 1,\n    CONTENT = 1 << 2\n}\n\nexport interface IElementEffect {\n    readonly type: EffectType;\n    readonly target: number;\n}\n\nexport class TransformEffect implements IElementEffect {\n    readonly type: EffectType = EffectType.TRANSFORM;\n    readonly target: number = EffectTarget.BACKGROUND_BORDERS | EffectTarget.CONTENT;\n\n    constructor(readonly offsetX: number, readonly offsetY: number, readonly matrix: Matrix) {}\n}\n\nexport class ClipEffect implements IElementEffect {\n    readonly type: EffectType = EffectType.CLIP;\n\n    constructor(readonly path: Path[], readonly target: EffectTarget) {}\n}\n\nexport class OpacityEffect implements IElementEffect {\n    readonly type: EffectType = EffectType.OPACITY;\n    readonly target: number = EffectTarget.BACKGROUND_BORDERS | EffectTarget.CONTENT;\n\n    constructor(readonly opacity: number) {}\n}\n\nexport const isTransformEffect = (effect: IElementEffect): effect is TransformEffect =>\n    effect.type === EffectType.TRANSFORM;\nexport const isClipEffect = (effect: IElementEffect): effect is ClipEffect => effect.type === EffectType.CLIP;\nexport const isOpacityEffect = (effect: IElementEffect): effect is OpacityEffect => effect.type === EffectType.OPACITY;\n", "import {BezierCurve} from './bezier-curve';\nimport {Vector} from './vector';\nexport const enum PathType {\n    VECTOR = 0,\n    BEZIER_CURVE = 1\n}\n\nexport interface IPath {\n    type: PathType;\n    add(deltaX: number, deltaY: number): IPath;\n}\n\nexport const equalPath = (a: Path[], b: Path[]): boolean => {\n    if (a.length === b.length) {\n        return a.some((v, i) => v === b[i]);\n    }\n\n    return false;\n};\n\nexport const transformPath = (path: Path[], deltaX: number, deltaY: number, deltaW: number, deltaH: number): Path[] => {\n    return path.map((point, index) => {\n        switch (index) {\n            case 0:\n                return point.add(deltaX, deltaY);\n            case 1:\n                return point.add(deltaX + deltaW, deltaY);\n            case 2:\n                return point.add(deltaX + deltaW, deltaY + deltaH);\n            case 3:\n                return point.add(deltaX, deltaY + deltaH);\n        }\n        return point;\n    });\n};\n\nexport type Path = Vector | BezierCurve;\n", "import {ElementContainer, FLAGS} from '../dom/element-container';\nimport {contains} from '../core/bitwise';\nimport {BoundCurves, calculateBorderBoxPath, calculatePaddingBoxPath} from './bound-curves';\nimport {ClipEffect, EffectTarget, IElementEffect, isClipEffect, OpacityEffect, TransformEffect} from './effects';\nimport {OVERFLOW} from '../css/property-descriptors/overflow';\nimport {equalPath} from './path';\nimport {DISPLAY} from '../css/property-descriptors/display';\nimport {OLElementContainer} from '../dom/elements/ol-element-container';\nimport {LIElementContainer} from '../dom/elements/li-element-container';\nimport {createCounterText} from '../css/types/functions/counter';\nimport {POSITION} from '../css/property-descriptors/position';\n\nexport class StackingContext {\n    element: ElementPaint;\n    negativeZIndex: StackingContext[];\n    zeroOrAutoZIndexOrTransformedOrOpacity: StackingContext[];\n    positiveZIndex: StackingContext[];\n    nonPositionedFloats: StackingContext[];\n    nonPositionedInlineLevel: StackingContext[];\n    inlineLevel: ElementPaint[];\n    nonInlineLevel: ElementPaint[];\n\n    constructor(container: ElementPaint) {\n        this.element = container;\n        this.inlineLevel = [];\n        this.nonInlineLevel = [];\n        this.negativeZIndex = [];\n        this.zeroOrAutoZIndexOrTransformedOrOpacity = [];\n        this.positiveZIndex = [];\n        this.nonPositionedFloats = [];\n        this.nonPositionedInlineLevel = [];\n    }\n}\n\nexport class ElementPaint {\n    readonly effects: IElementEffect[] = [];\n    readonly curves: BoundCurves;\n    listValue?: string;\n\n    constructor(readonly container: ElementContainer, readonly parent: ElementPaint | null) {\n        this.curves = new BoundCurves(this.container);\n        if (this.container.styles.opacity < 1) {\n            this.effects.push(new OpacityEffect(this.container.styles.opacity));\n        }\n\n        if (this.container.styles.transform !== null) {\n            const offsetX = this.container.bounds.left + this.container.styles.transformOrigin[0].number;\n            const offsetY = this.container.bounds.top + this.container.styles.transformOrigin[1].number;\n            const matrix = this.container.styles.transform;\n            this.effects.push(new TransformEffect(offsetX, offsetY, matrix));\n        }\n\n        if (this.container.styles.overflowX !== OVERFLOW.VISIBLE) {\n            const borderBox = calculateBorderBoxPath(this.curves);\n            const paddingBox = calculatePaddingBoxPath(this.curves);\n\n            if (equalPath(borderBox, paddingBox)) {\n                this.effects.push(new ClipEffect(borderBox, EffectTarget.BACKGROUND_BORDERS | EffectTarget.CONTENT));\n            } else {\n                this.effects.push(new ClipEffect(borderBox, EffectTarget.BACKGROUND_BORDERS));\n                this.effects.push(new ClipEffect(paddingBox, EffectTarget.CONTENT));\n            }\n        }\n    }\n\n    getEffects(target: EffectTarget): IElementEffect[] {\n        let inFlow = [POSITION.ABSOLUTE, POSITION.FIXED].indexOf(this.container.styles.position) === -1;\n        let parent = this.parent;\n        const effects = this.effects.slice(0);\n        while (parent) {\n            const croplessEffects = parent.effects.filter((effect) => !isClipEffect(effect));\n            if (inFlow || parent.container.styles.position !== POSITION.STATIC || !parent.parent) {\n                effects.unshift(...croplessEffects);\n                inFlow = [POSITION.ABSOLUTE, POSITION.FIXED].indexOf(parent.container.styles.position) === -1;\n                if (parent.container.styles.overflowX !== OVERFLOW.VISIBLE) {\n                    const borderBox = calculateBorderBoxPath(parent.curves);\n                    const paddingBox = calculatePaddingBoxPath(parent.curves);\n                    if (!equalPath(borderBox, paddingBox)) {\n                        effects.unshift(\n                            new ClipEffect(paddingBox, EffectTarget.BACKGROUND_BORDERS | EffectTarget.CONTENT)\n                        );\n                    }\n                }\n            } else {\n                effects.unshift(...croplessEffects);\n            }\n\n            parent = parent.parent;\n        }\n\n        return effects.filter((effect) => contains(effect.target, target));\n    }\n}\n\nconst parseStackTree = (\n    parent: ElementPaint,\n    stackingContext: StackingContext,\n    realStackingContext: StackingContext,\n    listItems: ElementPaint[]\n) => {\n    parent.container.elements.forEach((child) => {\n        const treatAsRealStackingContext = contains(child.flags, FLAGS.CREATES_REAL_STACKING_CONTEXT);\n        const createsStackingContext = contains(child.flags, FLAGS.CREATES_STACKING_CONTEXT);\n        const paintContainer = new ElementPaint(child, parent);\n        if (contains(child.styles.display, DISPLAY.LIST_ITEM)) {\n            listItems.push(paintContainer);\n        }\n\n        const listOwnerItems = contains(child.flags, FLAGS.IS_LIST_OWNER) ? [] : listItems;\n\n        if (treatAsRealStackingContext || createsStackingContext) {\n            const parentStack =\n                treatAsRealStackingContext || child.styles.isPositioned() ? realStackingContext : stackingContext;\n\n            const stack = new StackingContext(paintContainer);\n\n            if (child.styles.isPositioned() || child.styles.opacity < 1 || child.styles.isTransformed()) {\n                const order = child.styles.zIndex.order;\n                if (order < 0) {\n                    let index = 0;\n\n                    parentStack.negativeZIndex.some((current, i) => {\n                        if (order > current.element.container.styles.zIndex.order) {\n                            index = i;\n                            return false;\n                        } else if (index > 0) {\n                            return true;\n                        }\n\n                        return false;\n                    });\n                    parentStack.negativeZIndex.splice(index, 0, stack);\n                } else if (order > 0) {\n                    let index = 0;\n                    parentStack.positiveZIndex.some((current, i) => {\n                        if (order >= current.element.container.styles.zIndex.order) {\n                            index = i + 1;\n                            return false;\n                        } else if (index > 0) {\n                            return true;\n                        }\n\n                        return false;\n                    });\n                    parentStack.positiveZIndex.splice(index, 0, stack);\n                } else {\n                    parentStack.zeroOrAutoZIndexOrTransformedOrOpacity.push(stack);\n                }\n            } else {\n                if (child.styles.isFloating()) {\n                    parentStack.nonPositionedFloats.push(stack);\n                } else {\n                    parentStack.nonPositionedInlineLevel.push(stack);\n                }\n            }\n\n            parseStackTree(\n                paintContainer,\n                stack,\n                treatAsRealStackingContext ? stack : realStackingContext,\n                listOwnerItems\n            );\n        } else {\n            if (child.styles.isInlineLevel()) {\n                stackingContext.inlineLevel.push(paintContainer);\n            } else {\n                stackingContext.nonInlineLevel.push(paintContainer);\n            }\n\n            parseStackTree(paintContainer, stackingContext, realStackingContext, listOwnerItems);\n        }\n\n        if (contains(child.flags, FLAGS.IS_LIST_OWNER)) {\n            processListItems(child, listOwnerItems);\n        }\n    });\n};\n\nconst processListItems = (owner: ElementContainer, elements: ElementPaint[]) => {\n    let numbering = owner instanceof OLElementContainer ? owner.start : 1;\n    const reversed = owner instanceof OLElementContainer ? owner.reversed : false;\n    for (let i = 0; i < elements.length; i++) {\n        const item = elements[i];\n        if (\n            item.container instanceof LIElementContainer &&\n            typeof item.container.value === 'number' &&\n            item.container.value !== 0\n        ) {\n            numbering = item.container.value;\n        }\n\n        item.listValue = createCounterText(numbering, item.container.styles.listStyleType, true);\n\n        numbering += reversed ? -1 : 1;\n    }\n};\n\nexport const parseStackingContexts = (container: ElementContainer): StackingContext => {\n    const paintContainer = new ElementPaint(container, null);\n    const root = new StackingContext(paintContainer);\n    const listItems: ElementPaint[] = [];\n    parseStackTree(paintContainer, root, root, listItems);\n    processListItems(paintContainer.container, listItems);\n    return root;\n};\n", "import {Path} from './path';\nimport {BoundCurves} from './bound-curves';\nimport {isBezierCurve} from './bezier-curve';\n\nexport const parsePathForBorder = (curves: BoundCurves, borderSide: number): Path[] => {\n    switch (borderSide) {\n        case 0:\n            return createPathFromCurves(\n                curves.topLeftBorderBox,\n                curves.topLeftPaddingBox,\n                curves.topRightBorderBox,\n                curves.topRightPaddingBox\n            );\n        case 1:\n            return createPathFromCurves(\n                curves.topRightBorderBox,\n                curves.topRightPaddingBox,\n                curves.bottomRightBorderBox,\n                curves.bottomRightPaddingBox\n            );\n        case 2:\n            return createPathFromCurves(\n                curves.bottomRightBorderBox,\n                curves.bottomRightPaddingBox,\n                curves.bottomLeftBorderBox,\n                curves.bottomLeftPaddingBox\n            );\n        case 3:\n        default:\n            return createPathFromCurves(\n                curves.bottomLeftBorderBox,\n                curves.bottomLeftPaddingBox,\n                curves.topLeftBorderBox,\n                curves.topLeftPaddingBox\n            );\n    }\n};\n\nexport const parsePathForBorderDoubleOuter = (curves: BoundCurves, borderSide: number): Path[] => {\n    switch (borderSide) {\n        case 0:\n            return createPathFromCurves(\n                curves.topLeftBorderBox,\n                curves.topLeftBorderDoubleOuterBox,\n                curves.topRightBorderBox,\n                curves.topRightBorderDoubleOuterBox\n            );\n        case 1:\n            return createPathFromCurves(\n                curves.topRightBorderBox,\n                curves.topRightBorderDoubleOuterBox,\n                curves.bottomRightBorderBox,\n                curves.bottomRightBorderDoubleOuterBox\n            );\n        case 2:\n            return createPathFromCurves(\n                curves.bottomRightBorderBox,\n                curves.bottomRightBorderDoubleOuterBox,\n                curves.bottomLeftBorderBox,\n                curves.bottomLeftBorderDoubleOuterBox\n            );\n        case 3:\n        default:\n            return createPathFromCurves(\n                curves.bottomLeftBorderBox,\n                curves.bottomLeftBorderDoubleOuterBox,\n                curves.topLeftBorderBox,\n                curves.topLeftBorderDoubleOuterBox\n            );\n    }\n};\n\nexport const parsePathForBorderDoubleInner = (curves: BoundCurves, borderSide: number): Path[] => {\n    switch (borderSide) {\n        case 0:\n            return createPathFromCurves(\n                curves.topLeftBorderDoubleInnerBox,\n                curves.topLeftPaddingBox,\n                curves.topRightBorderDoubleInnerBox,\n                curves.topRightPaddingBox\n            );\n        case 1:\n            return createPathFromCurves(\n                curves.topRightBorderDoubleInnerBox,\n                curves.topRightPaddingBox,\n                curves.bottomRightBorderDoubleInnerBox,\n                curves.bottomRightPaddingBox\n            );\n        case 2:\n            return createPathFromCurves(\n                curves.bottomRightBorderDoubleInnerBox,\n                curves.bottomRightPaddingBox,\n                curves.bottomLeftBorderDoubleInnerBox,\n                curves.bottomLeftPaddingBox\n            );\n        case 3:\n        default:\n            return createPathFromCurves(\n                curves.bottomLeftBorderDoubleInnerBox,\n                curves.bottomLeftPaddingBox,\n                curves.topLeftBorderDoubleInnerBox,\n                curves.topLeftPaddingBox\n            );\n    }\n};\n\nexport const parsePathForBorderStroke = (curves: BoundCurves, borderSide: number): Path[] => {\n    switch (borderSide) {\n        case 0:\n            return createStrokePathFromCurves(curves.topLeftBorderStroke, curves.topRightBorderStroke);\n        case 1:\n            return createStrokePathFromCurves(curves.topRightBorderStroke, curves.bottomRightBorderStroke);\n        case 2:\n            return createStrokePathFromCurves(curves.bottomRightBorderStroke, curves.bottomLeftBorderStroke);\n        case 3:\n        default:\n            return createStrokePathFromCurves(curves.bottomLeftBorderStroke, curves.topLeftBorderStroke);\n    }\n};\n\nconst createStrokePathFromCurves = (outer1: Path, outer2: Path): Path[] => {\n    const path = [];\n    if (isBezierCurve(outer1)) {\n        path.push(outer1.subdivide(0.5, false));\n    } else {\n        path.push(outer1);\n    }\n\n    if (isBezierCurve(outer2)) {\n        path.push(outer2.subdivide(0.5, true));\n    } else {\n        path.push(outer2);\n    }\n\n    return path;\n};\n\nconst createPathFromCurves = (outer1: Path, inner1: Path, outer2: Path, inner2: Path): Path[] => {\n    const path = [];\n    if (isBezierCurve(outer1)) {\n        path.push(outer1.subdivide(0.5, false));\n    } else {\n        path.push(outer1);\n    }\n\n    if (isBezierCurve(outer2)) {\n        path.push(outer2.subdivide(0.5, true));\n    } else {\n        path.push(outer2);\n    }\n\n    if (isBezierCurve(inner2)) {\n        path.push(inner2.subdivide(0.5, true).reverse());\n    } else {\n        path.push(inner2);\n    }\n\n    if (isBezierCurve(inner1)) {\n        path.push(inner1.subdivide(0.5, false).reverse());\n    } else {\n        path.push(inner1);\n    }\n\n    return path;\n};\n", "import {getAbsoluteValue} from '../css/types/length-percentage';\nimport {Bounds} from '../css/layout/bounds';\nimport {ElementContainer} from '../dom/element-container';\n\nexport const paddingBox = (element: ElementContainer): Bounds => {\n    const bounds = element.bounds;\n    const styles = element.styles;\n    return bounds.add(\n        styles.borderLeftWidth,\n        styles.borderTopWidth,\n        -(styles.borderRightWidth + styles.borderLeftWidth),\n        -(styles.borderTopWidth + styles.borderBottomWidth)\n    );\n};\n\nexport const contentBox = (element: ElementContainer): Bounds => {\n    const styles = element.styles;\n    const bounds = element.bounds;\n\n    const paddingLeft = getAbsoluteValue(styles.paddingLeft, bounds.width);\n    const paddingRight = getAbsoluteValue(styles.paddingRight, bounds.width);\n    const paddingTop = getAbsoluteValue(styles.paddingTop, bounds.width);\n    const paddingBottom = getAbsoluteValue(styles.paddingBottom, bounds.width);\n\n    return bounds.add(\n        paddingLeft + styles.borderLeftWidth,\n        paddingTop + styles.borderTopWidth,\n        -(styles.borderRightWidth + styles.borderLeftWidth + paddingLeft + paddingRight),\n        -(styles.borderTopWidth + styles.borderBottomWidth + paddingTop + paddingBottom)\n    );\n};\n", "import {Bounds} from '../css/layout/bounds';\nimport {BACKGROUND_ORIGIN} from '../css/property-descriptors/background-origin';\nimport {ElementContainer} from '../dom/element-container';\nimport {BACKGROUND_SIZE, BackgroundSizeInfo} from '../css/property-descriptors/background-size';\nimport {Vector} from './vector';\nimport {BACKGROUND_REPEAT} from '../css/property-descriptors/background-repeat';\nimport {getAbsoluteValue, getAbsoluteValueForTuple, isLengthPercentage} from '../css/types/length-percentage';\nimport {CSSValue, isIdentToken} from '../css/syntax/parser';\nimport {contentBox, paddingBox} from './box-sizing';\nimport {Path} from './path';\nimport {BACKGROUND_CLIP} from '../css/property-descriptors/background-clip';\n\nexport const calculateBackgroundPositioningArea = (\n    backgroundOrigin: BACKGROUND_ORIGIN,\n    element: ElementContainer\n): Bounds => {\n    if (backgroundOrigin === BACKGROUND_ORIGIN.BORDER_BOX) {\n        return element.bounds;\n    }\n\n    if (backgroundOrigin === BACKGROUND_ORIGIN.CONTENT_BOX) {\n        return contentBox(element);\n    }\n\n    return paddingBox(element);\n};\n\nexport const calculateBackgroundPaintingArea = (backgroundClip: BACKGROUND_CLIP, element: ElementContainer): Bounds => {\n    if (backgroundClip === BACKGROUND_CLIP.BORDER_BOX) {\n        return element.bounds;\n    }\n\n    if (backgroundClip === BACKGROUND_CLIP.CONTENT_BOX) {\n        return contentBox(element);\n    }\n\n    return paddingBox(element);\n};\n\nexport const calculateBackgroundRendering = (\n    container: ElementContainer,\n    index: number,\n    intrinsicSize: [number | null, number | null, number | null]\n): [Path[], number, number, number, number] => {\n    const backgroundPositioningArea = calculateBackgroundPositioningArea(\n        getBackgroundValueForIndex(container.styles.backgroundOrigin, index),\n        container\n    );\n\n    const backgroundPaintingArea = calculateBackgroundPaintingArea(\n        getBackgroundValueForIndex(container.styles.backgroundClip, index),\n        container\n    );\n\n    const backgroundImageSize = calculateBackgroundSize(\n        getBackgroundValueForIndex(container.styles.backgroundSize, index),\n        intrinsicSize,\n        backgroundPositioningArea\n    );\n\n    const [sizeWidth, sizeHeight] = backgroundImageSize;\n\n    const position = getAbsoluteValueForTuple(\n        getBackgroundValueForIndex(container.styles.backgroundPosition, index),\n        backgroundPositioningArea.width - sizeWidth,\n        backgroundPositioningArea.height - sizeHeight\n    );\n\n    const path = calculateBackgroundRepeatPath(\n        getBackgroundValueForIndex(container.styles.backgroundRepeat, index),\n        position,\n        backgroundImageSize,\n        backgroundPositioningArea,\n        backgroundPaintingArea\n    );\n\n    const offsetX = Math.round(backgroundPositioningArea.left + position[0]);\n    const offsetY = Math.round(backgroundPositioningArea.top + position[1]);\n\n    return [path, offsetX, offsetY, sizeWidth, sizeHeight];\n};\n\nexport const isAuto = (token: CSSValue): boolean => isIdentToken(token) && token.value === BACKGROUND_SIZE.AUTO;\n\nconst hasIntrinsicValue = (value: number | null): value is number => typeof value === 'number';\n\nexport const calculateBackgroundSize = (\n    size: BackgroundSizeInfo[],\n    [intrinsicWidth, intrinsicHeight, intrinsicProportion]: [number | null, number | null, number | null],\n    bounds: Bounds\n): [number, number] => {\n    const [first, second] = size;\n\n    if (!first) {\n        return [0, 0];\n    }\n\n    if (isLengthPercentage(first) && second && isLengthPercentage(second)) {\n        return [getAbsoluteValue(first, bounds.width), getAbsoluteValue(second, bounds.height)];\n    }\n\n    const hasIntrinsicProportion = hasIntrinsicValue(intrinsicProportion);\n\n    if (isIdentToken(first) && (first.value === BACKGROUND_SIZE.CONTAIN || first.value === BACKGROUND_SIZE.COVER)) {\n        if (hasIntrinsicValue(intrinsicProportion)) {\n            const targetRatio = bounds.width / bounds.height;\n\n            return targetRatio < intrinsicProportion !== (first.value === BACKGROUND_SIZE.COVER)\n                ? [bounds.width, bounds.width / intrinsicProportion]\n                : [bounds.height * intrinsicProportion, bounds.height];\n        }\n\n        return [bounds.width, bounds.height];\n    }\n\n    const hasIntrinsicWidth = hasIntrinsicValue(intrinsicWidth);\n    const hasIntrinsicHeight = hasIntrinsicValue(intrinsicHeight);\n    const hasIntrinsicDimensions = hasIntrinsicWidth || hasIntrinsicHeight;\n\n    // If the background-size is auto or auto auto:\n    if (isAuto(first) && (!second || isAuto(second))) {\n        // If the image has both horizontal and vertical intrinsic dimensions, it's rendered at that size.\n        if (hasIntrinsicWidth && hasIntrinsicHeight) {\n            return [intrinsicWidth as number, intrinsicHeight as number];\n        }\n\n        // If the image has no intrinsic dimensions and has no intrinsic proportions,\n        // it's rendered at the size of the background positioning area.\n\n        if (!hasIntrinsicProportion && !hasIntrinsicDimensions) {\n            return [bounds.width, bounds.height];\n        }\n\n        // TODO If the image has no intrinsic dimensions but has intrinsic proportions, it's rendered as if contain had been specified instead.\n\n        // If the image has only one intrinsic dimension and has intrinsic proportions, it's rendered at the size corresponding to that one dimension.\n        // The other dimension is computed using the specified dimension and the intrinsic proportions.\n        if (hasIntrinsicDimensions && hasIntrinsicProportion) {\n            const width = hasIntrinsicWidth\n                ? (intrinsicWidth as number)\n                : (intrinsicHeight as number) * (intrinsicProportion as number);\n            const height = hasIntrinsicHeight\n                ? (intrinsicHeight as number)\n                : (intrinsicWidth as number) / (intrinsicProportion as number);\n            return [width, height];\n        }\n\n        // If the image has only one intrinsic dimension but has no intrinsic proportions,\n        // it's rendered using the specified dimension and the other dimension of the background positioning area.\n        const width = hasIntrinsicWidth ? (intrinsicWidth as number) : bounds.width;\n        const height = hasIntrinsicHeight ? (intrinsicHeight as number) : bounds.height;\n        return [width, height];\n    }\n\n    // If the image has intrinsic proportions, it's stretched to the specified dimension.\n    // The unspecified dimension is computed using the specified dimension and the intrinsic proportions.\n    if (hasIntrinsicProportion) {\n        let width = 0;\n        let height = 0;\n        if (isLengthPercentage(first)) {\n            width = getAbsoluteValue(first, bounds.width);\n        } else if (isLengthPercentage(second)) {\n            height = getAbsoluteValue(second, bounds.height);\n        }\n\n        if (isAuto(first)) {\n            width = height * (intrinsicProportion as number);\n        } else if (!second || isAuto(second)) {\n            height = width / (intrinsicProportion as number);\n        }\n\n        return [width, height];\n    }\n\n    // If the image has no intrinsic proportions, it's stretched to the specified dimension.\n    // The unspecified dimension is computed using the image's corresponding intrinsic dimension,\n    // if there is one. If there is no such intrinsic dimension,\n    // it becomes the corresponding dimension of the background positioning area.\n\n    let width = null;\n    let height = null;\n\n    if (isLengthPercentage(first)) {\n        width = getAbsoluteValue(first, bounds.width);\n    } else if (second && isLengthPercentage(second)) {\n        height = getAbsoluteValue(second, bounds.height);\n    }\n\n    if (width !== null && (!second || isAuto(second))) {\n        height =\n            hasIntrinsicWidth && hasIntrinsicHeight\n                ? (width / (intrinsicWidth as number)) * (intrinsicHeight as number)\n                : bounds.height;\n    }\n\n    if (height !== null && isAuto(first)) {\n        width =\n            hasIntrinsicWidth && hasIntrinsicHeight\n                ? (height / (intrinsicHeight as number)) * (intrinsicWidth as number)\n                : bounds.width;\n    }\n\n    if (width !== null && height !== null) {\n        return [width, height];\n    }\n\n    throw new Error(`Unable to calculate background-size for element`);\n};\n\nexport const getBackgroundValueForIndex = <T>(values: T[], index: number): T => {\n    const value = values[index];\n    if (typeof value === 'undefined') {\n        return values[0];\n    }\n\n    return value;\n};\n\nexport const calculateBackgroundRepeatPath = (\n    repeat: BACKGROUND_REPEAT,\n    [x, y]: [number, number],\n    [width, height]: [number, number],\n    backgroundPositioningArea: Bounds,\n    backgroundPaintingArea: Bounds\n): [Vector, Vector, Vector, Vector] => {\n    switch (repeat) {\n        case BACKGROUND_REPEAT.REPEAT_X:\n            return [\n                new Vector(Math.round(backgroundPositioningArea.left), Math.round(backgroundPositioningArea.top + y)),\n                new Vector(\n                    Math.round(backgroundPositioningArea.left + backgroundPositioningArea.width),\n                    Math.round(backgroundPositioningArea.top + y)\n                ),\n                new Vector(\n                    Math.round(backgroundPositioningArea.left + backgroundPositioningArea.width),\n                    Math.round(height + backgroundPositioningArea.top + y)\n                ),\n                new Vector(\n                    Math.round(backgroundPositioningArea.left),\n                    Math.round(height + backgroundPositioningArea.top + y)\n                )\n            ];\n        case BACKGROUND_REPEAT.REPEAT_Y:\n            return [\n                new Vector(Math.round(backgroundPositioningArea.left + x), Math.round(backgroundPositioningArea.top)),\n                new Vector(\n                    Math.round(backgroundPositioningArea.left + x + width),\n                    Math.round(backgroundPositioningArea.top)\n                ),\n                new Vector(\n                    Math.round(backgroundPositioningArea.left + x + width),\n                    Math.round(backgroundPositioningArea.height + backgroundPositioningArea.top)\n                ),\n                new Vector(\n                    Math.round(backgroundPositioningArea.left + x),\n                    Math.round(backgroundPositioningArea.height + backgroundPositioningArea.top)\n                )\n            ];\n        case BACKGROUND_REPEAT.NO_REPEAT:\n            return [\n                new Vector(\n                    Math.round(backgroundPositioningArea.left + x),\n                    Math.round(backgroundPositioningArea.top + y)\n                ),\n                new Vector(\n                    Math.round(backgroundPositioningArea.left + x + width),\n                    Math.round(backgroundPositioningArea.top + y)\n                ),\n                new Vector(\n                    Math.round(backgroundPositioningArea.left + x + width),\n                    Math.round(backgroundPositioningArea.top + y + height)\n                ),\n                new Vector(\n                    Math.round(backgroundPositioningArea.left + x),\n                    Math.round(backgroundPositioningArea.top + y + height)\n                )\n            ];\n        default:\n            return [\n                new Vector(Math.round(backgroundPaintingArea.left), Math.round(backgroundPaintingArea.top)),\n                new Vector(\n                    Math.round(backgroundPaintingArea.left + backgroundPaintingArea.width),\n                    Math.round(backgroundPaintingArea.top)\n                ),\n                new Vector(\n                    Math.round(backgroundPaintingArea.left + backgroundPaintingArea.width),\n                    Math.round(backgroundPaintingArea.height + backgroundPaintingArea.top)\n                ),\n                new Vector(\n                    Math.round(backgroundPaintingArea.left),\n                    Math.round(backgroundPaintingArea.height + backgroundPaintingArea.top)\n                )\n            ];\n    }\n};\n", "export const SMALL_IMAGE = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n", "import {SMALL_IMAGE} from '../core/util';\nexport interface FontMetric {\n    baseline: number;\n    middle: number;\n}\n\nconst SAMPLE_TEXT = 'Hidden Text';\n\nexport class FontMetrics {\n    private readonly _data: {[key: string]: FontMetric};\n    private readonly _document: Document;\n\n    constructor(document: Document) {\n        this._data = {};\n        this._document = document;\n    }\n\n    private parseMetrics(fontFamily: string, fontSize: string): FontMetric {\n        const container = this._document.createElement('div');\n        const img = this._document.createElement('img');\n        const span = this._document.createElement('span');\n\n        const body = this._document.body as HTMLBodyElement;\n\n        container.style.visibility = 'hidden';\n        container.style.fontFamily = fontFamily;\n        container.style.fontSize = fontSize;\n        container.style.margin = '0';\n        container.style.padding = '0';\n        container.style.whiteSpace = 'nowrap';\n\n        body.appendChild(container);\n\n        img.src = SMALL_IMAGE;\n        img.width = 1;\n        img.height = 1;\n\n        img.style.margin = '0';\n        img.style.padding = '0';\n        img.style.verticalAlign = 'baseline';\n\n        span.style.fontFamily = fontFamily;\n        span.style.fontSize = fontSize;\n        span.style.margin = '0';\n        span.style.padding = '0';\n\n        span.appendChild(this._document.createTextNode(SAMPLE_TEXT));\n        container.appendChild(span);\n        container.appendChild(img);\n        const baseline = img.offsetTop - span.offsetTop + 2;\n\n        container.removeChild(span);\n        container.appendChild(this._document.createTextNode(SAMPLE_TEXT));\n\n        container.style.lineHeight = 'normal';\n        img.style.verticalAlign = 'super';\n\n        const middle = img.offsetTop - container.offsetTop + 2;\n\n        body.removeChild(container);\n\n        return {baseline, middle};\n    }\n    getMetrics(fontFamily: string, fontSize: string): FontMetric {\n        const key = `${fontFamily} ${fontSize}`;\n        if (typeof this._data[key] === 'undefined') {\n            this._data[key] = this.parseMetrics(fontFamily, fontSize);\n        }\n\n        return this._data[key];\n    }\n}\n", "import {Context} from '../core/context';\nimport {RenderConfigurations} from './canvas/canvas-renderer';\n\nexport class Renderer {\n    constructor(protected readonly context: Context, protected readonly options: RenderConfigurations) {}\n}\n", "import {ElementPaint, parseStackingContexts, StackingContext} from '../stacking-context';\nimport {asString, Color, isTransparent} from '../../css/types/color';\nimport {ElementContainer, FLAGS} from '../../dom/element-container';\nimport {BORDER_STYLE} from '../../css/property-descriptors/border-style';\nimport {CSSParsedDeclaration} from '../../css';\nimport {TextContainer} from '../../dom/text-container';\nimport {Path, transformPath} from '../path';\nimport {BACKGROUND_CLIP} from '../../css/property-descriptors/background-clip';\nimport {BoundCurves, calculateBorderBoxPath, calculateContentBoxPath, calculatePaddingBoxPath} from '../bound-curves';\nimport {BezierCurve, isBezierCurve} from '../bezier-curve';\nimport {Vector} from '../vector';\nimport {CSSImageType, CSSURLImage, isLinearGradient, isRadialGradient} from '../../css/types/image';\nimport {\n    parsePathForBorder,\n    parsePathForBorderDoubleInner,\n    parsePathForBorderDoubleOuter,\n    parsePathForBorderStroke\n} from '../border';\nimport {calculateBackgroundRendering, getBackgroundValueForIndex} from '../background';\nimport {isDimensionToken} from '../../css/syntax/parser';\nimport {segmentGraphemes, TextBounds} from '../../css/layout/text';\nimport {ImageElementContainer} from '../../dom/replaced-elements/image-element-container';\nimport {contentBox} from '../box-sizing';\nimport {CanvasElementContainer} from '../../dom/replaced-elements/canvas-element-container';\nimport {SVGElementContainer} from '../../dom/replaced-elements/svg-element-container';\nimport {ReplacedElementContainer} from '../../dom/replaced-elements';\nimport {EffectTarget, IElementEffect, isClipEffect, isOpacityEffect, isTransformEffect} from '../effects';\nimport {contains} from '../../core/bitwise';\nimport {calculateGradientDirection, calculateRadius, processColorStops} from '../../css/types/functions/gradient';\nimport {FIFTY_PERCENT, getAbsoluteValue} from '../../css/types/length-percentage';\nimport {TEXT_DECORATION_LINE} from '../../css/property-descriptors/text-decoration-line';\nimport {FontMetrics} from '../font-metrics';\nimport {DISPLAY} from '../../css/property-descriptors/display';\nimport {Bounds} from '../../css/layout/bounds';\nimport {LIST_STYLE_TYPE} from '../../css/property-descriptors/list-style-type';\nimport {computeLineHeight} from '../../css/property-descriptors/line-height';\nimport {CHECKBOX, INPUT_COLOR, InputElementContainer, RADIO} from '../../dom/replaced-elements/input-element-container';\nimport {TEXT_ALIGN} from '../../css/property-descriptors/text-align';\nimport {TextareaElementContainer} from '../../dom/elements/textarea-element-container';\nimport {SelectElementContainer} from '../../dom/elements/select-element-container';\nimport {IFrameElementContainer} from '../../dom/replaced-elements/iframe-element-container';\nimport {TextShadow} from '../../css/property-descriptors/text-shadow';\nimport {PAINT_ORDER_LAYER} from '../../css/property-descriptors/paint-order';\nimport {Renderer} from '../renderer';\nimport {Context} from '../../core/context';\nimport {DIRECTION} from '../../css/property-descriptors/direction';\n\nexport type RenderConfigurations = RenderOptions & {\n    backgroundColor: Color | null;\n};\n\nexport interface RenderOptions {\n    scale: number;\n    canvas?: HTMLCanvasElement;\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n}\n\nconst MASK_OFFSET = 10000;\n\nexport class CanvasRenderer extends Renderer {\n    canvas: HTMLCanvasElement;\n    ctx: CanvasRenderingContext2D;\n    private readonly _activeEffects: IElementEffect[] = [];\n    private readonly fontMetrics: FontMetrics;\n\n    constructor(context: Context, options: RenderConfigurations) {\n        super(context, options);\n        this.canvas = options.canvas ? options.canvas : document.createElement('canvas');\n        this.ctx = this.canvas.getContext('2d') as CanvasRenderingContext2D;\n        if (!options.canvas) {\n            this.canvas.width = Math.floor(options.width * options.scale);\n            this.canvas.height = Math.floor(options.height * options.scale);\n            this.canvas.style.width = `${options.width}px`;\n            this.canvas.style.height = `${options.height}px`;\n        }\n        this.fontMetrics = new FontMetrics(document);\n        this.ctx.scale(this.options.scale, this.options.scale);\n        this.ctx.translate(-options.x, -options.y);\n        this.ctx.textBaseline = 'bottom';\n        this._activeEffects = [];\n        this.context.logger.debug(\n            `Canvas renderer initialized (${options.width}x${options.height}) with scale ${options.scale}`\n        );\n    }\n\n    applyEffects(effects: IElementEffect[]): void {\n        while (this._activeEffects.length) {\n            this.popEffect();\n        }\n\n        effects.forEach((effect) => this.applyEffect(effect));\n    }\n\n    applyEffect(effect: IElementEffect): void {\n        this.ctx.save();\n        if (isOpacityEffect(effect)) {\n            this.ctx.globalAlpha = effect.opacity;\n        }\n\n        if (isTransformEffect(effect)) {\n            this.ctx.translate(effect.offsetX, effect.offsetY);\n            this.ctx.transform(\n                effect.matrix[0],\n                effect.matrix[1],\n                effect.matrix[2],\n                effect.matrix[3],\n                effect.matrix[4],\n                effect.matrix[5]\n            );\n            this.ctx.translate(-effect.offsetX, -effect.offsetY);\n        }\n\n        if (isClipEffect(effect)) {\n            this.path(effect.path);\n            this.ctx.clip();\n        }\n\n        this._activeEffects.push(effect);\n    }\n\n    popEffect(): void {\n        this._activeEffects.pop();\n        this.ctx.restore();\n    }\n\n    async renderStack(stack: StackingContext): Promise<void> {\n        const styles = stack.element.container.styles;\n        if (styles.isVisible()) {\n            await this.renderStackContent(stack);\n        }\n    }\n\n    async renderNode(paint: ElementPaint): Promise<void> {\n        if (contains(paint.container.flags, FLAGS.DEBUG_RENDER)) {\n            debugger;\n        }\n\n        if (paint.container.styles.isVisible()) {\n            await this.renderNodeBackgroundAndBorders(paint);\n            await this.renderNodeContent(paint);\n        }\n    }\n\n    renderTextWithLetterSpacing(text: TextBounds, letterSpacing: number, baseline: number): void {\n        if (letterSpacing === 0) {\n            this.ctx.fillText(text.text, text.bounds.left, text.bounds.top + baseline);\n        } else {\n            const letters = segmentGraphemes(text.text);\n            letters.reduce((left, letter) => {\n                this.ctx.fillText(letter, left, text.bounds.top + baseline);\n\n                return left + this.ctx.measureText(letter).width;\n            }, text.bounds.left);\n        }\n    }\n\n    private createFontStyle(styles: CSSParsedDeclaration): string[] {\n        const fontVariant = styles.fontVariant\n            .filter((variant) => variant === 'normal' || variant === 'small-caps')\n            .join('');\n        const fontFamily = fixIOSSystemFonts(styles.fontFamily).join(', ');\n        const fontSize = isDimensionToken(styles.fontSize)\n            ? `${styles.fontSize.number}${styles.fontSize.unit}`\n            : `${styles.fontSize.number}px`;\n\n        return [\n            [styles.fontStyle, fontVariant, styles.fontWeight, fontSize, fontFamily].join(' '),\n            fontFamily,\n            fontSize\n        ];\n    }\n\n    async renderTextNode(text: TextContainer, styles: CSSParsedDeclaration): Promise<void> {\n        const [font, fontFamily, fontSize] = this.createFontStyle(styles);\n\n        this.ctx.font = font;\n\n        this.ctx.direction = styles.direction === DIRECTION.RTL ? 'rtl' : 'ltr';\n        this.ctx.textAlign = 'left';\n        this.ctx.textBaseline = 'alphabetic';\n        const {baseline, middle} = this.fontMetrics.getMetrics(fontFamily, fontSize);\n        const paintOrder = styles.paintOrder;\n\n        text.textBounds.forEach((text) => {\n            paintOrder.forEach((paintOrderLayer) => {\n                switch (paintOrderLayer) {\n                    case PAINT_ORDER_LAYER.FILL:\n                        this.ctx.fillStyle = asString(styles.color);\n                        this.renderTextWithLetterSpacing(text, styles.letterSpacing, baseline);\n                        const textShadows: TextShadow = styles.textShadow;\n\n                        if (textShadows.length && text.text.trim().length) {\n                            textShadows\n                                .slice(0)\n                                .reverse()\n                                .forEach((textShadow) => {\n                                    this.ctx.shadowColor = asString(textShadow.color);\n                                    this.ctx.shadowOffsetX = textShadow.offsetX.number * this.options.scale;\n                                    this.ctx.shadowOffsetY = textShadow.offsetY.number * this.options.scale;\n                                    this.ctx.shadowBlur = textShadow.blur.number;\n\n                                    this.renderTextWithLetterSpacing(text, styles.letterSpacing, baseline);\n                                });\n\n                            this.ctx.shadowColor = '';\n                            this.ctx.shadowOffsetX = 0;\n                            this.ctx.shadowOffsetY = 0;\n                            this.ctx.shadowBlur = 0;\n                        }\n\n                        if (styles.textDecorationLine.length) {\n                            this.ctx.fillStyle = asString(styles.textDecorationColor || styles.color);\n                            styles.textDecorationLine.forEach((textDecorationLine) => {\n                                switch (textDecorationLine) {\n                                    case TEXT_DECORATION_LINE.UNDERLINE:\n                                        // Draws a line at the baseline of the font\n                                        // TODO As some browsers display the line as more than 1px if the font-size is big,\n                                        // need to take that into account both in position and size\n                                        this.ctx.fillRect(\n                                            text.bounds.left,\n                                            Math.round(text.bounds.top + baseline),\n                                            text.bounds.width,\n                                            1\n                                        );\n\n                                        break;\n                                    case TEXT_DECORATION_LINE.OVERLINE:\n                                        this.ctx.fillRect(\n                                            text.bounds.left,\n                                            Math.round(text.bounds.top),\n                                            text.bounds.width,\n                                            1\n                                        );\n                                        break;\n                                    case TEXT_DECORATION_LINE.LINE_THROUGH:\n                                        // TODO try and find exact position for line-through\n                                        this.ctx.fillRect(\n                                            text.bounds.left,\n                                            Math.ceil(text.bounds.top + middle),\n                                            text.bounds.width,\n                                            1\n                                        );\n                                        break;\n                                }\n                            });\n                        }\n                        break;\n                    case PAINT_ORDER_LAYER.STROKE:\n                        if (styles.webkitTextStrokeWidth && text.text.trim().length) {\n                            this.ctx.strokeStyle = asString(styles.webkitTextStrokeColor);\n                            this.ctx.lineWidth = styles.webkitTextStrokeWidth;\n                            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                            this.ctx.lineJoin = !!(window as any).chrome ? 'miter' : 'round';\n                            this.ctx.strokeText(text.text, text.bounds.left, text.bounds.top + baseline);\n                        }\n                        this.ctx.strokeStyle = '';\n                        this.ctx.lineWidth = 0;\n                        this.ctx.lineJoin = 'miter';\n                        break;\n                }\n            });\n        });\n    }\n\n    renderReplacedElement(\n        container: ReplacedElementContainer,\n        curves: BoundCurves,\n        image: HTMLImageElement | HTMLCanvasElement\n    ): void {\n        if (image && container.intrinsicWidth > 0 && container.intrinsicHeight > 0) {\n            const box = contentBox(container);\n            const path = calculatePaddingBoxPath(curves);\n            this.path(path);\n            this.ctx.save();\n            this.ctx.clip();\n            this.ctx.drawImage(\n                image,\n                0,\n                0,\n                container.intrinsicWidth,\n                container.intrinsicHeight,\n                box.left,\n                box.top,\n                box.width,\n                box.height\n            );\n            this.ctx.restore();\n        }\n    }\n\n    async renderNodeContent(paint: ElementPaint): Promise<void> {\n        this.applyEffects(paint.getEffects(EffectTarget.CONTENT));\n        const container = paint.container;\n        const curves = paint.curves;\n        const styles = container.styles;\n        for (const child of container.textNodes) {\n            await this.renderTextNode(child, styles);\n        }\n\n        if (container instanceof ImageElementContainer) {\n            try {\n                const image = await this.context.cache.match(container.src);\n                this.renderReplacedElement(container, curves, image);\n            } catch (e) {\n                this.context.logger.error(`Error loading image ${container.src}`);\n            }\n        }\n\n        if (container instanceof CanvasElementContainer) {\n            this.renderReplacedElement(container, curves, container.canvas);\n        }\n\n        if (container instanceof SVGElementContainer) {\n            try {\n                const image = await this.context.cache.match(container.svg);\n                this.renderReplacedElement(container, curves, image);\n            } catch (e) {\n                this.context.logger.error(`Error loading svg ${container.svg.substring(0, 255)}`);\n            }\n        }\n\n        if (container instanceof IFrameElementContainer && container.tree) {\n            const iframeRenderer = new CanvasRenderer(this.context, {\n                scale: this.options.scale,\n                backgroundColor: container.backgroundColor,\n                x: 0,\n                y: 0,\n                width: container.width,\n                height: container.height\n            });\n\n            const canvas = await iframeRenderer.render(container.tree);\n            if (container.width && container.height) {\n                this.ctx.drawImage(\n                    canvas,\n                    0,\n                    0,\n                    container.width,\n                    container.height,\n                    container.bounds.left,\n                    container.bounds.top,\n                    container.bounds.width,\n                    container.bounds.height\n                );\n            }\n        }\n\n        if (container instanceof InputElementContainer) {\n            const size = Math.min(container.bounds.width, container.bounds.height);\n\n            if (container.type === CHECKBOX) {\n                if (container.checked) {\n                    this.ctx.save();\n                    this.path([\n                        new Vector(container.bounds.left + size * 0.39363, container.bounds.top + size * 0.79),\n                        new Vector(container.bounds.left + size * 0.16, container.bounds.top + size * 0.5549),\n                        new Vector(container.bounds.left + size * 0.27347, container.bounds.top + size * 0.44071),\n                        new Vector(container.bounds.left + size * 0.39694, container.bounds.top + size * 0.5649),\n                        new Vector(container.bounds.left + size * 0.72983, container.bounds.top + size * 0.23),\n                        new Vector(container.bounds.left + size * 0.84, container.bounds.top + size * 0.34085),\n                        new Vector(container.bounds.left + size * 0.39363, container.bounds.top + size * 0.79)\n                    ]);\n\n                    this.ctx.fillStyle = asString(INPUT_COLOR);\n                    this.ctx.fill();\n                    this.ctx.restore();\n                }\n            } else if (container.type === RADIO) {\n                if (container.checked) {\n                    this.ctx.save();\n                    this.ctx.beginPath();\n                    this.ctx.arc(\n                        container.bounds.left + size / 2,\n                        container.bounds.top + size / 2,\n                        size / 4,\n                        0,\n                        Math.PI * 2,\n                        true\n                    );\n                    this.ctx.fillStyle = asString(INPUT_COLOR);\n                    this.ctx.fill();\n                    this.ctx.restore();\n                }\n            }\n        }\n\n        if (isTextInputElement(container) && container.value.length) {\n            const [fontFamily, fontSize] = this.createFontStyle(styles);\n            const {baseline} = this.fontMetrics.getMetrics(fontFamily, fontSize);\n\n            this.ctx.font = fontFamily;\n            this.ctx.fillStyle = asString(styles.color);\n\n            this.ctx.textBaseline = 'alphabetic';\n            this.ctx.textAlign = canvasTextAlign(container.styles.textAlign);\n\n            const bounds = contentBox(container);\n\n            let x = 0;\n\n            switch (container.styles.textAlign) {\n                case TEXT_ALIGN.CENTER:\n                    x += bounds.width / 2;\n                    break;\n                case TEXT_ALIGN.RIGHT:\n                    x += bounds.width;\n                    break;\n            }\n\n            const textBounds = bounds.add(x, 0, 0, -bounds.height / 2 + 1);\n\n            this.ctx.save();\n            this.path([\n                new Vector(bounds.left, bounds.top),\n                new Vector(bounds.left + bounds.width, bounds.top),\n                new Vector(bounds.left + bounds.width, bounds.top + bounds.height),\n                new Vector(bounds.left, bounds.top + bounds.height)\n            ]);\n\n            this.ctx.clip();\n            this.renderTextWithLetterSpacing(\n                new TextBounds(container.value, textBounds),\n                styles.letterSpacing,\n                baseline\n            );\n            this.ctx.restore();\n            this.ctx.textBaseline = 'alphabetic';\n            this.ctx.textAlign = 'left';\n        }\n\n        if (contains(container.styles.display, DISPLAY.LIST_ITEM)) {\n            if (container.styles.listStyleImage !== null) {\n                const img = container.styles.listStyleImage;\n                if (img.type === CSSImageType.URL) {\n                    let image;\n                    const url = (img as CSSURLImage).url;\n                    try {\n                        image = await this.context.cache.match(url);\n                        this.ctx.drawImage(image, container.bounds.left - (image.width + 10), container.bounds.top);\n                    } catch (e) {\n                        this.context.logger.error(`Error loading list-style-image ${url}`);\n                    }\n                }\n            } else if (paint.listValue && container.styles.listStyleType !== LIST_STYLE_TYPE.NONE) {\n                const [fontFamily] = this.createFontStyle(styles);\n\n                this.ctx.font = fontFamily;\n                this.ctx.fillStyle = asString(styles.color);\n\n                this.ctx.textBaseline = 'middle';\n                this.ctx.textAlign = 'right';\n                const bounds = new Bounds(\n                    container.bounds.left,\n                    container.bounds.top + getAbsoluteValue(container.styles.paddingTop, container.bounds.width),\n                    container.bounds.width,\n                    computeLineHeight(styles.lineHeight, styles.fontSize.number) / 2 + 1\n                );\n\n                this.renderTextWithLetterSpacing(\n                    new TextBounds(paint.listValue, bounds),\n                    styles.letterSpacing,\n                    computeLineHeight(styles.lineHeight, styles.fontSize.number) / 2 + 2\n                );\n                this.ctx.textBaseline = 'bottom';\n                this.ctx.textAlign = 'left';\n            }\n        }\n    }\n\n    async renderStackContent(stack: StackingContext): Promise<void> {\n        if (contains(stack.element.container.flags, FLAGS.DEBUG_RENDER)) {\n            debugger;\n        }\n        // https://www.w3.org/TR/css-position-3/#painting-order\n        // 1. the background and borders of the element forming the stacking context.\n        await this.renderNodeBackgroundAndBorders(stack.element);\n        // 2. the child stacking contexts with negative stack levels (most negative first).\n        for (const child of stack.negativeZIndex) {\n            await this.renderStack(child);\n        }\n        // 3. For all its in-flow, non-positioned, block-level descendants in tree order:\n        await this.renderNodeContent(stack.element);\n\n        for (const child of stack.nonInlineLevel) {\n            await this.renderNode(child);\n        }\n        // 4. All non-positioned floating descendants, in tree order. For each one of these,\n        // treat the element as if it created a new stacking context, but any positioned descendants and descendants\n        // which actually create a new stacking context should be considered part of the parent stacking context,\n        // not this new one.\n        for (const child of stack.nonPositionedFloats) {\n            await this.renderStack(child);\n        }\n        // 5. the in-flow, inline-level, non-positioned descendants, including inline tables and inline blocks.\n        for (const child of stack.nonPositionedInlineLevel) {\n            await this.renderStack(child);\n        }\n        for (const child of stack.inlineLevel) {\n            await this.renderNode(child);\n        }\n        // 6. All positioned, opacity or transform descendants, in tree order that fall into the following categories:\n        //  All positioned descendants with 'z-index: auto' or 'z-index: 0', in tree order.\n        //  For those with 'z-index: auto', treat the element as if it created a new stacking context,\n        //  but any positioned descendants and descendants which actually create a new stacking context should be\n        //  considered part of the parent stacking context, not this new one. For those with 'z-index: 0',\n        //  treat the stacking context generated atomically.\n        //\n        //  All opacity descendants with opacity less than 1\n        //\n        //  All transform descendants with transform other than none\n        for (const child of stack.zeroOrAutoZIndexOrTransformedOrOpacity) {\n            await this.renderStack(child);\n        }\n        // 7. Stacking contexts formed by positioned descendants with z-indices greater than or equal to 1 in z-index\n        // order (smallest first) then tree order.\n        for (const child of stack.positiveZIndex) {\n            await this.renderStack(child);\n        }\n    }\n\n    mask(paths: Path[]): void {\n        this.ctx.beginPath();\n        this.ctx.moveTo(0, 0);\n        this.ctx.lineTo(this.canvas.width, 0);\n        this.ctx.lineTo(this.canvas.width, this.canvas.height);\n        this.ctx.lineTo(0, this.canvas.height);\n        this.ctx.lineTo(0, 0);\n        this.formatPath(paths.slice(0).reverse());\n        this.ctx.closePath();\n    }\n\n    path(paths: Path[]): void {\n        this.ctx.beginPath();\n        this.formatPath(paths);\n        this.ctx.closePath();\n    }\n\n    formatPath(paths: Path[]): void {\n        paths.forEach((point, index) => {\n            const start: Vector = isBezierCurve(point) ? point.start : point;\n            if (index === 0) {\n                this.ctx.moveTo(start.x, start.y);\n            } else {\n                this.ctx.lineTo(start.x, start.y);\n            }\n\n            if (isBezierCurve(point)) {\n                this.ctx.bezierCurveTo(\n                    point.startControl.x,\n                    point.startControl.y,\n                    point.endControl.x,\n                    point.endControl.y,\n                    point.end.x,\n                    point.end.y\n                );\n            }\n        });\n    }\n\n    renderRepeat(path: Path[], pattern: CanvasPattern | CanvasGradient, offsetX: number, offsetY: number): void {\n        this.path(path);\n        this.ctx.fillStyle = pattern;\n        this.ctx.translate(offsetX, offsetY);\n        this.ctx.fill();\n        this.ctx.translate(-offsetX, -offsetY);\n    }\n\n    resizeImage(image: HTMLImageElement, width: number, height: number): HTMLCanvasElement | HTMLImageElement {\n        if (image.width === width && image.height === height) {\n            return image;\n        }\n\n        const ownerDocument = this.canvas.ownerDocument ?? document;\n        const canvas = ownerDocument.createElement('canvas');\n        canvas.width = Math.max(1, width);\n        canvas.height = Math.max(1, height);\n        const ctx = canvas.getContext('2d') as CanvasRenderingContext2D;\n        ctx.drawImage(image, 0, 0, image.width, image.height, 0, 0, width, height);\n        return canvas;\n    }\n\n    async renderBackgroundImage(container: ElementContainer): Promise<void> {\n        let index = container.styles.backgroundImage.length - 1;\n        for (const backgroundImage of container.styles.backgroundImage.slice(0).reverse()) {\n            if (backgroundImage.type === CSSImageType.URL) {\n                let image;\n                const url = (backgroundImage as CSSURLImage).url;\n                try {\n                    image = await this.context.cache.match(url);\n                } catch (e) {\n                    this.context.logger.error(`Error loading background-image ${url}`);\n                }\n\n                if (image) {\n                    const [path, x, y, width, height] = calculateBackgroundRendering(container, index, [\n                        image.width,\n                        image.height,\n                        image.width / image.height\n                    ]);\n                    const pattern = this.ctx.createPattern(\n                        this.resizeImage(image, width, height),\n                        'repeat'\n                    ) as CanvasPattern;\n                    this.renderRepeat(path, pattern, x, y);\n                }\n            } else if (isLinearGradient(backgroundImage)) {\n                const [path, x, y, width, height] = calculateBackgroundRendering(container, index, [null, null, null]);\n                const [lineLength, x0, x1, y0, y1] = calculateGradientDirection(backgroundImage.angle, width, height);\n\n                const canvas = document.createElement('canvas');\n                canvas.width = width;\n                canvas.height = height;\n                const ctx = canvas.getContext('2d') as CanvasRenderingContext2D;\n                const gradient = ctx.createLinearGradient(x0, y0, x1, y1);\n\n                processColorStops(backgroundImage.stops, lineLength).forEach((colorStop) =>\n                    gradient.addColorStop(colorStop.stop, asString(colorStop.color))\n                );\n\n                ctx.fillStyle = gradient;\n                ctx.fillRect(0, 0, width, height);\n                if (width > 0 && height > 0) {\n                    const pattern = this.ctx.createPattern(canvas, 'repeat') as CanvasPattern;\n                    this.renderRepeat(path, pattern, x, y);\n                }\n            } else if (isRadialGradient(backgroundImage)) {\n                const [path, left, top, width, height] = calculateBackgroundRendering(container, index, [\n                    null,\n                    null,\n                    null\n                ]);\n                const position = backgroundImage.position.length === 0 ? [FIFTY_PERCENT] : backgroundImage.position;\n                const x = getAbsoluteValue(position[0], width);\n                const y = getAbsoluteValue(position[position.length - 1], height);\n\n                const [rx, ry] = calculateRadius(backgroundImage, x, y, width, height);\n                if (rx > 0 && ry > 0) {\n                    const radialGradient = this.ctx.createRadialGradient(left + x, top + y, 0, left + x, top + y, rx);\n\n                    processColorStops(backgroundImage.stops, rx * 2).forEach((colorStop) =>\n                        radialGradient.addColorStop(colorStop.stop, asString(colorStop.color))\n                    );\n\n                    this.path(path);\n                    this.ctx.fillStyle = radialGradient;\n                    if (rx !== ry) {\n                        // transforms for elliptical radial gradient\n                        const midX = container.bounds.left + 0.5 * container.bounds.width;\n                        const midY = container.bounds.top + 0.5 * container.bounds.height;\n                        const f = ry / rx;\n                        const invF = 1 / f;\n\n                        this.ctx.save();\n                        this.ctx.translate(midX, midY);\n                        this.ctx.transform(1, 0, 0, f, 0, 0);\n                        this.ctx.translate(-midX, -midY);\n\n                        this.ctx.fillRect(left, invF * (top - midY) + midY, width, height * invF);\n                        this.ctx.restore();\n                    } else {\n                        this.ctx.fill();\n                    }\n                }\n            }\n            index--;\n        }\n    }\n\n    async renderSolidBorder(color: Color, side: number, curvePoints: BoundCurves): Promise<void> {\n        this.path(parsePathForBorder(curvePoints, side));\n        this.ctx.fillStyle = asString(color);\n        this.ctx.fill();\n    }\n\n    async renderDoubleBorder(color: Color, width: number, side: number, curvePoints: BoundCurves): Promise<void> {\n        if (width < 3) {\n            await this.renderSolidBorder(color, side, curvePoints);\n            return;\n        }\n\n        const outerPaths = parsePathForBorderDoubleOuter(curvePoints, side);\n        this.path(outerPaths);\n        this.ctx.fillStyle = asString(color);\n        this.ctx.fill();\n        const innerPaths = parsePathForBorderDoubleInner(curvePoints, side);\n        this.path(innerPaths);\n        this.ctx.fill();\n    }\n\n    async renderNodeBackgroundAndBorders(paint: ElementPaint): Promise<void> {\n        this.applyEffects(paint.getEffects(EffectTarget.BACKGROUND_BORDERS));\n        const styles = paint.container.styles;\n        const hasBackground = !isTransparent(styles.backgroundColor) || styles.backgroundImage.length;\n\n        const borders = [\n            {style: styles.borderTopStyle, color: styles.borderTopColor, width: styles.borderTopWidth},\n            {style: styles.borderRightStyle, color: styles.borderRightColor, width: styles.borderRightWidth},\n            {style: styles.borderBottomStyle, color: styles.borderBottomColor, width: styles.borderBottomWidth},\n            {style: styles.borderLeftStyle, color: styles.borderLeftColor, width: styles.borderLeftWidth}\n        ];\n\n        const backgroundPaintingArea = calculateBackgroundCurvedPaintingArea(\n            getBackgroundValueForIndex(styles.backgroundClip, 0),\n            paint.curves\n        );\n\n        if (hasBackground || styles.boxShadow.length) {\n            this.ctx.save();\n            this.path(backgroundPaintingArea);\n            this.ctx.clip();\n\n            if (!isTransparent(styles.backgroundColor)) {\n                this.ctx.fillStyle = asString(styles.backgroundColor);\n                this.ctx.fill();\n            }\n\n            await this.renderBackgroundImage(paint.container);\n\n            this.ctx.restore();\n\n            styles.boxShadow\n                .slice(0)\n                .reverse()\n                .forEach((shadow) => {\n                    this.ctx.save();\n                    const borderBoxArea = calculateBorderBoxPath(paint.curves);\n                    const maskOffset = shadow.inset ? 0 : MASK_OFFSET;\n                    const shadowPaintingArea = transformPath(\n                        borderBoxArea,\n                        -maskOffset + (shadow.inset ? 1 : -1) * shadow.spread.number,\n                        (shadow.inset ? 1 : -1) * shadow.spread.number,\n                        shadow.spread.number * (shadow.inset ? -2 : 2),\n                        shadow.spread.number * (shadow.inset ? -2 : 2)\n                    );\n\n                    if (shadow.inset) {\n                        this.path(borderBoxArea);\n                        this.ctx.clip();\n                        this.mask(shadowPaintingArea);\n                    } else {\n                        this.mask(borderBoxArea);\n                        this.ctx.clip();\n                        this.path(shadowPaintingArea);\n                    }\n\n                    this.ctx.shadowOffsetX = shadow.offsetX.number + maskOffset;\n                    this.ctx.shadowOffsetY = shadow.offsetY.number;\n                    this.ctx.shadowColor = asString(shadow.color);\n                    this.ctx.shadowBlur = shadow.blur.number;\n                    this.ctx.fillStyle = shadow.inset ? asString(shadow.color) : 'rgba(0,0,0,1)';\n\n                    this.ctx.fill();\n                    this.ctx.restore();\n                });\n        }\n\n        let side = 0;\n        for (const border of borders) {\n            if (border.style !== BORDER_STYLE.NONE && !isTransparent(border.color) && border.width > 0) {\n                if (border.style === BORDER_STYLE.DASHED) {\n                    await this.renderDashedDottedBorder(\n                        border.color,\n                        border.width,\n                        side,\n                        paint.curves,\n                        BORDER_STYLE.DASHED\n                    );\n                } else if (border.style === BORDER_STYLE.DOTTED) {\n                    await this.renderDashedDottedBorder(\n                        border.color,\n                        border.width,\n                        side,\n                        paint.curves,\n                        BORDER_STYLE.DOTTED\n                    );\n                } else if (border.style === BORDER_STYLE.DOUBLE) {\n                    await this.renderDoubleBorder(border.color, border.width, side, paint.curves);\n                } else {\n                    await this.renderSolidBorder(border.color, side, paint.curves);\n                }\n            }\n            side++;\n        }\n    }\n\n    async renderDashedDottedBorder(\n        color: Color,\n        width: number,\n        side: number,\n        curvePoints: BoundCurves,\n        style: BORDER_STYLE\n    ): Promise<void> {\n        this.ctx.save();\n\n        const strokePaths = parsePathForBorderStroke(curvePoints, side);\n        const boxPaths = parsePathForBorder(curvePoints, side);\n\n        if (style === BORDER_STYLE.DASHED) {\n            this.path(boxPaths);\n            this.ctx.clip();\n        }\n\n        let startX, startY, endX, endY;\n        if (isBezierCurve(boxPaths[0])) {\n            startX = (boxPaths[0] as BezierCurve).start.x;\n            startY = (boxPaths[0] as BezierCurve).start.y;\n        } else {\n            startX = (boxPaths[0] as Vector).x;\n            startY = (boxPaths[0] as Vector).y;\n        }\n        if (isBezierCurve(boxPaths[1])) {\n            endX = (boxPaths[1] as BezierCurve).end.x;\n            endY = (boxPaths[1] as BezierCurve).end.y;\n        } else {\n            endX = (boxPaths[1] as Vector).x;\n            endY = (boxPaths[1] as Vector).y;\n        }\n\n        let length;\n        if (side === 0 || side === 2) {\n            length = Math.abs(startX - endX);\n        } else {\n            length = Math.abs(startY - endY);\n        }\n\n        this.ctx.beginPath();\n        if (style === BORDER_STYLE.DOTTED) {\n            this.formatPath(strokePaths);\n        } else {\n            this.formatPath(boxPaths.slice(0, 2));\n        }\n\n        let dashLength = width < 3 ? width * 3 : width * 2;\n        let spaceLength = width < 3 ? width * 2 : width;\n        if (style === BORDER_STYLE.DOTTED) {\n            dashLength = width;\n            spaceLength = width;\n        }\n\n        let useLineDash = true;\n        if (length <= dashLength * 2) {\n            useLineDash = false;\n        } else if (length <= dashLength * 2 + spaceLength) {\n            const multiplier = length / (2 * dashLength + spaceLength);\n            dashLength *= multiplier;\n            spaceLength *= multiplier;\n        } else {\n            const numberOfDashes = Math.floor((length + spaceLength) / (dashLength + spaceLength));\n            const minSpace = (length - numberOfDashes * dashLength) / (numberOfDashes - 1);\n            const maxSpace = (length - (numberOfDashes + 1) * dashLength) / numberOfDashes;\n            spaceLength =\n                maxSpace <= 0 || Math.abs(spaceLength - minSpace) < Math.abs(spaceLength - maxSpace)\n                    ? minSpace\n                    : maxSpace;\n        }\n\n        if (useLineDash) {\n            if (style === BORDER_STYLE.DOTTED) {\n                this.ctx.setLineDash([0, dashLength + spaceLength]);\n            } else {\n                this.ctx.setLineDash([dashLength, spaceLength]);\n            }\n        }\n\n        if (style === BORDER_STYLE.DOTTED) {\n            this.ctx.lineCap = 'round';\n            this.ctx.lineWidth = width;\n        } else {\n            this.ctx.lineWidth = width * 2 + 1.1;\n        }\n        this.ctx.strokeStyle = asString(color);\n        this.ctx.stroke();\n        this.ctx.setLineDash([]);\n\n        // dashed round edge gap\n        if (style === BORDER_STYLE.DASHED) {\n            if (isBezierCurve(boxPaths[0])) {\n                const path1 = boxPaths[3] as BezierCurve;\n                const path2 = boxPaths[0] as BezierCurve;\n                this.ctx.beginPath();\n                this.formatPath([new Vector(path1.end.x, path1.end.y), new Vector(path2.start.x, path2.start.y)]);\n                this.ctx.stroke();\n            }\n            if (isBezierCurve(boxPaths[1])) {\n                const path1 = boxPaths[1] as BezierCurve;\n                const path2 = boxPaths[2] as BezierCurve;\n                this.ctx.beginPath();\n                this.formatPath([new Vector(path1.end.x, path1.end.y), new Vector(path2.start.x, path2.start.y)]);\n                this.ctx.stroke();\n            }\n        }\n\n        this.ctx.restore();\n    }\n\n    async render(element: ElementContainer): Promise<HTMLCanvasElement> {\n        if (this.options.backgroundColor) {\n            this.ctx.fillStyle = asString(this.options.backgroundColor);\n            this.ctx.fillRect(this.options.x, this.options.y, this.options.width, this.options.height);\n        }\n\n        const stack = parseStackingContexts(element);\n\n        await this.renderStack(stack);\n        this.applyEffects([]);\n        return this.canvas;\n    }\n}\n\nconst isTextInputElement = (\n    container: ElementContainer\n): container is InputElementContainer | TextareaElementContainer | SelectElementContainer => {\n    if (container instanceof TextareaElementContainer) {\n        return true;\n    } else if (container instanceof SelectElementContainer) {\n        return true;\n    } else if (container instanceof InputElementContainer && container.type !== RADIO && container.type !== CHECKBOX) {\n        return true;\n    }\n    return false;\n};\n\nconst calculateBackgroundCurvedPaintingArea = (clip: BACKGROUND_CLIP, curves: BoundCurves): Path[] => {\n    switch (clip) {\n        case BACKGROUND_CLIP.BORDER_BOX:\n            return calculateBorderBoxPath(curves);\n        case BACKGROUND_CLIP.CONTENT_BOX:\n            return calculateContentBoxPath(curves);\n        case BACKGROUND_CLIP.PADDING_BOX:\n        default:\n            return calculatePaddingBoxPath(curves);\n    }\n};\n\nconst canvasTextAlign = (textAlign: TEXT_ALIGN): CanvasTextAlign => {\n    switch (textAlign) {\n        case TEXT_ALIGN.CENTER:\n            return 'center';\n        case TEXT_ALIGN.RIGHT:\n            return 'right';\n        case TEXT_ALIGN.LEFT:\n        default:\n            return 'left';\n    }\n};\n\n// see https://github.com/niklasvh/html2canvas/pull/2645\nconst iOSBrokenFonts = ['-apple-system', 'system-ui'];\n\nconst fixIOSSystemFonts = (fontFamilies: string[]): string[] => {\n    return /iPhone OS 15_(0|1)/.test(window.navigator.userAgent)\n        ? fontFamilies.filter((fontFamily) => iOSBrokenFonts.indexOf(fontFamily) === -1)\n        : fontFamilies;\n};\n", "import {RenderConfigurations} from './canvas-renderer';\nimport {createForeignObjectSVG} from '../../core/features';\nimport {asString} from '../../css/types/color';\nimport {Renderer} from '../renderer';\nimport {Context} from '../../core/context';\n\nexport class ForeignObjectRenderer extends Renderer {\n    canvas: HTMLCanvasElement;\n    ctx: CanvasRenderingContext2D;\n    options: RenderConfigurations;\n\n    constructor(context: Context, options: RenderConfigurations) {\n        super(context, options);\n        this.canvas = options.canvas ? options.canvas : document.createElement('canvas');\n        this.ctx = this.canvas.getContext('2d') as CanvasRenderingContext2D;\n        this.options = options;\n        this.canvas.width = Math.floor(options.width * options.scale);\n        this.canvas.height = Math.floor(options.height * options.scale);\n        this.canvas.style.width = `${options.width}px`;\n        this.canvas.style.height = `${options.height}px`;\n\n        this.ctx.scale(this.options.scale, this.options.scale);\n        this.ctx.translate(-options.x, -options.y);\n        this.context.logger.debug(\n            `EXPERIMENTAL ForeignObject renderer initialized (${options.width}x${options.height} at ${options.x},${options.y}) with scale ${options.scale}`\n        );\n    }\n\n    async render(element: HTMLElement): Promise<HTMLCanvasElement> {\n        const svg = createForeignObjectSVG(\n            this.options.width * this.options.scale,\n            this.options.height * this.options.scale,\n            this.options.scale,\n            this.options.scale,\n            element\n        );\n\n        const img = await loadSerializedSVG(svg);\n\n        if (this.options.backgroundColor) {\n            this.ctx.fillStyle = asString(this.options.backgroundColor);\n            this.ctx.fillRect(0, 0, this.options.width * this.options.scale, this.options.height * this.options.scale);\n        }\n\n        this.ctx.drawImage(img, -this.options.x * this.options.scale, -this.options.y * this.options.scale);\n\n        return this.canvas;\n    }\n}\n\nexport const loadSerializedSVG = (svg: Node): Promise<HTMLImageElement> =>\n    new Promise((resolve, reject) => {\n        const img = new Image();\n        img.onload = () => {\n            resolve(img);\n        };\n        img.onerror = reject;\n\n        img.src = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(new XMLSerializer().serializeToString(svg))}`;\n    });\n", "export interface LoggerOptions {\n    id: string;\n    enabled: boolean;\n}\n\nexport class Logger {\n    static instances: {[key: string]: Logger} = {};\n\n    private readonly id: string;\n    private readonly enabled: boolean;\n    private readonly start: number;\n\n    constructor({id, enabled}: LoggerOptions) {\n        this.id = id;\n        this.enabled = enabled;\n        this.start = Date.now();\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    debug(...args: unknown[]): void {\n        if (this.enabled) {\n            // eslint-disable-next-line no-console\n            if (typeof window !== 'undefined' && window.console && typeof console.debug === 'function') {\n                // eslint-disable-next-line no-console\n                console.debug(this.id, `${this.getTime()}ms`, ...args);\n            } else {\n                this.info(...args);\n            }\n        }\n    }\n\n    getTime(): number {\n        return Date.now() - this.start;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    info(...args: unknown[]): void {\n        if (this.enabled) {\n            // eslint-disable-next-line no-console\n            if (typeof window !== 'undefined' && window.console && typeof console.info === 'function') {\n                // eslint-disable-next-line no-console\n                console.info(this.id, `${this.getTime()}ms`, ...args);\n            }\n        }\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    warn(...args: unknown[]): void {\n        if (this.enabled) {\n            // eslint-disable-next-line no-console\n            if (typeof window !== 'undefined' && window.console && typeof console.warn === 'function') {\n                // eslint-disable-next-line no-console\n                console.warn(this.id, `${this.getTime()}ms`, ...args);\n            } else {\n                this.info(...args);\n            }\n        }\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    error(...args: unknown[]): void {\n        if (this.enabled) {\n            // eslint-disable-next-line no-console\n            if (typeof window !== 'undefined' && window.console && typeof console.error === 'function') {\n                // eslint-disable-next-line no-console\n                console.error(this.id, `${this.getTime()}ms`, ...args);\n            } else {\n                this.info(...args);\n            }\n        }\n    }\n}\n", "import {Logger} from './logger';\nimport {Cache, ResourceOptions} from './cache-storage';\nimport {Bounds} from '../css/layout/bounds';\n\nexport type ContextOptions = {\n    logging: boolean;\n    cache?: Cache;\n} & ResourceOptions;\n\nexport class Context {\n    private readonly instanceName = `#${Context.instanceCount++}`;\n    readonly logger: Logger;\n    readonly cache: Cache;\n\n    private static instanceCount = 1;\n\n    constructor(options: ContextOptions, public windowBounds: Bounds) {\n        this.logger = new Logger({id: this.instanceName, enabled: options.logging});\n        this.cache = options.cache ?? new Cache(this, options);\n    }\n}\n", "import {Bounds, parseBounds, parseDocumentSize} from './css/layout/bounds';\nimport {COLORS, isTransparent, parseColor} from './css/types/color';\nimport {CloneConfigurations, CloneOptions, DocumentCloner, WindowOptions} from './dom/document-cloner';\nimport {isBodyElement, isHTMLElement, parseTree} from './dom/node-parser';\nimport {CacheStorage} from './core/cache-storage';\nimport {CanvasRenderer, RenderConfigurations, RenderOptions} from './render/canvas/canvas-renderer';\nimport {ForeignObjectRenderer} from './render/canvas/foreignobject-renderer';\nimport {Context, ContextOptions} from './core/context';\n\nexport type Options = CloneOptions &\n    WindowOptions &\n    RenderOptions &\n    ContextOptions & {\n        backgroundColor: string | null;\n        foreignObjectRendering: boolean;\n        removeContainer?: boolean;\n    };\n\nconst html2canvas = (element: HTMLElement, options: Partial<Options> = {}): Promise<HTMLCanvasElement> => {\n    return renderElement(element, options);\n};\n\nexport default html2canvas;\n\nif (typeof window !== 'undefined') {\n    CacheStorage.setContext(window);\n}\n\nconst renderElement = async (element: HTMLElement, opts: Partial<Options>): Promise<HTMLCanvasElement> => {\n    if (!element || typeof element !== 'object') {\n        return Promise.reject('Invalid element provided as first argument');\n    }\n    const ownerDocument = element.ownerDocument;\n\n    if (!ownerDocument) {\n        throw new Error(`Element is not attached to a Document`);\n    }\n\n    const defaultView = ownerDocument.defaultView;\n\n    if (!defaultView) {\n        throw new Error(`Document is not attached to a Window`);\n    }\n\n    const resourceOptions = {\n        allowTaint: opts.allowTaint ?? false,\n        imageTimeout: opts.imageTimeout ?? 15000,\n        proxy: opts.proxy,\n        useCORS: opts.useCORS ?? false\n    };\n\n    const contextOptions = {\n        logging: opts.logging ?? true,\n        cache: opts.cache,\n        ...resourceOptions\n    };\n\n    const windowOptions = {\n        windowWidth: opts.windowWidth ?? defaultView.innerWidth,\n        windowHeight: opts.windowHeight ?? defaultView.innerHeight,\n        scrollX: opts.scrollX ?? defaultView.pageXOffset,\n        scrollY: opts.scrollY ?? defaultView.pageYOffset\n    };\n\n    const windowBounds = new Bounds(\n        windowOptions.scrollX,\n        windowOptions.scrollY,\n        windowOptions.windowWidth,\n        windowOptions.windowHeight\n    );\n\n    const context = new Context(contextOptions, windowBounds);\n\n    const foreignObjectRendering = opts.foreignObjectRendering ?? false;\n\n    const cloneOptions: CloneConfigurations = {\n        allowTaint: opts.allowTaint ?? false,\n        onclone: opts.onclone,\n        ignoreElements: opts.ignoreElements,\n        inlineImages: foreignObjectRendering,\n        copyStyles: foreignObjectRendering\n    };\n\n    context.logger.debug(\n        `Starting document clone with size ${windowBounds.width}x${\n            windowBounds.height\n        } scrolled to ${-windowBounds.left},${-windowBounds.top}`\n    );\n\n    const documentCloner = new DocumentCloner(context, element, cloneOptions);\n    const clonedElement = documentCloner.clonedReferenceElement;\n    if (!clonedElement) {\n        return Promise.reject(`Unable to find element in cloned iframe`);\n    }\n\n    const container = await documentCloner.toIFrame(ownerDocument, windowBounds);\n\n    const {width, height, left, top} =\n        isBodyElement(clonedElement) || isHTMLElement(clonedElement)\n            ? parseDocumentSize(clonedElement.ownerDocument)\n            : parseBounds(context, clonedElement);\n\n    const backgroundColor = parseBackgroundColor(context, clonedElement, opts.backgroundColor);\n\n    const renderOptions: RenderConfigurations = {\n        canvas: opts.canvas,\n        backgroundColor,\n        scale: opts.scale ?? defaultView.devicePixelRatio ?? 1,\n        x: (opts.x ?? 0) + left,\n        y: (opts.y ?? 0) + top,\n        width: opts.width ?? Math.ceil(width),\n        height: opts.height ?? Math.ceil(height)\n    };\n\n    let canvas;\n\n    if (foreignObjectRendering) {\n        context.logger.debug(`Document cloned, using foreign object rendering`);\n        const renderer = new ForeignObjectRenderer(context, renderOptions);\n        canvas = await renderer.render(clonedElement);\n    } else {\n        context.logger.debug(\n            `Document cloned, element located at ${left},${top} with size ${width}x${height} using computed rendering`\n        );\n\n        context.logger.debug(`Starting DOM parsing`);\n        const root = parseTree(context, clonedElement);\n\n        if (backgroundColor === root.styles.backgroundColor) {\n            root.styles.backgroundColor = COLORS.TRANSPARENT;\n        }\n\n        context.logger.debug(\n            `Starting renderer for element at ${renderOptions.x},${renderOptions.y} with size ${renderOptions.width}x${renderOptions.height}`\n        );\n\n        const renderer = new CanvasRenderer(context, renderOptions);\n        canvas = await renderer.render(root);\n    }\n\n    if (opts.removeContainer ?? true) {\n        if (!DocumentCloner.destroy(container)) {\n            context.logger.error(`Cannot detach cloned iframe as it is not in the DOM anymore`);\n        }\n    }\n\n    context.logger.debug(`Finished rendering`);\n    return canvas;\n};\n\nconst parseBackgroundColor = (context: Context, element: HTMLElement, backgroundColorOverride?: string | null) => {\n    const ownerDocument = element.ownerDocument;\n    // http://www.w3.org/TR/css3-background/#special-backgrounds\n    const documentBackgroundColor = ownerDocument.documentElement\n        ? parseColor(context, getComputedStyle(ownerDocument.documentElement).backgroundColor as string)\n        : COLORS.TRANSPARENT;\n    const bodyBackgroundColor = ownerDocument.body\n        ? parseColor(context, getComputedStyle(ownerDocument.body).backgroundColor as string)\n        : COLORS.TRANSPARENT;\n\n    const defaultBackgroundColor =\n        typeof backgroundColorOverride === 'string'\n            ? parseColor(context, backgroundColorOverride)\n            : backgroundColorOverride === null\n            ? COLORS.TRANSPARENT\n            : 0xffffffff;\n\n    return element === ownerDocument.documentElement\n        ? isTransparent(documentBackgroundColor)\n            ? isTransparent(bodyBackgroundColor)\n                ? defaultBackgroundColor\n                : bodyBackgroundColor\n            : documentBackgroundColor\n        : defaultBackgroundColor;\n};\n", "export default class OrgChart {\n  constructor(options) {\n    this._name = 'OrgChart';\n    Promise.prototype.finally = function (callback) {\n      let P = this.constructor;\n\n      return this.then(\n        value => P.resolve(callback()).then(() => value),\n        reason => P.resolve(callback()).then(() => { throw reason; })\n      );\n    };\n\n    let that = this,\n      defaultOptions = {\n        'nodeTitle': 'name',\n        'nodeId': 'id',\n        'toggleSiblingsResp': false,\n        'depth': 999,\n        'chartClass': '',\n        'exportButton': false,\n        'exportFilename': 'OrgChart',\n        'parentNodeSymbol': 'fa-users',\n        'draggable': false,\n        'direction': 't2b',\n        'pan': false,\n        'zoom': false\n      },\n      opts = Object.assign(defaultOptions, options),\n      data = opts.data,\n      chart = document.createElement('div'),\n      chartContainer = document.querySelector(opts.chartContainer);\n\n    this.options = opts;\n    delete this.options.data;\n    this.chart = chart;\n    this.chartContainer = chartContainer;\n    chart.dataset.options = JSON.stringify(opts);\n    chart.setAttribute('class', 'orgchart' + (opts.chartClass !== '' ? ' ' + opts.chartClass : '') +\n      (opts.direction !== 't2b' ? ' ' + opts.direction : ''));\n    if (typeof data === 'object') { // local json datasource\n      this.buildHierarchy(chart, opts.ajaxURL ? data : this._attachRel(data, '00'), 0);\n    } else if (typeof data === 'string' && data.startsWith('#')) { // ul datasource\n      this.buildHierarchy(chart, this._buildJsonDS(document.querySelector(data).children[0]), 0);\n    } else { // ajax datasource\n      let spinner = document.createElement('i');\n\n      spinner.setAttribute('class', 'fa fa-circle-o-notch fa-spin spinner');\n      chart.appendChild(spinner);\n      this._getJSON(data)\n      .then(function (resp) {\n        that.buildHierarchy(chart, opts.ajaxURL ? resp : that._attachRel(resp, '00'), 0);\n      })\n      .catch(function (err) {\n        console.error('failed to fetch datasource for orgchart', err);\n      })\n      .finally(function () {\n        let spinner = chart.querySelector('.spinner');\n\n        spinner.parentNode.removeChild(spinner);\n      });\n    }\n    chart.addEventListener('click', this._clickChart.bind(this));\n    // append the export button to the chart-container\n    if (opts.exportButton && !chartContainer.querySelector('.oc-export-btn')) {\n      let exportBtn = document.createElement('button'),\n        downloadBtn = document.createElement('a');\n\n      exportBtn.setAttribute('class', 'oc-export-btn' + (opts.chartClass !== '' ? ' ' + opts.chartClass : ''));\n      exportBtn.innerHTML = 'Export';\n      exportBtn.addEventListener('click', this._clickExportButton.bind(this));\n      downloadBtn.setAttribute('class', 'oc-download-btn' + (opts.chartClass !== '' ? ' ' + opts.chartClass : ''));\n      downloadBtn.setAttribute('download', opts.exportFilename + '.png');\n      chartContainer.appendChild(exportBtn);\n      chartContainer.appendChild(downloadBtn);\n    }\n\n    if (opts.pan) {\n      chartContainer.style.overflow = 'hidden';\n      chart.addEventListener('mousedown', this._onPanStart.bind(this));\n      chart.addEventListener('touchstart', this._onPanStart.bind(this));\n      document.body.addEventListener('mouseup', this._onPanEnd.bind(this));\n      document.body.addEventListener('touchend', this._onPanEnd.bind(this));\n    }\n\n    if (opts.zoom) {\n      chartContainer.addEventListener('wheel', this._onWheeling.bind(this));\n      chartContainer.addEventListener('touchstart', this._onTouchStart.bind(this));\n      document.body.addEventListener('touchmove', this._onTouchMove.bind(this));\n      document.body.addEventListener('touchend', this._onTouchEnd.bind(this));\n    }\n\n    chartContainer.appendChild(chart);\n  }\n  get name() {\n    return this._name;\n  }\n  _closest(el, fn) {\n    return el && ((fn(el) && el !== this.chart) ? el : this._closest(el.parentNode, fn));\n  }\n  _siblings(el, expr) {\n    return Array.from(el.parentNode.children).filter((child) => {\n      if (child !== el) {\n        if (expr) {\n          return el.matches(expr);\n        }\n        return true;\n      }\n      return false;\n    });\n  }\n  _prevAll(el, expr) {\n    let sibs = [],\n      prevSib = el.previousElementSibling;\n\n    while (prevSib) {\n      if (!expr || prevSib.matches(expr)) {\n        sibs.push(prevSib);\n      }\n      prevSib = prevSib.previousElementSibling;\n    }\n    return sibs;\n  }\n  _nextAll(el, expr) {\n    let sibs = [];\n    let nextSib = el.nextElementSibling;\n\n    while (nextSib) {\n      if (!expr || nextSib.matches(expr)) {\n        sibs.push(nextSib);\n      }\n      nextSib = nextSib.nextElementSibling;\n    }\n    return sibs;\n  }\n  _isVisible(el) {\n    return el.offsetParent !== null;\n  }\n  _addClass(elements, classNames) {\n    elements.forEach((el) => {\n      if (classNames.indexOf(' ') > 0) {\n        classNames.split(' ').forEach((className) => el.classList.add(className));\n      } else {\n        el.classList.add(classNames);\n      }\n    });\n  }\n  _removeClass(elements, classNames) {\n    elements.forEach((el) => {\n      if (classNames.indexOf(' ') > 0) {\n        classNames.split(' ').forEach((className) => el.classList.remove(className));\n      } else {\n        el.classList.remove(classNames);\n      }\n    });\n  }\n  _css(elements, prop, val) {\n    elements.forEach((el) => {\n      el.style[prop] = val;\n    });\n  }\n  _removeAttr(elements, attr) {\n    elements.forEach((el) => {\n      el.removeAttribute(attr);\n    });\n  }\n  _one(el, type, listener, self) {\n    let one = function (event) {\n      try {\n        listener.call(self, event);\n      } finally {\n        el.removeEventListener(type, one);\n      }\n    };\n\n    el.addEventListener(type, one);\n  }\n  _getDescElements(ancestors, selector) {\n    let results = [];\n\n    ancestors.forEach((el) => results.push(...el.querySelectorAll(selector)));\n    return results;\n  }\n  _getJSON(url) {\n    return new Promise(function (resolve, reject) {\n      let xhr = new XMLHttpRequest();\n\n      function handler() {\n        if (this.readyState !== 4) {\n          return;\n        }\n        if (this.status === 200) {\n          resolve(JSON.parse(this.response));\n        } else {\n          reject(new Error(this.statusText));\n        }\n      }\n      xhr.open('GET', url);\n      xhr.onreadystatechange = handler;\n      xhr.responseType = 'json';\n      // xhr.setRequestHeader('Accept', 'application/json');\n      xhr.setRequestHeader('Content-Type', 'application/json');\n      xhr.send();\n    });\n  }\n  _buildJsonDS(li) {\n    let subObj = {\n      'name': li.firstChild.textContent.trim(),\n      'relationship': (li.parentNode.parentNode.nodeName === 'LI' ? '1' : '0') +\n        (li.parentNode.children.length > 1 ? 1 : 0) + (li.children.length ? 1 : 0)\n    };\n\n    if (li.id) {\n      subObj.id = li.id;\n    }\n    if (li.querySelector('ul')) {\n      Array.from(li.querySelector('ul').children).forEach((el) => {\n        if (!subObj.children) { subObj.children = []; }\n        subObj.children.push(this._buildJsonDS(el));\n      });\n    }\n    return subObj;\n  }\n  _attachRel(data, flags) {\n    data.relationship = flags + (data.children && data.children.length > 0 ? 1 : 0);\n    if (data.children) {\n      for (let item of data.children) {\n        this._attachRel(item, '1' + (data.children.length > 1 ? 1 : 0));\n      }\n    }\n    return data;\n  }\n  _repaint(node) {\n    if (node) {\n      node.style.offsetWidth = node.offsetWidth;\n    }\n  }\n  // whether the cursor is hovering over the node\n  _isInAction(node) {\n    return node.querySelector(':scope > .edge').className.indexOf('fa-') > -1;\n  }\n  // detect the exist/display state of related node\n  _getNodeState(node, relation) {\n    let criteria,\n      state = { 'exist': false, 'visible': false };\n\n    if (relation === 'parent') {\n      criteria = this._closest(node, (el) => el.classList && el.classList.contains('nodes'));\n      if (criteria) {\n        state.exist = true;\n      }\n      if (state.exist && this._isVisible(criteria.parentNode.children[0])) {\n        state.visible = true;\n      }\n    } else if (relation === 'children') {\n      criteria = this._closest(node, (el) => el.nodeName === 'TR').nextElementSibling;\n      if (criteria) {\n        state.exist = true;\n      }\n      if (state.exist && this._isVisible(criteria)) {\n        state.visible = true;\n      }\n    } else if (relation === 'siblings') {\n      criteria = this._siblings(this._closest(node, (el) => el.nodeName === 'TABLE').parentNode);\n      if (criteria.length) {\n        state.exist = true;\n      }\n      if (state.exist && criteria.some((el) => this._isVisible(el))) {\n        state.visible = true;\n      }\n    }\n\n    return state;\n  }\n  // find the related nodes\n  getRelatedNodes(node, relation) {\n    if (relation === 'parent') {\n      return this._closest(node, (el) => el.classList.contains('nodes'))\n        .parentNode.children[0].querySelector('.node');\n    } else if (relation === 'children') {\n      return Array.from(this._closest(node, (el) => el.nodeName === 'TABLE').lastChild.children)\n        .map((el) => el.querySelector('.node'));\n    } else if (relation === 'siblings') {\n      return this._siblings(this._closest(node, (el) => el.nodeName === 'TABLE').parentNode)\n        .map((el) => el.querySelector('.node'));\n    }\n    return [];\n  }\n  _switchHorizontalArrow(node) {\n    let opts = this.options,\n      leftEdge = node.querySelector('.leftEdge'),\n      rightEdge = node.querySelector('.rightEdge'),\n      temp = this._closest(node, (el) => el.nodeName === 'TABLE').parentNode;\n\n    if (opts.toggleSiblingsResp && (typeof opts.ajaxURL === 'undefined' ||\n      this._closest(node, (el) => el.classList.contains('.nodes')).dataset.siblingsLoaded)) {\n      let prevSib = temp.previousElementSibling,\n        nextSib = temp.nextElementSibling;\n\n      if (prevSib) {\n        if (prevSib.classList.contains('hidden')) {\n          leftEdge.classList.add('fa-chevron-left');\n          leftEdge.classList.remove('fa-chevron-right');\n        } else {\n          leftEdge.classList.add('fa-chevron-right');\n          leftEdge.classList.remove('fa-chevron-left');\n        }\n      }\n      if (nextSib) {\n        if (nextSib.classList.contains('hidden')) {\n          rightEdge.classList.add('fa-chevron-right');\n          rightEdge.classList.remove('fa-chevron-left');\n        } else {\n          rightEdge.classList.add('fa-chevron-left');\n          rightEdge.classList.remove('fa-chevron-right');\n        }\n      }\n    } else {\n      let sibs = this._siblings(temp),\n        sibsVisible = sibs.length ? !sibs.some((el) => el.classList.contains('hidden')) : false;\n\n      leftEdge.classList.toggle('fa-chevron-right', sibsVisible);\n      leftEdge.classList.toggle('fa-chevron-left', !sibsVisible);\n      rightEdge.classList.toggle('fa-chevron-left', sibsVisible);\n      rightEdge.classList.toggle('fa-chevron-right', !sibsVisible);\n    }\n  }\n  _hoverNode(event) {\n    let node = event.target,\n      flag = false,\n      topEdge = node.querySelector(':scope > .topEdge'),\n      bottomEdge = node.querySelector(':scope > .bottomEdge'),\n      leftEdge = node.querySelector(':scope > .leftEdge');\n\n    if (event.type === 'mouseenter') {\n      if (topEdge) {\n        flag = this._getNodeState(node, 'parent').visible;\n        topEdge.classList.toggle('fa-chevron-up', !flag);\n        topEdge.classList.toggle('fa-chevron-down', flag);\n      }\n      if (bottomEdge) {\n        flag = this._getNodeState(node, 'children').visible;\n        bottomEdge.classList.toggle('fa-chevron-down', !flag);\n        bottomEdge.classList.toggle('fa-chevron-up', flag);\n      }\n      if (leftEdge) {\n        this._switchHorizontalArrow(node);\n      }\n    } else {\n      Array.from(node.querySelectorAll(':scope > .edge')).forEach((el) => {\n        el.classList.remove('fa-chevron-up', 'fa-chevron-down', 'fa-chevron-right', 'fa-chevron-left');\n      });\n    }\n  }\n  // define node click event handler\n  _clickNode(event) {\n    let clickedNode = event.currentTarget,\n      focusedNode = this.chart.querySelector('.focused');\n\n    if (focusedNode) {\n      focusedNode.classList.remove('focused');\n    }\n    clickedNode.classList.add('focused');\n  }\n  // build the parent node of specific node\n  _buildParentNode(currentRoot, nodeData, callback) {\n    let that = this,\n      table = document.createElement('table');\n\n    nodeData.relationship = nodeData.relationship || '001';\n    this._createNode(nodeData, 0)\n      .then(function (nodeDiv) {\n        let chart = that.chart;\n\n        nodeDiv.classList.remove('slide-up');\n        nodeDiv.classList.add('slide-down');\n        let parentTr = document.createElement('tr'),\n          superiorLine = document.createElement('tr'),\n          inferiorLine = document.createElement('tr'),\n          childrenTr = document.createElement('tr');\n\n        parentTr.setAttribute('class', 'hidden');\n        parentTr.innerHTML = `<td colspan=\"2\"></td>`;\n        table.appendChild(parentTr);\n        superiorLine.setAttribute('class', 'lines hidden');\n        superiorLine.innerHTML = `<td colspan=\"2\"><div class=\"downLine\"></div></td>`;\n        table.appendChild(superiorLine);\n        inferiorLine.setAttribute('class', 'lines hidden');\n        inferiorLine.innerHTML = `<td class=\"rightLine\">&nbsp;</td><td class=\"leftLine\">&nbsp;</td>`;\n        table.appendChild(inferiorLine);\n        childrenTr.setAttribute('class', 'nodes');\n        childrenTr.innerHTML = `<td colspan=\"2\"></td>`;\n        table.appendChild(childrenTr);\n        table.querySelector('td').appendChild(nodeDiv);\n        chart.insertBefore(table, chart.children[0]);\n        table.children[3].children[0].appendChild(chart.lastChild);\n        callback();\n      })\n      .catch(function (err) {\n        console.error('Failed to create parent node', err);\n      });\n  }\n  _switchVerticalArrow(arrow) {\n    arrow.classList.toggle('fa-chevron-up');\n    arrow.classList.toggle('fa-chevron-down');\n  }\n  // show the parent node of the specified node\n  showParent(node) {\n    // just show only one superior level\n    let temp = this._prevAll(this._closest(node, (el) => el.classList.contains('nodes')));\n\n    this._removeClass(temp, 'hidden');\n    // just show only one line\n    this._addClass(Array(temp[0].children).slice(1, -1), 'hidden');\n    // show parent node with animation\n    let parent = temp[2].querySelector('.node');\n\n    this._one(parent, 'transitionend', function () {\n      parent.classList.remove('slide');\n      if (this._isInAction(node)) {\n        this._switchVerticalArrow(node.querySelector(':scope > .topEdge'));\n      }\n    }, this);\n    this._repaint(parent);\n    parent.classList.add('slide');\n    parent.classList.remove('slide-down');\n  }\n  // show the sibling nodes of the specified node\n  showSiblings(node, direction) {\n    // firstly, show the sibling td tags\n    let siblings = [],\n      temp = this._closest(node, (el) => el.nodeName === 'TABLE').parentNode;\n\n    if (direction) {\n      siblings = direction === 'left' ? this._prevAll(temp) : this._nextAll(temp);\n    } else {\n      siblings = this._siblings(temp);\n    }\n    this._removeClass(siblings, 'hidden');\n    // secondly, show the lines\n    let upperLevel = this._prevAll(this._closest(node, (el) => el.classList.contains('nodes')));\n\n    temp = Array.from(upperLevel[0].querySelectorAll(':scope > .hidden'));\n    if (direction) {\n      this._removeClass(temp.slice(0, siblings.length * 2), 'hidden');\n    } else {\n      this._removeClass(temp, 'hidden');\n    }\n    // thirdly, do some cleaning stuff\n    if (!this._getNodeState(node, 'parent').visible) {\n      this._removeClass(upperLevel, 'hidden');\n      let parent = upperLevel[2].querySelector('.node');\n\n      this._one(parent, 'transitionend', function (event) {\n        event.target.classList.remove('slide');\n      }, this);\n      this._repaint(parent);\n      parent.classList.add('slide');\n      parent.classList.remove('slide-down');\n    }\n    // lastly, show the sibling nodes with animation\n    siblings.forEach((sib) => {\n      Array.from(sib.querySelectorAll('.node')).forEach((node) => {\n        if (this._isVisible(node)) {\n          node.classList.add('slide');\n          node.classList.remove('slide-left', 'slide-right');\n        }\n      });\n    });\n    this._one(siblings[0].querySelector('.slide'), 'transitionend', function () {\n      siblings.forEach((sib) => {\n        this._removeClass(Array.from(sib.querySelectorAll('.slide')), 'slide');\n      });\n      if (this._isInAction(node)) {\n        this._switchHorizontalArrow(node);\n        node.querySelector('.topEdge').classList.remove('fa-chevron-up');\n        node.querySelector('.topEdge').classList.add('fa-chevron-down');\n      }\n    }, this);\n  }\n  // hide the sibling nodes of the specified node\n  hideSiblings(node, direction) {\n    let nodeContainer = this._closest(node, (el) => el.nodeName === 'TABLE').parentNode,\n      siblings = this._siblings(nodeContainer);\n\n    siblings.forEach((sib) => {\n      if (sib.querySelector('.spinner')) {\n        this.chart.dataset.inAjax = false;\n      }\n    });\n\n    if (!direction || (direction && direction === 'left')) {\n      let preSibs = this._prevAll(nodeContainer);\n\n      preSibs.forEach((sib) => {\n        Array.from(sib.querySelectorAll('.node')).forEach((node) => {\n          if (this._isVisible(node)) {\n            node.classList.add('slide', 'slide-right');\n          }\n        });\n      });\n    }\n    if (!direction || (direction && direction !== 'left')) {\n      let nextSibs = this._nextAll(nodeContainer);\n\n      nextSibs.forEach((sib) => {\n        Array.from(sib.querySelectorAll('.node')).forEach((node) => {\n          if (this._isVisible(node)) {\n            node.classList.add('slide', 'slide-left');\n          }\n        });\n      });\n    }\n\n    let animatedNodes = [];\n\n    this._siblings(nodeContainer).forEach((sib) => {\n      Array.prototype.push.apply(animatedNodes, Array.from(sib.querySelectorAll('.slide')));\n    });\n    let lines = [];\n\n    for (let node of animatedNodes) {\n      let temp = this._closest(node, function (el) {\n        return el.classList.contains('nodes');\n      }).previousElementSibling;\n\n      lines.push(temp);\n      lines.push(temp.previousElementSibling);\n    }\n    lines = [...new Set(lines)];\n    lines.forEach(function (line) {\n      line.style.visibility = 'hidden';\n    });\n\n    this._one(animatedNodes[0], 'transitionend', function (event) {\n      lines.forEach(function (line) {\n        line.removeAttribute('style');\n      });\n      let sibs = [];\n\n      if (direction) {\n        if (direction === 'left') {\n          sibs = this._prevAll(nodeContainer, ':not(.hidden)');\n        } else {\n          sibs = this._nextAll(nodeContainer, ':not(.hidden)');\n        }\n      } else {\n        sibs = this._siblings(nodeContainer);\n      }\n      let temp = Array.from(this._closest(nodeContainer, function (el) {\n        return el.classList.contains('nodes');\n      }).previousElementSibling.querySelectorAll(':scope > :not(.hidden)'));\n\n      let someLines = temp.slice(1, direction ? sibs.length * 2 + 1 : -1);\n\n      this._addClass(someLines, 'hidden');\n      this._removeClass(animatedNodes, 'slide');\n      sibs.forEach((sib) => {\n        Array.from(sib.querySelectorAll('.node')).slice(1).forEach((node) => {\n          if (this._isVisible(node)) {\n            node.classList.remove('slide-left', 'slide-right');\n            node.classList.add('slide-up');\n          }\n        });\n      });\n      sibs.forEach((sib) => {\n        this._addClass(Array.from(sib.querySelectorAll('.lines')), 'hidden');\n        this._addClass(Array.from(sib.querySelectorAll('.nodes')), 'hidden');\n        this._addClass(Array.from(sib.querySelectorAll('.verticalNodes')), 'hidden');\n      });\n      this._addClass(sibs, 'hidden');\n\n      if (this._isInAction(node)) {\n        this._switchHorizontalArrow(node);\n      }\n    }, this);\n  }\n  // recursively hide the ancestor node and sibling nodes of the specified node\n  hideParent(node) {\n    let temp = Array.from(this._closest(node, function (el) {\n      return el.classList.contains('nodes');\n    }).parentNode.children).slice(0, 3);\n\n    if (temp[0].querySelector('.spinner')) {\n      this.chart.dataset.inAjax = false;\n    }\n    // hide the sibling nodes\n    if (this._getNodeState(node, 'siblings').visible) {\n      this.hideSiblings(node);\n    }\n    // hide the lines\n    let lines = temp.slice(1);\n\n    this._css(lines, 'visibility', 'hidden');\n    // hide the superior nodes with transition\n    let parent = temp[0].querySelector('.node'),\n      grandfatherVisible = this._getNodeState(parent, 'parent').visible;\n\n    if (parent && this._isVisible(parent)) {\n      parent.classList.add('slide', 'slide-down');\n      this._one(parent, 'transitionend', function () {\n        parent.classList.remove('slide');\n        this._removeAttr(lines, 'style');\n        this._addClass(temp, 'hidden');\n      }, this);\n    }\n    // if the current node has the parent node, hide it recursively\n    if (parent && grandfatherVisible) {\n      this.hideParent(parent);\n    }\n  }\n  // exposed method\n  addParent(currentRoot, data) {\n    let that = this;\n\n    this._buildParentNode(currentRoot, data, function () {\n      if (!currentRoot.querySelector(':scope > .topEdge')) {\n        let topEdge = document.createElement('i');\n\n        topEdge.setAttribute('class', 'edge verticalEdge topEdge fa');\n        currentRoot.appendChild(topEdge);\n      }\n      that.showParent(currentRoot);\n    });\n  }\n  // start up loading status for requesting new nodes\n  _startLoading(arrow, node) {\n    let opts = this.options,\n      chart = this.chart;\n\n    if (typeof chart.dataset.inAjax !== 'undefined' && chart.dataset.inAjax === 'true') {\n      return false;\n    }\n\n    arrow.classList.add('hidden');\n    let spinner = document.createElement('i');\n\n    spinner.setAttribute('class', 'fa fa-circle-o-notch fa-spin spinner');\n    node.appendChild(spinner);\n    this._addClass(Array.from(node.querySelectorAll(':scope > *:not(.spinner)')), 'hazy');\n    chart.dataset.inAjax = true;\n\n    let exportBtn = this.chartContainer.querySelector('.oc-export-btn' +\n      (opts.chartClass !== '' ? '.' + opts.chartClass : ''));\n\n    if (exportBtn) {\n      exportBtn.disabled = true;\n    }\n    return true;\n  }\n  // terminate loading status for requesting new nodes\n  _endLoading(arrow, node) {\n    let opts = this.options;\n\n    arrow.classList.remove('hidden');\n    node.querySelector(':scope > .spinner').remove();\n    this._removeClass(Array.from(node.querySelectorAll(':scope > .hazy')), 'hazy');\n    this.chart.dataset.inAjax = false;\n    let exportBtn = this.chartContainer.querySelector('.oc-export-btn' +\n      (opts.chartClass !== '' ? '.' + opts.chartClass : ''));\n\n    if (exportBtn) {\n      exportBtn.disabled = false;\n    }\n  }\n  // define click event handler for the top edge\n  _clickTopEdge(event) {\n    event.stopPropagation();\n    let that = this,\n      topEdge = event.target,\n      node = topEdge.parentNode,\n      parentState = this._getNodeState(node, 'parent'),\n      opts = this.options;\n\n    if (parentState.exist) {\n      let temp = this._closest(node, function (el) {\n        return el.classList.contains('nodes');\n      });\n      let parent = temp.parentNode.firstChild.querySelector('.node');\n\n      if (parent.classList.contains('slide')) { return; }\n      // hide the ancestor nodes and sibling nodes of the specified node\n      if (parentState.visible) {\n        this.hideParent(node);\n        this._one(parent, 'transitionend', function () {\n          if (this._isInAction(node)) {\n            this._switchVerticalArrow(topEdge);\n            this._switchHorizontalArrow(node);\n          }\n        }, this);\n      } else { // show the ancestors and siblings\n        this.showParent(node);\n      }\n    } else {\n      // load the new parent node of the specified node by ajax request\n      let nodeId = topEdge.parentNode.id;\n\n      // start up loading status\n      if (this._startLoading(topEdge, node)) {\n        // load new nodes\n        this._getJSON(typeof opts.ajaxURL.parent === 'function' ?\n          opts.ajaxURL.parent(node.dataset.source) : opts.ajaxURL.parent + nodeId)\n        .then(function (resp) {\n          if (that.chart.dataset.inAjax === 'true') {\n            if (Object.keys(resp).length) {\n              that.addParent(node, resp);\n            }\n          }\n        })\n        .catch(function (err) {\n          console.error('Failed to get parent node data.', err);\n        })\n        .finally(function () {\n          that._endLoading(topEdge, node);\n        });\n      }\n    }\n  }\n  // recursively hide the descendant nodes of the specified node\n  hideChildren(node) {\n    let that = this,\n      temp = this._nextAll(node.parentNode.parentNode),\n      lastItem = temp[temp.length - 1],\n      lines = [];\n\n    if (lastItem.querySelector('.spinner')) {\n      this.chart.dataset.inAjax = false;\n    }\n    let descendants = Array.from(lastItem.querySelectorAll('.node')).filter((el) => that._isVisible(el)),\n      isVerticalDesc = lastItem.classList.contains('verticalNodes');\n\n    if (!isVerticalDesc) {\n      descendants.forEach((desc) => {\n        Array.prototype.push.apply(lines,\n          that._prevAll(that._closest(desc, (el) => el.classList.contains('nodes')), '.lines'));\n      });\n      lines = [...new Set(lines)];\n      this._css(lines, 'visibility', 'hidden');\n    }\n    this._one(descendants[0], 'transitionend', function (event) {\n      this._removeClass(descendants, 'slide');\n      if (isVerticalDesc) {\n        that._addClass(temp, 'hidden');\n      } else {\n        lines.forEach((el) => {\n          el.removeAttribute('style');\n          el.classList.add('hidden');\n          el.parentNode.lastChild.classList.add('hidden');\n        });\n        this._addClass(Array.from(lastItem.querySelectorAll('.verticalNodes')), 'hidden');\n      }\n      if (this._isInAction(node)) {\n        this._switchVerticalArrow(node.querySelector('.bottomEdge'));\n      }\n    }, this);\n    this._addClass(descendants, 'slide slide-up');\n  }\n  // show the children nodes of the specified node\n  showChildren(node) {\n    let that = this,\n      temp = this._nextAll(node.parentNode.parentNode),\n      descendants = [];\n\n    this._removeClass(temp, 'hidden');\n    if (temp.some((el) => el.classList.contains('verticalNodes'))) {\n      temp.forEach((el) => {\n        Array.prototype.push.apply(descendants, Array.from(el.querySelectorAll('.node')).filter((el) => {\n          return that._isVisible(el);\n        }));\n      });\n    } else {\n      Array.from(temp[2].children).forEach((el) => {\n        Array.prototype.push.apply(descendants,\n          Array.from(el.querySelector('tr').querySelectorAll('.node')).filter((el) => {\n            return that._isVisible(el);\n          }));\n      });\n    }\n    // the two following statements are used to enforce browser to repaint\n    this._repaint(descendants[0]);\n    this._one(descendants[0], 'transitionend', (event) => {\n      this._removeClass(descendants, 'slide');\n      if (this._isInAction(node)) {\n        this._switchVerticalArrow(node.querySelector('.bottomEdge'));\n      }\n    }, this);\n    this._addClass(descendants, 'slide');\n    this._removeClass(descendants, 'slide-up');\n  }\n  // build the child nodes of specific node\n  _buildChildNode(appendTo, nodeData, callback) {\n    let data = nodeData.children || nodeData.siblings;\n\n    appendTo.querySelector('td').setAttribute('colSpan', data.length * 2);\n    this.buildHierarchy(appendTo, { 'children': data }, 0, callback);\n  }\n  // exposed method\n  addChildren(node, data) {\n    let that = this,\n      opts = this.options,\n      count = 0;\n\n    this.chart.dataset.inEdit = 'addChildren';\n    this._buildChildNode.call(this, this._closest(node, (el) => el.nodeName === 'TABLE'), data, function () {\n      if (++count === data.children.length) {\n        if (!node.querySelector('.bottomEdge')) {\n          let bottomEdge = document.createElement('i');\n\n          bottomEdge.setAttribute('class', 'edge verticalEdge bottomEdge fa');\n          node.appendChild(bottomEdge);\n        }\n        if (!node.querySelector('.symbol')) {\n          let symbol = document.createElement('i');\n\n          symbol.setAttribute('class', 'fa ' + opts.parentNodeSymbol + ' symbol');\n          node.querySelector(':scope > .title').appendChild(symbol);\n        }\n        that.showChildren(node);\n        that.chart.dataset.inEdit = '';\n      }\n    });\n  }\n  // bind click event handler for the bottom edge\n  _clickBottomEdge(event) {\n    event.stopPropagation();\n    let that = this,\n      opts = this.options,\n      bottomEdge = event.target,\n      node = bottomEdge.parentNode,\n      childrenState = this._getNodeState(node, 'children');\n\n    if (childrenState.exist) {\n      let temp = this._closest(node, function (el) {\n        return el.nodeName === 'TR';\n      }).parentNode.lastChild;\n\n      if (Array.from(temp.querySelectorAll('.node')).some((node) => {\n        return this._isVisible(node) && node.classList.contains('slide');\n      })) { return; }\n      // hide the descendant nodes of the specified node\n      if (childrenState.visible) {\n        this.hideChildren(node);\n      } else { // show the descendants\n        this.showChildren(node);\n      }\n    } else { // load the new children nodes of the specified node by ajax request\n      let nodeId = bottomEdge.parentNode.id;\n\n      if (this._startLoading(bottomEdge, node)) {\n        this._getJSON(typeof opts.ajaxURL.children === 'function' ?\n          opts.ajaxURL.children(node.dataset.source) : opts.ajaxURL.children + nodeId)\n        .then(function (resp) {\n          if (that.chart.dataset.inAjax === 'true') {\n            if (resp.children.length) {\n              that.addChildren(node, resp);\n            }\n          }\n        })\n        .catch(function (err) {\n          console.error('Failed to get children nodes data', err);\n        })\n        .finally(function () {\n          that._endLoading(bottomEdge, node);\n        });\n      }\n    }\n  }\n  // subsequent processing of build sibling nodes\n  _complementLine(oneSibling, siblingCount, existingSibligCount) {\n    let temp = oneSibling.parentNode.parentNode.children;\n\n    temp[0].children[0].setAttribute('colspan', siblingCount * 2);\n    temp[1].children[0].setAttribute('colspan', siblingCount * 2);\n    for (let i = 0; i < existingSibligCount; i++) {\n      let rightLine = document.createElement('td'),\n        leftLine = document.createElement('td');\n\n      rightLine.setAttribute('class', 'rightLine topLine');\n      rightLine.innerHTML = '&nbsp;';\n      temp[2].insertBefore(rightLine, temp[2].children[1]);\n      leftLine.setAttribute('class', 'leftLine topLine');\n      leftLine.innerHTML = '&nbsp;';\n      temp[2].insertBefore(leftLine, temp[2].children[1]);\n    }\n  }\n  // build the sibling nodes of specific node\n  _buildSiblingNode(nodeChart, nodeData, callback) {\n    let that = this,\n      newSiblingCount = nodeData.siblings ? nodeData.siblings.length : nodeData.children.length,\n      existingSibligCount = nodeChart.parentNode.nodeName === 'TD' ? this._closest(nodeChart, (el) => {\n        return el.nodeName === 'TR';\n      }).children.length : 1,\n      siblingCount = existingSibligCount + newSiblingCount,\n      insertPostion = (siblingCount > 1) ? Math.floor(siblingCount / 2 - 1) : 0;\n\n    // just build the sibling nodes for the specific node\n    if (nodeChart.parentNode.nodeName === 'TD') {\n      let temp = this._prevAll(nodeChart.parentNode.parentNode);\n\n      temp[0].remove();\n      temp[1].remove();\n      let childCount = 0;\n\n      that._buildChildNode.call(that, that._closest(nodeChart.parentNode, (el) => el.nodeName === 'TABLE'),\n        nodeData, () => {\n          if (++childCount === newSiblingCount) {\n            let siblingTds = Array.from(that._closest(nodeChart.parentNode, (el) => el.nodeName === 'TABLE')\n              .lastChild.children);\n\n            if (existingSibligCount > 1) {\n              let temp = nodeChart.parentNode.parentNode;\n\n              Array.from(temp.children).forEach((el) => {\n                siblingTds[0].parentNode.insertBefore(el, siblingTds[0]);\n              });\n              temp.remove();\n              that._complementLine(siblingTds[0], siblingCount, existingSibligCount);\n              that._addClass(siblingTds, 'hidden');\n              siblingTds.forEach((el) => {\n                that._addClass(el.querySelectorAll('.node'), 'slide-left');\n              });\n            } else {\n              let temp = nodeChart.parentNode.parentNode;\n\n              siblingTds[insertPostion].parentNode.insertBefore(nodeChart.parentNode, siblingTds[insertPostion + 1]);\n              temp.remove();\n              that._complementLine(siblingTds[insertPostion], siblingCount, 1);\n              that._addClass(siblingTds, 'hidden');\n              that._addClass(that._getDescElements(siblingTds.slice(0, insertPostion + 1), '.node'), 'slide-right');\n              that._addClass(that._getDescElements(siblingTds.slice(insertPostion + 1), '.node'), 'slide-left');\n            }\n            callback();\n          }\n        });\n    } else { // build the sibling nodes and parent node for the specific ndoe\n      let nodeCount = 0;\n\n      that.buildHierarchy.call(that, that.chart, nodeData, 0, () => {\n        if (++nodeCount === siblingCount) {\n          let temp = nodeChart.nextElementSibling.children[3]\n            .children[insertPostion],\n            td = document.createElement('td');\n\n          td.setAttribute('colspan', 2);\n          td.appendChild(nodeChart);\n          temp.parentNode.insertBefore(td, temp.nextElementSibling);\n          that._complementLine(temp, siblingCount, 1);\n\n          let temp2 = that._closest(nodeChart, (el) => el.classList && el.classList.contains('nodes'))\n            .parentNode.children[0];\n\n          temp2.classList.add('hidden');\n          that._addClass(Array.from(temp2.querySelectorAll('.node')), 'slide-down');\n\n          let temp3 = this._siblings(nodeChart.parentNode);\n\n          that._addClass(temp3, 'hidden');\n          that._addClass(that._getDescElements(temp3.slice(0, insertPostion), '.node'), 'slide-right');\n          that._addClass(that._getDescElements(temp3.slice(insertPostion), '.node'), 'slide-left');\n          callback();\n        }\n      });\n    }\n  }\n  addSiblings(node, data) {\n    let that = this;\n\n    this.chart.dataset.inEdit = 'addSiblings';\n    this._buildSiblingNode.call(this, this._closest(node, (el) => el.nodeName === 'TABLE'), data, () => {\n      that._closest(node, (el) => el.classList && el.classList.contains('nodes'))\n        .dataset.siblingsLoaded = true;\n      if (!node.querySelector('.leftEdge')) {\n        let rightEdge = document.createElement('i'),\n          leftEdge = document.createElement('i');\n\n        rightEdge.setAttribute('class', 'edge horizontalEdge rightEdge fa');\n        node.appendChild(rightEdge);\n        leftEdge.setAttribute('class', 'edge horizontalEdge leftEdge fa');\n        node.appendChild(leftEdge);\n      }\n      that.showSiblings(node);\n      that.chart.dataset.inEdit = '';\n    });\n  }\n  removeNodes(node) {\n    let parent = this._closest(node, el => el.nodeName === 'TABLE').parentNode,\n      sibs = this._siblings(parent.parentNode);\n\n    if (parent.nodeName === 'TD') {\n      if (this._getNodeState(node, 'siblings').exist) {\n        sibs[2].querySelector('.topLine').nextElementSibling.remove();\n        sibs[2].querySelector('.topLine').remove();\n        sibs[0].children[0].setAttribute('colspan', sibs[2].children.length);\n        sibs[1].children[0].setAttribute('colspan', sibs[2].children.length);\n        parent.remove();\n      } else {\n        sibs[0].children[0].removeAttribute('colspan');\n        sibs[0].querySelector('.bottomEdge').remove();\n        this._siblings(sibs[0]).forEach(el => el.remove());\n      }\n    } else {\n      Array.from(parent.parentNode.children).forEach(el => el.remove());\n    }\n  }\n  // bind click event handler for the left and right edges\n  _clickHorizontalEdge(event) {\n    event.stopPropagation();\n    let that = this,\n      opts = this.options,\n      hEdge = event.target,\n      node = hEdge.parentNode,\n      siblingsState = this._getNodeState(node, 'siblings');\n\n    if (siblingsState.exist) {\n      let temp = this._closest(node, function (el) {\n          return el.nodeName === 'TABLE';\n        }).parentNode,\n        siblings = this._siblings(temp);\n\n      if (siblings.some((el) => {\n        let node = el.querySelector('.node');\n\n        return this._isVisible(node) && node.classList.contains('slide');\n      })) { return; }\n      if (opts.toggleSiblingsResp) {\n        let prevSib = this._closest(node, (el) => el.nodeName === 'TABLE').parentNode.previousElementSibling,\n          nextSib = this._closest(node, (el) => el.nodeName === 'TABLE').parentNode.nextElementSibling;\n\n        if (hEdge.classList.contains('leftEdge')) {\n          if (prevSib.classList.contains('hidden')) {\n            this.showSiblings(node, 'left');\n          } else {\n            this.hideSiblings(node, 'left');\n          }\n        } else {\n          if (nextSib.classList.contains('hidden')) {\n            this.showSiblings(node, 'right');\n          } else {\n            this.hideSiblings(node, 'right');\n          }\n        }\n      } else {\n        if (siblingsState.visible) {\n          this.hideSiblings(node);\n        } else {\n          this.showSiblings(node);\n        }\n      }\n    } else {\n      // load the new sibling nodes of the specified node by ajax request\n      let nodeId = hEdge.parentNode.id,\n        url = (this._getNodeState(node, 'parent').exist) ?\n          (typeof opts.ajaxURL.siblings === 'function' ?\n            opts.ajaxURL.siblings(JSON.parse(node.dataset.source)) : opts.ajaxURL.siblings + nodeId) :\n          (typeof opts.ajaxURL.families === 'function' ?\n            opts.ajaxURL.families(JSON.parse(node.dataset.source)) : opts.ajaxURL.families + nodeId);\n\n      if (this._startLoading(hEdge, node)) {\n        this._getJSON(url)\n        .then(function (resp) {\n          if (that.chart.dataset.inAjax === 'true') {\n            if (resp.siblings || resp.children) {\n              that.addSiblings(node, resp);\n            }\n          }\n        })\n        .catch(function (err) {\n          console.error('Failed to get sibling nodes data', err);\n        })\n        .finally(function () {\n          that._endLoading(hEdge, node);\n        });\n      }\n    }\n  }\n  // event handler for toggle buttons in Hybrid(horizontal + vertical) OrgChart\n  _clickToggleButton(event) {\n    let that = this,\n      toggleBtn = event.target,\n      descWrapper = toggleBtn.parentNode.nextElementSibling,\n      descendants = Array.from(descWrapper.querySelectorAll('.node')),\n      children = Array.from(descWrapper.children).map(item => item.querySelector('.node'));\n\n    if (children.some((item) => item.classList.contains('slide'))) { return; }\n    toggleBtn.classList.toggle('fa-plus-square');\n    toggleBtn.classList.toggle('fa-minus-square');\n    if (descendants[0].classList.contains('slide-up')) {\n      descWrapper.classList.remove('hidden');\n      this._repaint(children[0]);\n      this._addClass(children, 'slide');\n      this._removeClass(children, 'slide-up');\n      this._one(children[0], 'transitionend', () => {\n        that._removeClass(children, 'slide');\n      });\n    } else {\n      this._addClass(descendants, 'slide slide-up');\n      this._one(descendants[0], 'transitionend', () => {\n        that._removeClass(descendants, 'slide');\n        descendants.forEach(desc => {\n          let ul = that._closest(desc, function (el) {\n            return el.nodeName === 'UL';\n          });\n\n          ul.classList.add('hidden');\n        });\n      });\n\n      descendants.forEach(desc => {\n        let subTBs = Array.from(desc.querySelectorAll('.toggleBtn'));\n\n        that._removeClass(subTBs, 'fa-minus-square');\n        that._addClass(subTBs, 'fa-plus-square');\n      });\n    }\n  }\n  _dispatchClickEvent(event) {\n    let classList = event.target.classList;\n\n    if (classList.contains('topEdge')) {\n      this._clickTopEdge(event);\n    } else if (classList.contains('rightEdge') || classList.contains('leftEdge')) {\n      this._clickHorizontalEdge(event);\n    } else if (classList.contains('bottomEdge')) {\n      this._clickBottomEdge(event);\n    } else if (classList.contains('toggleBtn')) {\n      this._clickToggleButton(event);\n    } else {\n      this._clickNode(event);\n    }\n  }\n  _onDragStart(event) {\n    let nodeDiv = event.target,\n      opts = this.options,\n      isFirefox = /firefox/.test(window.navigator.userAgent.toLowerCase());\n\n    if (isFirefox) {\n      event.dataTransfer.setData('text/html', 'hack for firefox');\n    }\n    // if users enable zoom or direction options\n    if (this.chart.style.transform) {\n      let ghostNode, nodeCover;\n\n      if (!document.querySelector('.ghost-node')) {\n        ghostNode = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n        ghostNode.classList.add('ghost-node');\n        nodeCover = document.createElementNS('http://www.w3.org/2000/svg', 'rect');\n        ghostNode.appendChild(nodeCover);\n        this.chart.appendChild(ghostNode);\n      } else {\n        ghostNode = this.chart.querySelector(':scope > .ghost-node');\n        nodeCover = ghostNode.children[0];\n      }\n      let transValues = this.chart.style.transform.split(','),\n        scale = Math.abs(window.parseFloat((opts.direction === 't2b' || opts.direction === 'b2t') ?\n          transValues[0].slice(transValues[0].indexOf('(') + 1) : transValues[1]));\n\n      ghostNode.setAttribute('width', nodeDiv.offsetWidth);\n      ghostNode.setAttribute('height', nodeDiv.offsetHeight);\n      nodeCover.setAttribute('x', 5 * scale);\n      nodeCover.setAttribute('y', 5 * scale);\n      nodeCover.setAttribute('width', 120 * scale);\n      nodeCover.setAttribute('height', 40 * scale);\n      nodeCover.setAttribute('rx', 4 * scale);\n      nodeCover.setAttribute('ry', 4 * scale);\n      nodeCover.setAttribute('stroke-width', 1 * scale);\n      let xOffset = event.offsetX * scale,\n        yOffset = event.offsetY * scale;\n\n      if (opts.direction === 'l2r') {\n        xOffset = event.offsetY * scale;\n        yOffset = event.offsetX * scale;\n      } else if (opts.direction === 'r2l') {\n        xOffset = nodeDiv.offsetWidth - event.offsetY * scale;\n        yOffset = event.offsetX * scale;\n      } else if (opts.direction === 'b2t') {\n        xOffset = nodeDiv.offsetWidth - event.offsetX * scale;\n        yOffset = nodeDiv.offsetHeight - event.offsetY * scale;\n      }\n      if (isFirefox) { // hack for old version of Firefox(< 48.0)\n        let ghostNodeWrapper = document.createElement('img');\n\n        ghostNodeWrapper.src = 'data:image/svg+xml;utf8,' + (new XMLSerializer()).serializeToString(ghostNode);\n        event.dataTransfer.setDragImage(ghostNodeWrapper, xOffset, yOffset);\n        nodeCover.setAttribute('fill', 'rgb(255, 255, 255)');\n        nodeCover.setAttribute('stroke', 'rgb(191, 0, 0)');\n      } else {\n        event.dataTransfer.setDragImage(ghostNode, xOffset, yOffset);\n      }\n    }\n    let dragged = event.target,\n      dragZone = this._closest(dragged, (el) => {\n        return el.classList && el.classList.contains('nodes');\n      }).parentNode.children[0].querySelector('.node'),\n      dragHier = Array.from(this._closest(dragged, (el) => {\n        return el.nodeName === 'TABLE';\n      }).querySelectorAll('.node'));\n\n    this.dragged = dragged;\n    Array.from(this.chart.querySelectorAll('.node')).forEach(function (node) {\n      if (!dragHier.includes(node)) {\n        if (opts.dropCriteria) {\n          if (opts.dropCriteria(dragged, dragZone, node)) {\n            node.classList.add('allowedDrop');\n          }\n        } else {\n          node.classList.add('allowedDrop');\n        }\n      }\n    });\n  }\n  _onDragOver(event) {\n    event.preventDefault();\n    let dropZone = event.currentTarget;\n\n    if (!dropZone.classList.contains('allowedDrop')) {\n      event.dataTransfer.dropEffect = 'none';\n    }\n  }\n  _onDragEnd(event) {\n    Array.from(this.chart.querySelectorAll('.allowedDrop')).forEach(function (el) {\n      el.classList.remove('allowedDrop');\n    });\n  }\n  _onDrop(event) {\n    let dropZone = event.currentTarget,\n      chart = this.chart,\n      dragged = this.dragged,\n      dragZone = this._closest(dragged, function (el) {\n        return el.classList && el.classList.contains('nodes');\n      }).parentNode.children[0].children[0];\n\n    this._removeClass(Array.from(chart.querySelectorAll('.allowedDrop')), 'allowedDrop');\n    // firstly, deal with the hierarchy of drop zone\n    if (!dropZone.parentNode.parentNode.nextElementSibling) { // if the drop zone is a leaf node\n      let bottomEdge = document.createElement('i');\n\n      bottomEdge.setAttribute('class', 'edge verticalEdge bottomEdge fa');\n      dropZone.appendChild(bottomEdge);\n      dropZone.parentNode.setAttribute('colspan', 2);\n      let table = this._closest(dropZone, function (el) {\n          return el.nodeName === 'TABLE';\n        }),\n        upperTr = document.createElement('tr'),\n        lowerTr = document.createElement('tr'),\n        nodeTr = document.createElement('tr');\n\n      upperTr.setAttribute('class', 'lines');\n      upperTr.innerHTML = `<td colspan=\"2\"><div class=\"downLine\"></div></td>`;\n      table.appendChild(upperTr);\n      lowerTr.setAttribute('class', 'lines');\n      lowerTr.innerHTML = `<td class=\"rightLine\">&nbsp;</td><td class=\"leftLine\">&nbsp;</td>`;\n      table.appendChild(lowerTr);\n      nodeTr.setAttribute('class', 'nodes');\n      table.appendChild(nodeTr);\n      Array.from(dragged.querySelectorAll('.horizontalEdge')).forEach((hEdge) => {\n        dragged.removeChild(hEdge);\n      });\n      let draggedTd = this._closest(dragged, (el) => el.nodeName === 'TABLE').parentNode;\n\n      nodeTr.appendChild(draggedTd);\n    } else {\n      let dropColspan = window.parseInt(dropZone.parentNode.colSpan) + 2;\n\n      dropZone.parentNode.setAttribute('colspan', dropColspan);\n      dropZone.parentNode.parentNode.nextElementSibling.children[0].setAttribute('colspan', dropColspan);\n      if (!dragged.querySelector('.horizontalEdge')) {\n        let rightEdge = document.createElement('i'),\n          leftEdge = document.createElement('i');\n\n        rightEdge.setAttribute('class', 'edge horizontalEdge rightEdge fa');\n        dragged.appendChild(rightEdge);\n        leftEdge.setAttribute('class', 'edge horizontalEdge leftEdge fa');\n        dragged.appendChild(leftEdge);\n      }\n      let temp = dropZone.parentNode.parentNode.nextElementSibling.nextElementSibling,\n        leftline = document.createElement('td'),\n        rightline = document.createElement('td');\n\n      leftline.setAttribute('class', 'leftLine topLine');\n      leftline.innerHTML = `&nbsp;`;\n      temp.insertBefore(leftline, temp.children[1]);\n      rightline.setAttribute('class', 'rightLine topLine');\n      rightline.innerHTML = `&nbsp;`;\n      temp.insertBefore(rightline, temp.children[2]);\n      temp.nextElementSibling.appendChild(this._closest(dragged, function (el) {\n        return el.nodeName === 'TABLE';\n      }).parentNode);\n\n      let dropSibs = this._siblings(this._closest(dragged, function (el) {\n        return el.nodeName === 'TABLE';\n      }).parentNode).map((el) => el.querySelector('.node'));\n\n      if (dropSibs.length === 1) {\n        let rightEdge = document.createElement('i'),\n          leftEdge = document.createElement('i');\n\n        rightEdge.setAttribute('class', 'edge horizontalEdge rightEdge fa');\n        dropSibs[0].appendChild(rightEdge);\n        leftEdge.setAttribute('class', 'edge horizontalEdge leftEdge fa');\n        dropSibs[0].appendChild(leftEdge);\n      }\n    }\n    // secondly, deal with the hierarchy of dragged node\n    let dragColSpan = window.parseInt(dragZone.colSpan);\n\n    if (dragColSpan > 2) {\n      dragZone.setAttribute('colspan', dragColSpan - 2);\n      dragZone.parentNode.nextElementSibling.children[0].setAttribute('colspan', dragColSpan - 2);\n      let temp = dragZone.parentNode.nextElementSibling.nextElementSibling;\n\n      temp.children[1].remove();\n      temp.children[1].remove();\n\n      let dragSibs = Array.from(dragZone.parentNode.parentNode.children[3].children).map(function (td) {\n        return td.querySelector('.node');\n      });\n\n      if (dragSibs.length === 1) {\n        dragSibs[0].querySelector('.leftEdge').remove();\n        dragSibs[0].querySelector('.rightEdge').remove();\n      }\n    } else {\n      dragZone.removeAttribute('colspan');\n      dragZone.querySelector('.node').removeChild(dragZone.querySelector('.bottomEdge'));\n      Array.from(dragZone.parentNode.parentNode.children).slice(1).forEach((tr) => tr.remove());\n    }\n    let customE = new CustomEvent('nodedropped.orgchart', { 'detail': {\n      'draggedNode': dragged,\n      'dragZone': dragZone.children[0],\n      'dropZone': dropZone\n    }});\n\n    chart.dispatchEvent(customE);\n  }\n  // create node\n  _createNode(nodeData, level) {\n    let that = this,\n      opts = this.options;\n\n    return new Promise(function (resolve, reject) {\n      if (nodeData.children) {\n        for (let child of nodeData.children) {\n          child.parentId = nodeData.id;\n        }\n      }\n\n      // construct the content of node\n      let nodeDiv = document.createElement('div');\n\n      delete nodeData.children;\n      nodeDiv.dataset.source = JSON.stringify(nodeData);\n      if (nodeData[opts.nodeId]) {\n        nodeDiv.id = nodeData[opts.nodeId];\n      }\n      let inEdit = that.chart.dataset.inEdit,\n        isHidden;\n\n      if (inEdit) {\n        isHidden = inEdit === 'addChildren' ? ' slide-up' : '';\n      } else {\n        isHidden = level >= opts.depth ? ' slide-up' : '';\n      }\n      nodeDiv.setAttribute('class', 'node ' + (nodeData.className || '') + isHidden);\n      if (opts.draggable) {\n        nodeDiv.setAttribute('draggable', true);\n      }\n      if (nodeData.parentId) {\n        nodeDiv.setAttribute('data-parent', nodeData.parentId);\n      }\n      nodeDiv.innerHTML = `\n        <div class=\"title\">${nodeData[opts.nodeTitle]}</div>\n        ${opts.nodeContent ? `<div class=\"content\">${nodeData[opts.nodeContent]}</div>` : ''}\n      `;\n      // append 4 direction arrows or expand/collapse buttons\n      let flags = nodeData.relationship || '';\n\n      if (opts.verticalDepth && (level + 2) > opts.verticalDepth) {\n        if ((level + 1) >= opts.verticalDepth && Number(flags.substr(2, 1))) {\n          let toggleBtn = document.createElement('i'),\n            icon = level + 1 >= opts.depth ? 'plus' : 'minus';\n\n          toggleBtn.setAttribute('class', 'toggleBtn fa fa-' + icon + '-square');\n          nodeDiv.appendChild(toggleBtn);\n        }\n      } else {\n        if (Number(flags.substr(0, 1))) {\n          let topEdge = document.createElement('i');\n\n          topEdge.setAttribute('class', 'edge verticalEdge topEdge fa');\n          nodeDiv.appendChild(topEdge);\n        }\n        if (Number(flags.substr(1, 1))) {\n          let rightEdge = document.createElement('i'),\n            leftEdge = document.createElement('i');\n\n          rightEdge.setAttribute('class', 'edge horizontalEdge rightEdge fa');\n          nodeDiv.appendChild(rightEdge);\n          leftEdge.setAttribute('class', 'edge horizontalEdge leftEdge fa');\n          nodeDiv.appendChild(leftEdge);\n        }\n        if (Number(flags.substr(2, 1))) {\n          let bottomEdge = document.createElement('i'),\n            symbol = document.createElement('i'),\n            title = nodeDiv.querySelector(':scope > .title');\n\n          bottomEdge.setAttribute('class', 'edge verticalEdge bottomEdge fa');\n          nodeDiv.appendChild(bottomEdge);\n          symbol.setAttribute('class', 'fa ' + opts.parentNodeSymbol + ' symbol');\n          title.insertBefore(symbol, title.children[0]);\n        }\n      }\n\n      nodeDiv.addEventListener('mouseenter', that._hoverNode.bind(that));\n      nodeDiv.addEventListener('mouseleave', that._hoverNode.bind(that));\n      nodeDiv.addEventListener('click', that._dispatchClickEvent.bind(that));\n      if (opts.draggable) {\n        nodeDiv.addEventListener('dragstart', that._onDragStart.bind(that));\n        nodeDiv.addEventListener('dragover', that._onDragOver.bind(that));\n        nodeDiv.addEventListener('dragend', that._onDragEnd.bind(that));\n        nodeDiv.addEventListener('drop', that._onDrop.bind(that));\n      }\n      // allow user to append dom modification after finishing node create of orgchart\n      if (opts.createNode) {\n        opts.createNode(nodeDiv, nodeData);\n      }\n\n      resolve(nodeDiv);\n    });\n  }\n  buildHierarchy(appendTo, nodeData, level, callback) {\n    // Construct the node\n    let that = this,\n      opts = this.options,\n      nodeWrapper,\n      childNodes = nodeData.children,\n      isVerticalNode = opts.verticalDepth && (level + 1) >= opts.verticalDepth;\n\n    if (Object.keys(nodeData).length > 1) { // if nodeData has nested structure\n      nodeWrapper = isVerticalNode ? appendTo : document.createElement('table');\n      if (!isVerticalNode) {\n        appendTo.appendChild(nodeWrapper);\n      }\n      this._createNode(nodeData, level)\n      .then(function (nodeDiv) {\n        if (isVerticalNode) {\n          nodeWrapper.insertBefore(nodeDiv, nodeWrapper.firstChild);\n        } else {\n          let tr = document.createElement('tr');\n\n          tr.innerHTML = `\n            <td ${childNodes ? `colspan=\"${childNodes.length * 2}\"` : ''}>\n            </td>\n          `;\n          tr.children[0].appendChild(nodeDiv);\n          nodeWrapper.insertBefore(tr, nodeWrapper.children[0] ? nodeWrapper.children[0] : null);\n        }\n        if (callback) {\n          callback();\n        }\n      })\n      .catch(function (err) {\n        console.error('Failed to creat node', err);\n      });\n    }\n    // Construct the inferior nodes and connectiong lines\n    if (childNodes) {\n      if (Object.keys(nodeData).length === 1) { // if nodeData is just an array\n        nodeWrapper = appendTo;\n      }\n      let isHidden,\n        isVerticalLayer = opts.verticalDepth && (level + 2) >= opts.verticalDepth,\n        inEdit = that.chart.dataset.inEdit;\n\n      if (inEdit) {\n        isHidden = inEdit === 'addSiblings' ? '' : ' hidden';\n      } else {\n        isHidden = level + 1 >= opts.depth ? ' hidden' : '';\n      }\n\n      // draw the line close to parent node\n      if (!isVerticalLayer) {\n        let tr = document.createElement('tr');\n\n        tr.setAttribute('class', 'lines' + isHidden);\n        tr.innerHTML = `\n          <td colspan=\"${ childNodes.length * 2 }\">\n            <div class=\"downLine\"></div>\n          </td>\n        `;\n        nodeWrapper.appendChild(tr);\n      }\n      // draw the lines close to children nodes\n      let lineLayer = document.createElement('tr');\n\n      lineLayer.setAttribute('class', 'lines' + isHidden);\n      lineLayer.innerHTML = `\n        <td class=\"rightLine\">&nbsp;</td>\n        ${childNodes.slice(1).map(() => `\n          <td class=\"leftLine topLine\">&nbsp;</td>\n          <td class=\"rightLine topLine\">&nbsp;</td>\n          `).join('')}\n        <td class=\"leftLine\">&nbsp;</td>\n      `;\n      let nodeLayer;\n\n      if (isVerticalLayer) {\n        nodeLayer = document.createElement('ul');\n        if (isHidden) {\n          nodeLayer.classList.add(isHidden.trim());\n        }\n        if (level + 2 === opts.verticalDepth) {\n          let tr = document.createElement('tr');\n\n          tr.setAttribute('class', 'verticalNodes' + isHidden);\n          tr.innerHTML = `<td></td>`;\n          tr.firstChild.appendChild(nodeLayer);\n          nodeWrapper.appendChild(tr);\n        } else {\n          nodeWrapper.appendChild(nodeLayer);\n        }\n      } else {\n        nodeLayer = document.createElement('tr');\n        nodeLayer.setAttribute('class', 'nodes' + isHidden);\n        nodeWrapper.appendChild(lineLayer);\n        nodeWrapper.appendChild(nodeLayer);\n      }\n      // recurse through children nodes\n      childNodes.forEach((child) => {\n        let nodeCell;\n\n        if (isVerticalLayer) {\n          nodeCell = document.createElement('li');\n        } else {\n          nodeCell = document.createElement('td');\n          nodeCell.setAttribute('colspan', 2);\n        }\n        nodeLayer.appendChild(nodeCell);\n        that.buildHierarchy(nodeCell, child, level + 1, callback);\n      });\n    }\n  }\n  _clickChart(event) {\n    let closestNode = this._closest(event.target, function (el) {\n      return el.classList && el.classList.contains('node');\n    });\n\n    if (!closestNode && this.chart.querySelector('.node.focused')) {\n      this.chart.querySelector('.node.focused').classList.remove('focused');\n    }\n  }\n  _clickExportButton() {\n    let opts = this.options,\n      chartContainer = this.chartContainer,\n      mask = chartContainer.querySelector(':scope > .mask'),\n      sourceChart = chartContainer.querySelector('.orgchart:not(.hidden)'),\n      flag = opts.direction === 'l2r' || opts.direction === 'r2l';\n\n    if (!mask) {\n      mask = document.createElement('div');\n      mask.setAttribute('class', 'mask');\n      mask.innerHTML = `<i class=\"fa fa-circle-o-notch fa-spin spinner\"></i>`;\n      chartContainer.appendChild(mask);\n    } else {\n      mask.classList.remove('hidden');\n    }\n      chartContainer.classList.add('canvasContainer');\n   \n    window.html2canvas(sourceChart, {\n      'width': flag ? sourceChart.clientHeight : sourceChart.clientWidth,\n      'height': flag ? sourceChart.clientWidth : sourceChart.clientHeight,\n      'onclone': function (cloneDoc) {\n        let canvasContainer = cloneDoc.querySelector('.canvasContainer');\n\n        canvasContainer.style.overflow = 'visible';\n        canvasContainer.querySelector('.orgchart:not(.hidden)').transform = '';\n      }\n    })\n    .then((canvas) => {\n      let downloadBtn = chartContainer.querySelector('.oc-download-btn');\n\n      chartContainer.querySelector('.mask').classList.add('hidden');\n      downloadBtn.setAttribute('href', canvas.toDataURL());\n      downloadBtn.click();\n    })\n    .catch((err) => {\n      console.error('Failed to export the curent orgchart!', err);\n    })\n    .finally(() => {\n      chartContainer.classList.remove('canvasContainer');\n    });\n  }\n  _loopChart(chart) {\n    let subObj = { 'id': chart.querySelector('.node').id };\n\n    if (chart.children[3]) {\n      Array.from(chart.children[3].children).forEach((el) => {\n        if (!subObj.children) { subObj.children = []; }\n        subObj.children.push(this._loopChart(el.firstChild));\n      });\n    }\n    return subObj;\n  }\n  getHierarchy() {\n    if (!this.chart.querySelector('.node').id) {\n      return 'Error: Nodes of orghcart to be exported must have id attribute!';\n    }\n    return this._loopChart(this.chart.querySelector('table'));\n  }\n  _onPanStart(event) {\n    let chart = event.currentTarget;\n\n    if (this._closest(event.target, (el) => el.classList && el.classList.contains('node')) ||\n      (event.touches && event.touches.length > 1)) {\n      chart.dataset.panning = false;\n      return;\n    }\n    chart.style.cursor = 'move';\n    chart.dataset.panning = true;\n\n    let lastX = 0,\n      lastY = 0,\n      lastTf = window.getComputedStyle(chart).transform;\n\n    if (lastTf !== 'none') {\n      let temp = lastTf.split(',');\n\n      if (!lastTf.includes('3d')) {\n        lastX = Number.parseInt(temp[4], 10);\n        lastY = Number.parseInt(temp[5], 10);\n      } else {\n        lastX = Number.parseInt(temp[12], 10);\n        lastY = Number.parseInt(temp[13], 10);\n      }\n    }\n    let startX = 0,\n      startY = 0;\n\n    if (!event.targetTouches) { // pan on desktop\n      startX = event.pageX - lastX;\n      startY = event.pageY - lastY;\n    } else if (event.targetTouches.length === 1) { // pan on mobile device\n      startX = event.targetTouches[0].pageX - lastX;\n      startY = event.targetTouches[0].pageY - lastY;\n    } else if (event.targetTouches.length > 1) {\n      return;\n    }\n    chart.dataset.panStart = JSON.stringify({ 'startX': startX, 'startY': startY });\n    chart.addEventListener('mousemove', this._onPanning.bind(this));\n    chart.addEventListener('touchmove', this._onPanning.bind(this));\n  }\n  _onPanning(event) {\n    let chart = event.currentTarget;\n\n    if (chart.dataset.panning === 'false') {\n      return;\n    }\n    let newX = 0,\n      newY = 0,\n      panStart = JSON.parse(chart.dataset.panStart),\n      startX = panStart.startX,\n      startY = panStart.startY;\n\n    if (!event.targetTouches) { // pand on desktop\n      newX = event.pageX - startX;\n      newY = event.pageY - startY;\n    } else if (event.targetTouches.length === 1) { // pan on mobile device\n      newX = event.targetTouches[0].pageX - startX;\n      newY = event.targetTouches[0].pageY - startY;\n    } else if (event.targetTouches.length > 1) {\n      return;\n    }\n    let lastTf = window.getComputedStyle(chart).transform;\n\n    if (lastTf === 'none') {\n      if (!lastTf.includes('3d')) {\n        chart.style.transform = 'matrix(1, 0, 0, 1, ' + newX + ', ' + newY + ')';\n      } else {\n        chart.style.transform = 'matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ' + newX + ', ' + newY + ', 0, 1)';\n      }\n    } else {\n      let matrix = lastTf.split(',');\n\n      if (!lastTf.includes('3d')) {\n        matrix[4] = newX;\n        matrix[5] = newY + ')';\n      } else {\n        matrix[12] = newX;\n        matrix[13] = newY;\n      }\n      chart.style.transform = matrix.join(',');\n    }\n  }\n  _onPanEnd(event) {\n    let chart = this.chart;\n\n    if (chart.dataset.panning === 'true') {\n      chart.dataset.panning = false;\n      chart.style.cursor = 'default';\n      document.body.removeEventListener('mousemove', this._onPanning);\n      document.body.removeEventListener('touchmove', this._onPanning);\n    }\n  }\n  _setChartScale(chart, newScale) {\n    let lastTf = window.getComputedStyle(chart).transform;\n\n    if (lastTf === 'none') {\n      chart.style.transform = 'scale(' + newScale + ',' + newScale + ')';\n    } else {\n      let matrix = lastTf.split(',');\n\n      if (!lastTf.includes('3d')) {\n        matrix[0] = 'matrix(' + newScale;\n        matrix[3] = newScale;\n        chart.style.transform = lastTf + ' scale(' + newScale + ',' + newScale + ')';\n      } else {\n        chart.style.transform = lastTf + ' scale3d(' + newScale + ',' + newScale + ', 1)';\n      }\n    }\n    chart.dataset.scale = newScale;\n  }\n  _onWheeling(event) {\n    event.preventDefault();\n\n    let newScale = event.deltaY > 0 ? 0.8 : 1.2;\n\n    this._setChartScale(this.chart, newScale);\n  }\n  _getPinchDist(event) {\n    return Math.sqrt((event.touches[0].clientX - event.touches[1].clientX) *\n      (event.touches[0].clientX - event.touches[1].clientX) +\n      (event.touches[0].clientY - event.touches[1].clientY) *\n      (event.touches[0].clientY - event.touches[1].clientY));\n  }\n  _onTouchStart(event) {\n    let chart = this.chart;\n\n    if (event.touches && event.touches.length === 2) {\n      let dist = this._getPinchDist(event);\n\n      chart.dataset.pinching = true;\n      chart.dataset.pinchDistStart = dist;\n    }\n  }\n  _onTouchMove(event) {\n    let chart = this.chart;\n\n    if (chart.dataset.pinching) {\n      let dist = this._getPinchDist(event);\n\n      chart.dataset.pinchDistEnd = dist;\n    }\n  }\n  _onTouchEnd(event) {\n    let chart = this.chart;\n\n    if (chart.dataset.pinching) {\n      chart.dataset.pinching = false;\n      let diff = chart.dataset.pinchDistEnd - chart.dataset.pinchDistStart;\n\n      if (diff > 0) {\n        this._setChartScale(chart, 1);\n      } else if (diff < 0) {\n        this._setChartScale(chart, -1);\n      }\n    }\n  }\n}\n", "export default function appendStyle() {\n\n    var Linkx = document.createElement('style')\n    Linkx.textContent = `\n    .scrollable {\n            max-height: 200px;\n            overflow-y: auto;\n            padding: 10px;\n        }\n\n.left-panel-class {\n  position: fixed; /* Sticks to the left side of the page */\ndisplay: flex;\n     flex-direction: row; /* Align children in a row */\n    z-index: 9999; /* Bring the panel to the front */\n  background-color: #f4f4f4; /* Light gray background */\n  border-right: 1px solid #ccc; /* Optional border */\n  padding: 15px; /* Padding inside the panel */\n}\n\n.nested {\n    list-style-type: none;\n    padding-left: 20px; /* Indent nested lists */\n    margin-left: 10px; /* Provide left margin for nested lists */\n    display: block; /* Ensure it's vertically aligned */\n}\n\n\n\n/* Add some space between the checkbox and text */\n.filterCheckBox {\n    margin-left: 10px;\n}\n.OrgChartFilterCheckBox {\n    margin-left: 10px;\n}\n/* Optional: Style the toggle button */\n.toggle {\n    cursor: pointer;\n    color: #007BFF;\n    text-decoration: underline;\n    margin-right: 10px; /* Space between the toggle and checkbox */\n}\n.select2-container {\n    width: 100% !important;  /* Ensure Select2 matches the input width */\n    box-sizing: border-box;\n}\n\n.select2-selection {\n    height: 100% !important;  /* Match input height */\n    line-height: normal;\n}\n\n.select2-selection__rendered {\n    padding: 8px !important;  /* Adjust text alignment */\n}\n\n.select2-selection__arrow {\n    height: 100% !important;\n}\n\n.select2-container .select2-choice {\n    height: 100% !important;\n    line-height: normal;\n    padding: 0 8px;\n}\n\n    .flex-container {\n        display: flex;\n     flex-direction: row; /* Align children in a row */\n}\n\n    .icon {\n    position: fixed; /* Fix the position relative to the viewport */\n    bottom: 20px;    /* Distance from the bottom */\n    right: 20px;     /* Distance from the right */\n    width: 50px;     /* Width of the icon */\n    height: 50px;    /* Height of the icon */\n    z-index: 1000;   /* Ensure it is above other content */\n}\n\n.flex-container {\n  display: flex;\n  border: 1px solid #ccc;\n  padding: 10px;\n  box-sizing: border-box; /* Includes padding and border in width/height */\n}\n\n     .CardContent {\n            background-color: lightblue;\n            padding: 20px;\n            width: auto;\n            align-items: center; /* Optional: aligns items vertically centered */\n                white-space: nowrap; /* Prevents text from wrapping */\n        }\n\n.CardContent span {\n    display: block; /* Ensures each span is on a new line */\n    margin-bottom: 5px; /* Adds space between the lines */\n    font-style: italic; /* Applies italic styling */\n}\n.CardTitle span {\n    display: block; /* Ensures each span is on a new line */\n    margin-bottom: 5px; /* Adds space between the lines */\n    font-family: Arial; /* Applies italic styling */\n}\n   #SectionTable {\n    table-layout: auto; /* Allow the table to resize based on content */\n    width: 100%;\n      border-collapse: collapse; /* Optional: removes space between borders */\n\n  }\n  \n        .CardTitle {\n            background-color: #eee2ed;\n            padding: 20px;\n            width: auto;\n               white-space: nowrap; /* Prevents text from wrapping */\n    align-items: center; /* Optional: aligns items vertically centered */\n        }\n\n            .dragging{z-index:111!important}.block{position:absolute;z-index:9}.indicator{width:12px;height:12px;border-radius:60px;background-color:#217ce8;margin-top:-5px;opacity:1;transition:all .3s cubic-bezier(.05,.03,.35,1);transform:scale(1);position:absolute;z-index:2}.invisible{opacity:0!important;transform:scale(0)}.indicator:after{content:\"\";display:block;width:12px;height:12px;background-color:#217ce8;transform:scale(1.7);opacity:.2;border-radius:60px}.arrowblock{position:absolute;width:100%;overflow:visible;pointer-events:none}.arrowblock svg{width: -webkit-fill-available;overflow: visible;}\n\n  .side-div {\n    display: flex;\n    flex-direction: row; /* Aligns child elements in a row */\n    background-color: #f1f1f1;\n}\n  .wrapper{\n    overflow-x: auto;\n}\n\n  .chart-side-div {\n    display: flex;\n    flex-direction: row; /* Aligns child elements in a row */\n    width: auto;\n       background-color: #ffffff;\n    min-height: 100px; /* Sets a minimum height */\n    position: relative; /* Required for absolute positioning of ::before */\n}\n\n    .content {\n    background-color: #f8f9fa;\n    }\n    .tab {\n          overflow: hidden;\n          border: 1px solid #ccc;\n          background-color: #f1f1f1;\n        }\n        .tab button {\n          background-color: inherit;\n          float: left;\n          border: none;\n          outline: none;\n          cursor: pointer;\n          padding: 14px 16px;\n          transition: 0.3s;\n        }\n        .tab button:hover {\n          background-color: #ddd;\n        }\n        .tab button.active {\n          background-color: #ccc;\n        }\n        .tabcontent {\n          display: none;\n          padding: 6px 12px;\n          border: 1px solid #ccc;\n          border-top: none;\n            animation: fadeEffect 1s; /* Fading effect takes 1 second */\n\n        }\n        @keyframes fadeEffect {\n          from {opacity: 0;}\n          to {opacity: 1;}\n        }\n   .EmployeeImg {\n    width: 100%;\n    height: auto; /* Maintain aspect ratio */\n    object-fit: cover; /* Or 'contain' depending on your requirement */\n}\n\n\n#chart-container {\n    background-color: #f8f9fa;\n  height: auto;\n  border: 1px solid #aaa;\n  margin: 0.5rem;\n}\n\n#orgChartContainer {\n    background-color: #f8f9fa;\n  height: auto;\n  border: 1px solid #aaa;\n  margin: 0.5rem;\n}\n\n  .content {\n       display: flex;\n    flex-direction: column; /* Stack children vertically */\nheight: 100vh; /* Make sure the body and html take full height */\nmargin: 0;\n        }\n\n#GridDiv {\n\n  display: block;\noverflow: hidden;\nposition: relative;\n}\n\n .div2 {\n    flex: 0.5; /* Takes 7 parts of the total height */\n\nheight:10%;\n}\n\n.orgchart {\n  box-sizing: border-box;\n  display: inline-block;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  linear-gradient(to right, rgba(200, 0, 0, 0.15) 5%, rgba(0, 0, 0, 0) 5%),\n  linear-gradient(to bottom, rgba(200, 0, 0, 0.15) 5%, rgba(0, 0, 0, 0) 5%),\n  linear-gradient(to left, rgba(200, 0, 0, 0.15) 5%, rgba(0, 0, 0, 0) 5%);\n  background-size: 10px 10px; /* background square size */\n  padding: 20px 20px 0 20px;\n  /* border: 0.5px solid rgba(200, 0, 0, 0.15); */\n}\n\n.orgchart .hidden, .orgchart~.hidden {\n  display: none;\n}\n\n.orgchart div,\n.orgchart div::before,\n.orgchart div::after {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\n\n.orgchart.b2t {\n  -ms-transform: rotate(180deg);\n  -moz-transform: rotate(180deg);\n  -webkit-transform: rotate(180deg);\n  transform: rotate(180deg);\n}\n\n.orgchart.l2r {\n  position: absolute;\n  -ms-transform: rotate(-90deg) rotateY(180deg);\n  -moz-transform: rotate(-90deg) rotateY(180deg);\n  -webkit-transform: rotate(-90deg) rotateY(180deg);\n  transform: rotate(-90deg) rotateY(180deg);\n  -ms-transform-origin: left top;\n  -moz-transform-origin: left top;\n  -webkit-transform-origin: left top;\n  transform-origin: left top;\n}\n\n.orgchart .verticalNodes ul {\n  list-style: none;\n  margin: 0;\n  padding-left: 18px;\n  text-align: left;\n}\n\n.orgchart .verticalNodes ul:first-child {\n  margin-top: 3px;\n}\n\n.orgchart .verticalNodes>td::before {\n  content: '';\n  border: 1px solid #AFAFAF;\n\n}\n\n.orgchart .verticalNodes>td>ul>li:first-child::before {\n  top: -4px;\n  height: 30px;\n  width: calc(50% - 2px);\n  border-width: 2px 0 0 2px;\n}\n\n.orgchart .verticalNodes ul>li {\n  position: relative;\n}\n\n.orgchart .verticalNodes ul>li::before,\n.orgchart .verticalNodes ul>li::after {\n  content: '';\n  position: absolute;\n  left: -6px;\n  border-color: #AFAFAF;\n  border-style: solid;\n  border-width: 0 0 2px 2px;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\n\n.orgchart .verticalNodes ul>li::before {\n  top: -4px;\n  height: 30px;\n  width: 11px;\n}\n\n.orgchart .verticalNodes ul>li::after {\n  top: 1px;\n  height: 100%;\n}\n\n.orgchart .verticalNodes ul>li:first-child::after {\n  top: 24px;\n  width: 11px;\n  border-width: 2px 0 0 2px;\n}\n\n.orgchart .verticalNodes ul>li:last-child::after {\n  border-width: 2px 0 0;\n}\n\n.orgchart.r2l {\n  position: absolute;\n  -ms-transform: rotate(90deg);\n  -moz-transform: rotate(90deg);\n  -webkit-transform: rotate(90deg);\n  transform: rotate(90deg);\n  -ms-transform-origin: left top;\n  -moz-transform-origin: left top;\n  -webkit-transform-origin: left top;\n  transform-origin: left top;\n}\n\n.orgchart>.spinner {\n  font-size: 100px;\n  margin-top: 30px;\n  color: rgba(68, 157, 68, 0.8);\n}\n\n.orgchart table {\n  border-spacing: 0;\n  border-collapse: separate;\n}\n\n.orgchart>table:first-child{\n  margin: 20px auto;\n}\n\n.orgchart td {\n  text-align: center;\n  vertical-align: top;\n  padding: 0;\n}\n\n.orgchart tr.lines .topLine {\n  border-top: 2px solid #AFAFAF;\n}\n\n.orgchart tr.lines .rightLine {\n  border-right: 1px solid  #AFAFAF;\n  float: none;\n  border-radius: 0;\n}\n\n.orgchart tr.lines .leftLine {\n  border-left: 1px solid  #AFAFAF;\n  float: none;\n  border-radius: 0;\n}\n\n.orgchart tr.lines .downLine {\n  background-color:  #AFAFAF;\n  margin: 0 auto;\n  height: 20px;\n  width: 2px;\n  float: none;\n}\n\n/* node styling */\n.orgchart .node {\n         display: flex;\n  box-sizing: border-box;\n  display: inline-block;\n  position: relative;\n    margin: 0 0 20px 0;\n  padding: 3px;\n  border: 2px dashed transparent;\n  text-align: center;\n    flex-direction: row; /* Align children in a row */\n\n}\n\n.orgchart.l2r .node, .orgchart.r2l .node {\n  width: 50px;\n  height: 130px;\n}\n\n.orgchart .node>.hazy {\n  opacity: 0.2;\n}\n\n.orgchart .node>.spinner {\n  position: absolute;\n  top: calc(50% - 15px);\n  left: calc(50% - 15px);\n  vertical-align: middle;\n  font-size: 30px;\n  color: rgba(68, 157, 68, 0.8);\n}\n\n.delete-node-icon {\n    /* Hide any potential background, border, or box-shadow */\n    background: none; /* Remove background color */\n    border: none; /* Remove border */\n    box-shadow: none; /* Remove box-shadow */\n}\n\n.delete-node-icon.active {\n    /* Adjust this based on the class or state that triggers the rectangle */\n    background: none;\n    border: none;\n    box-shadow: none;\n}\n\n.orgchart .node:hover {\n    background-color:#BFBFBF;\n\n  transition: .5s;\n}\n\n\n.orgchart .ghost-node {\n  position: fixed;\n  left: -10000px;\n  top: -10000px;\n}\n\n.orgchart .ghost-node rect {\n  fill: #ffffff;\n  stroke: #bf0000;\n}\n\n.orgchart .node.allowedDrop {\n  border-color: rgba(68, 157, 68, 0.9);\n}\n\n\n\n.orgchart.b2t .node .title {\n  -ms-transform: rotate(-180deg);\n  -moz-transform: rotate(-180deg);\n  -webkit-transform: rotate(-180deg);\n  transform: rotate(-180deg);\n  -ms-transform-origin: center bottom;\n  -moz-transform-origin: center bottom;\n  -webkit-transform-origin: center bottom;\n  transform-origin: center bottom;\n    \n}\n\n.orgchart.l2r .node .title {\n  -ms-transform: rotate(-90deg) translate(-40px, -40px) rotateY(180deg);\n  -moz-transform: rotate(-90deg) translate(-40px, -40px) rotateY(180deg);\n  -webkit-transform: rotate(-90deg) translate(-40px, -40px) rotateY(180deg);\n  transform: rotate(-90deg) translate(-40px, -40px) rotateY(180deg);\n  -ms-transform-origin: bottom center;\n  -moz-transform-origin: bottom center;\n  -webkit-transform-origin: bottom center;\n  transform-origin: bottom center;\n  width: 120px;\n}\n\n.orgchart.r2l .node .title {\n  -ms-transform: rotate(-90deg) translate(-40px, -40px);\n  -moz-transform: rotate(-90deg) translate(-40px, -40px);\n  -webkit-transform: rotate(-90deg) translate(-40px, -40px);\n  transform: rotate(-90deg) translate(-40px, -40px);\n  -ms-transform-origin: bottom center;\n  -moz-transform-origin: bottom center;\n  -webkit-transform-origin: bottom center;\n  transform-origin: bottom center;\n  width: 120px;\n}\n\n.orgchart .node .title .symbol {\n  float: left;\n  margin-top: 4px;\n  margin-left: 2px;\n}\n\n\n.orgchart .node .title {\n  box-sizing: border-box;\n  width: 120px;\n  text-align: center;\n  font-size: 12px;\n  font-weight: bold;\n  height: 20px;\n  line-height: 20px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n    background-color: #f1f1f1;\n\n  color:#A9A9A9;\n  border-radius: 4px 4px 0 0;\n}\n.orgchart .node .content {\n  box-sizing: border-box;\n  width: 120px;\n  height: 20px;\n  line-height: 20px;\n  font-size: 10px;\n  border: 1px solid rgba(217, 83, 79, 0.8);\n  border-width: 0 1px 1px 1px;\n  border-radius: 0 0 0.25rem 0.25rem;\n  text-align: center;\n  background-color: #fff;\n  color: #333;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n\n.orgchart.b2t .node .content {\n  -ms-transform: rotate(180deg);\n  -moz-transform: rotate(180deg);\n  -webkit-transform: rotate(180deg);\n  transform: rotate(180deg);\n  -ms-transform-origin: center top;\n  -moz-transform-origin: center top;\n  -webkit-transform-origin: center top;\n  transform-origin: center top;\n}\n\n.orgchart.l2r .node .content {\n  -ms-transform: rotate(-90deg) translate(-40px, -40px) rotateY(180deg);\n  -moz-transform: rotate(-90deg) translate(-40px, -40px) rotateY(180deg);\n  -webkit-transform: rotate(-90deg) translate(-40px, -40px) rotateY(180deg);\n  transform: rotate(-90deg) translate(-40px, -40px) rotateY(180deg);\n  -ms-transform-origin: top center;\n  -moz-transform-origin: top center;\n  -webkit-transform-origin: top center;\n  transform-origin: top center;\n  width: 120px;\n}\n\n.orgchart.r2l .node .content {\n  -ms-transform: rotate(-90deg) translate(-40px, -40px);\n  -moz-transform: rotate(-90deg) translate(-40px, -40px);\n  -webkit-transform: rotate(-90deg) translate(-40px, -40px);\n  transform: rotate(-90deg) translate(-40px, -40px);\n  -ms-transform-origin: top center;\n  -moz-transform-origin: top center;\n  -webkit-transform-origin: top center;\n  transform-origin: top center;\n  width: 200px;\n}\n\n.orgchart .node .edge {\n  font-size: 15px;\n  position: absolute;\n  color: rgba(68, 157, 68, 0.5);\n  cursor: default;\n  transition: .2s;\n  -webkit-transition: .2s;\n}\n\n.orgchart.noncollapsable .node .edge {\n  display: none;\n}\n\n.orgchart .edge:hover {\n  color: #449d44;\n  cursor: pointer;\n}\n\n.orgchart .node .verticalEdge {\n  width: calc(100% - 10px);\n  width: -webkit-calc(100% - 10px);\n  width: -moz-calc(100% - 10px);\n  left: 5px;\n}\n\n.orgchart .node .topEdge {\n  top: -4px;\n}\n\n.orgchart .node .bottomEdge {\n  bottom: -4px;\n}\n\n.orgchart .node .horizontalEdge {\n  width: 15px;\n  height: calc(100% - 10px);\n  height: -webkit-calc(100% - 10px);\n  height: -moz-calc(100% - 10px);\n  top: 5px;\n}\n\n.orgchart .node .rightEdge {\n  right: -4px;\n}\n\n.orgchart .node .leftEdge {\n  left: -4px;\n}\n\n.orgchart .node .horizontalEdge::before {\n  position: absolute;\n  top: calc(50% - 7px);\n  top: -webkit-calc(50% - 7px);\n  top: -moz-calc(50% - 7px);\n}\n\n.orgchart .node .rightEdge::before {\n  right: 3px;\n}\n\n.orgchart .node .leftEdge::before {\n  left: 3px;\n}\n\n.orgchart .node .toggleBtn {\n  position: absolute;\n  left: 5px;\n  bottom: -2px;\n  color: rgba(68, 157, 68, 0.6);\n}\n\n.orgchart .node .toggleBtn:hover {\n  color: rgba(68, 157, 68, 0.8);\n}\n\n.oc-export-btn {\n  display: inline-block;\n  position: absolute;\n  right: 5px;\n  top: 5px;\n  padding: 6px 12px;\n  margin-bottom: 0;\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 1.42857143;\n  text-align: center;\n  white-space: nowrap;\n  vertical-align: middle;\n  -ms-touch-action: manipulation;\n  touch-action: manipulation;\n  cursor: pointer;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  color: #fff;\n  background-color: #5cb85c;\n  border: 1px solid transparent;\n  border-color: #4cae4c;\n  border-radius: 4px;\n}\n\n.oc-export-btn:hover,.oc-export-btn:focus,.oc-export-btn:active  {\n  background-color: #449d44;\n  border-color: #347a34;\n}\n\n.orgchart~.mask {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 999;\n  text-align: center;\n  background-color: rgba(0,0,0,0.3);\n}\n\n.orgchart~.mask .spinner {\n  position: absolute;\n  top: calc(50% - 54px);\n  left: calc(50% - 54px);\n  color: rgba(255,255,255,0.8);\n  font-size: 108px;\n}\n\n.orgchart .node {\n  -webkit-transition: all 0.3s;\n  transition: all 0.3s;\n  top: 0;\n  left: 0;\n}\n\n.orgchart .slide-down {\n  opacity: 0;\n  top: 40px;\n}\n\n.orgchart.l2r .node.slide-down, .orgchart.r2l .node.slide-down {\n  top: 130px;\n}\n\n.orgchart .slide-up {\n  opacity: 0;\n  top: -40px;\n}\n\n.orgchart.l2r .node.slide-up, .orgchart.r2l .node.slide-up {\n  top: -130px;\n}\n\n.orgchart .slide-right {\n  opacity: 0;\n  left: 130px;\n}\n\n.orgchart.l2r .node.slide-right, .orgchart.r2l .node.slide-right {\n  left: 40px;\n}\n\n.orgchart .slide-left {\n  opacity: 0;\n  left: -130px;\n}\n\n.orgchart.l2r .node.slide-left, .orgchart.r2l .node.slide-left {\n  left: -40px;\n}\n\n \n    .orgchart .node .title {\n        display:flex;\n      height: unset;\n      text-align: left;\n      line-height: 40px;\n      width: auto;\n    padding: 0 10px;\n\n    }\n     .select2-container {\n      width: 100% !important; /* Full width of the parent container */\n    }\n    .select2-dropdown {\n      width: 100% !important; /* Same width as the container */\n      box-sizing: border-box; /* Ensure padding and border are included in width calculation */\n    }\n\n    /* Ensure that the selection box is also full width */\n    .select2-selection {\n      width: 100% !important;\n      box-sizing: border-box;\n    }\n  #EmployeeSelection {\n    position: absolute;\n    border: 1px solid #ccc;\n    background: white;\n    z-index: 1000; /* Ensure it stays on top */\n  }\n    .orgchart .node .content {\n                display:flex;\n\n      text-align: left;\n      padding: 0 10px;\n      width: auto;\n      border: 1px\n    }\n    .orgchart .node .content .symbol {\n      color: #aaa;\n      margin-right: 20px;\n    }\n    .oci-leader::before, .oci-leader::after {\n      background-color: rgba(217, 83, 79, 0.8);\n    }\n    .orgchart .node .avatar {\n      width: 60px;\n      height: 60px;\n      float: left;\n      margin: 5px;\n\n    }\n    .orgchart .node .verticalEdge, .orgchart .node .horizontalEdge { display: none; }\n\n    .dot {\n  height: 15px;\n  width: 15px;\n      background-color: lightgreen; /* Set the dot color to green */\n        right: 0;\n        position: absolute;\n\n}\n\n.orgchart .node:hover {\n      background-color:#BFBFBF;\n}\n.dot:hover {\n  background-color: green; /* Change to green on hover */\n}\n.CheckBox:hover {\n  background-color: blue; /* Change to green on hover */\n}    \n.CheckBox:hover {\n  background-color: blue; /* Change to green on hover */\n}\n\n`\n\n    return Linkx\n}", "import { initFullHeightGridPage } from '@serenity-is/corelib/q';\nimport { OrganisationChartGrid } from './OrganisationChartGrid';\nimport OrgChart from \"../OrgChart.js/src/orgchart.js\"\nimport appendStyle from './OrgChartStyle';\nimport { isEmptyOrNull, serviceCall } from '@serenity-is/corelib/q';\nimport { isEmptyObject } from 'jquery';\nimport { EmployeeProfileRow, EmployeeProfileService } from '../../../ServerTypes/EmployeeProfile';\nimport { getLookup } from '@serenity-is/corelib/q';\nimport { EmployeeRightsService, FinalOrganisationChartService, FullProfileService, OrganisationChartService, SplitOrganisationChartService, SplitOrganisationStructureService } from '../../../ServerTypes/OrganisationChart';\nimport { DivisionService, SectionService, DepartmentService } from '../../../ServerTypes/OrganisationHierarchy';\nimport { confirmDialog, confirm, notifySuccess, notifyError, notifyInfo } from '@serenity-is/corelib/q';\nimport { Decorators, EditorUtils, EntityDialog, RetrieveResponse, Select2Editor, Criteria } from '@serenity-is/corelib';\nimport { alertDialog, Authorization } from '@serenity-is/corelib/q';\nimport { PermissionKeys } from '../../../ServerTypes/Administration';\nimport { EmployeeProfileDialog } from '../../EmployeeProfile/EmployeeProfile/EmployeeProfileDialog';\nimport { EmployeePersonalProfileDialog } from '../../EmployeeProfile/EmployeePersonalProfile/EmployeePersonalProfileDialog';\nimport { EmployeeBasicDataDialog } from '../../EmployeeBasicData/EmployeeBasicData/EmployeeBasicDataDialog';\nimport html2canvas from \"html2canvas\";\n\nexport default function pageInit() {\n    var firstTime = 1\n    var addedClass;\n    let addedIndex = 0\n\n    var removedNodeId;\n    let indexToRemove = 0;\n\n    interface ExtractedData {\n        hierarchyId: number | null;\n        id: string | null;\n        EmployeeRowId: number | null;\n        Rights: EmployeeAdminRights | null;\n    }\n    enum CardType {\n        DIRECTOR = 0,\n        DIVISION = 1,\n        DEPARTMENT = 2,\n        SECTION = 3\n    }\n\n    function isOrgChartOutOfView() {\r\n        const orgChart = document.querySelector('#chart-container .orgchart'); // Adjust selector if needed\n       // const orgChart = document.querySelector('#orgChartContainer .orgchart'); // Adjust selector if needed\r\n\r\n        if (!orgChart) return false;\r\n\r\n        const rect = orgChart.getBoundingClientRect();\r\n\r\n        return (\r\n            rect.right < 0 || // Fully outside left\r\n            rect.left > window.innerWidth || // Fully outside right\r\n            rect.bottom < 0 || // Fully outside top\r\n            rect.top > window.innerHeight // Fully outside bottom\r\n        );\r\n    }\n    enum DisplayMode {\n        DISPLAY = 0,\n        FILTERING = 1\n    }\n    let orgStructDisplay = DisplayMode.DISPLAY\n    let orgChartDisplay = DisplayMode.DISPLAY\n    enum ChartType {\n        OrgChart = 0,\n        OrgStruct = 1,\n    }\n    function scrollToParent() {\n        var chartToShift: string[] = ['#orgChartContainer', '#chart-container'];\n\n        for (let i = 0; i < chartToShift.length; i++) {\n            const orgChartContainer = document.querySelector(chartToShift[i]) as HTMLElement;\n            if (!orgChartContainer) {\n                console.log('aa')\n                continue; // Skip if container does not exist\n            }\n         \n            const parentNode = orgChartContainer.querySelector('.orgchart .DIRECTOR') as HTMLElement;\n            if (!parentNode) {\n\n                continue; // Skip if parent node does not exist\n            }\n            // Ensure container is scrollable\n            orgChartContainer.style.overflow = 'auto';\n            parentNode.scrollIntoView({ behavior: 'smooth', block: 'center', inline: 'center' });\n            // Try different scrolling methods\n        }\n    }    function capitalizeFirstLetter(string) {\n        if (isEmptyOrNull(string))\n            return ''; // Handle empty strings\n        // Convert the first character to uppercase and the rest to lowercase\n        return string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();\n    }\n    function getEnumNameFromValue(value: number): string | undefined {\n        return CardType[value];\n    }\n    function findMax(numbers: number[]): number {\n        if (numbers.length === 0)\n            throw new Error(\"The list is empty.\");\n        return Math.max(...numbers);\n    }\n    // Recursive function to extract all nodeContentPro values\n    function GenerateEmployeeChoosingDialog() {\n        var CustomDialog = document.createElement('dialog')\n        CustomDialog.style.top = \"50%\";\n        CustomDialog.style.left = \"50%\";\n        CustomDialog.style.transform = \"translate(-50%, -50%)\";\n        CustomDialog.innerHTML = `  <button id=\"confirmAddEmployee\" type=\"button\" class=\"btn btn-light btn-rounded   \" data-mdb-ripple-color=\"#ffffff\" style=\"background-color:#c2f0c2\">Confirm</button>  <button id=\"closeDialog\" type=\"button\" class=\"btn btn-light btn-rounded   \" data-mdb-ripple-color=\"#ffffff\" style=\"background-color:#ffcccc\">Close</button> <span style=\" white-space: nowrap;\" id = \"TargetElementSpan\"></span>`;\n        CustomDialog.id = \"EmployeeSelection\"\n        CustomDialog.addEventListener(\"\", () => {\n            CustomDialog.close();\n        });\n        const CustomDialogCloseButton = CustomDialog.querySelector(\"#closeDialog\") as HTMLButtonElement;\n        CustomDialogCloseButton.addEventListener(\"click\", () => {\n            CustomDialog.close();\n        });\n        const CustomDialogConfirmButton = CustomDialog.querySelector(\"#confirmAddEmployee\") as HTMLButtonElement;\n        CustomDialogConfirmButton.addEventListener(\"click\", async function(e) {\n\n            var EmployeeIdInput = document.getElementById('EmployeeIdInput') as HTMLInputElement;\n            if ($(EmployeeIdInput).val() == '') {\n                notifyError('Please fill in the Employee')\n                return\n            }\n            let ListCounter = 0, OccupationId\n            for (ListCounter = 0; ListCounter < ListOfEmployeeData.length; ListCounter++) {\n                if (ListOfEmployeeData[ListCounter].id == $(EmployeeIdInput).val()) {\n                    OccupationId = ListOfEmployeeData[ListCounter].OccupationId\n                    break\n                }\n            }\n            var str\n            for (var LookupIndex in OccupationTable.items) {\n                if (OccupationTable.items[LookupIndex].Id == OccupationId) {\n                    str = OccupationTable.items[LookupIndex].Name\n                    break\n                }\n            }\n\n            var FinalOrgChartBuffer = JSON.parse(JSON.stringify(datascource2))\n            var TargetedFinalOrgChartBuffer = FinalOrgChartBuffer\n            console.log(ElementToSetEmployeeInDialog)\n            TargetedFinalOrgChartBuffer = SearchById(TargetedFinalOrgChartBuffer, ElementToSetEmployeeInDialog)\n            SetEmployeeById(TargetedFinalOrgChartBuffer, ElementToSetEmployeeInDialog, parseInt($(EmployeeIdInput).val()))\n            datascource2 = FinalOrgChartBuffer\n            await GenerateSaveOrgStructure()\n            \n            var findEmployeeBuffer = JSON.parse(JSON.stringify(FinalDatascource2))\n            var TargetedFinalOrgChartBuffer = findEmployeeBuffer\n            var IsEmployeeInOrgChart = findEmployee(SplitOrgChartList, parseInt($(EmployeeIdInput).val()))\n            if (!isEmptyOrNull(IsEmployeeInOrgChart))//if the employee is in org chart\n            {           //after adding the employee into org struct remove the employee in orgchart\n                console.log(deleteNodeById(TargetedFinalOrgChartBuffer, IsEmployeeInOrgChart.id))\n            }\n            console.log(TargetedFinalOrgChartBuffer)\n            console.log(IsEmployeeInOrgChart)\n\n            FinalDatascource2 = findEmployeeBuffer\n\n            var findEmployeeBuffer = JSON.parse(JSON.stringify(FinalDatascource2))\n\n            var HierarchyLevelToSetEmployee = DecomposeStringToList(ElementToSetEmployeeInDialog, 0x88, 0x99)\n            var childrenHolder\n            TargetedFinalOrgChartBuffer = findEmployeeBuffer\n            for (let i = 0; i < HierarchyLevelToSetEmployee.length; i++)\n                TargetedFinalOrgChartBuffer = findByClassName(TargetedFinalOrgChartBuffer, HierarchyLevelToSetEmployee[i])\n            console.log(TargetedFinalOrgChartBuffer)\n\n            if (!isEmptyOrNull(TargetedFinalOrgChartBuffer.children))\n                childrenHolder = {\n                    ...TargetedFinalOrgChartBuffer.children\n                }\r\n\n            var insertNode: NodeRow = {\n                className: `EMPLOYEE${parseInt($(EmployeeIdInput).val())} Class`,\n                EmployeeRowId: parseInt($(EmployeeIdInput).val()),\n                id: `${TargetedFinalOrgChartBuffer.id}${EncodeString(`EMPLOYEE${parseInt($(EmployeeIdInput).val())}`, 0x88, 0x99)}`,\n                name: TargetedFinalOrgChartBuffer.name,\n                title: TargetedFinalOrgChartBuffer.title,\n                hierarchyLevel: TargetedFinalOrgChartBuffer.hierarchyLevel,\n                parentId: `${TargetedFinalOrgChartBuffer.id}`,\n                Rights: {\n                    Appraisal: false,\n                    LeaveApproval: false,\n                    OtApproval: false,\n                    MoneyClaiming: false,\n                    Training: false\n                }\n            }\n            addChildren(TargetedFinalOrgChartBuffer, TargetedFinalOrgChartBuffer.className, insertNode)\n            for (var res in childrenHolder) {\n                deleteNodeById(TargetedFinalOrgChartBuffer, childrenHolder[res].id)\n            }\n            if (!isEmptyOrNull(TargetedFinalOrgChartBuffer.children))\n            TargetedFinalOrgChartBuffer = findByClassName(TargetedFinalOrgChartBuffer, insertNode.className)\n            if (!isEmptyOrNull(childrenHolder)) {\n                for (var res in childrenHolder) \n                    addChildren(TargetedFinalOrgChartBuffer, insertNode.className, childrenHolder[res])\n            }\n            \n            FinalDatascource2 = findEmployeeBuffer\n\n\n            GenerateSaveOrgChart()\n\n\n            addedClass = `EMPLOYEE${parseInt($(EmployeeIdInput).val())}`\n            addedIndex = HierarchyLevelToSetEmployee.length\n            CustomDialog.close();\n\n            return\n            var findEmployeeBuffer = JSON.parse(JSON.stringify(FinalDatascource2))\n\n            var HierarchyLevelToSetEmployee = DecomposeStringToList(ElementToSetEmployeeInDialog, 0x88, 0x99)\n            var childrenHolder\n            TargetedFinalOrgChartBuffer = findEmployeeBuffer\n            for (let i = 0; i < HierarchyLevelToSetEmployee.length; i++) \n                TargetedFinalOrgChartBuffer = findByClassName(TargetedFinalOrgChartBuffer, HierarchyLevelToSetEmployee[i])\n            if (!isEmptyOrNull(TargetedFinalOrgChartBuffer.children))\n                childrenHolder = TargetedFinalOrgChartBuffer.children\n            var insertNode: NodeRow = {\n                className: `EMPLOYEE${parseInt($(EmployeeIdInput).val())} Class`,\n                EmployeeRowId: parseInt($(EmployeeIdInput).val()),\n                id: `${TargetedFinalOrgChartBuffer.id}${EncodeString(`EMPLOYEE${parseInt($(EmployeeIdInput).val())}`, 0x88, 0x99)}`,\n                name: str,\n                title: str,\n                hierarchyLevel: EmployeeEnum,\n                parentId: `${TargetedFinalOrgChartBuffer.id}`,\n                children: isEmptyOrNull(TargetedFinalOrgChartBuffer.children) ? null: childrenHolder\n            }\n\n\n\n\n            console.log(addChildren(TargetedFinalOrgChartBuffer, TargetedFinalOrgChartBuffer.className, insertNode))\n            FinalDatascource2 = findEmployeeBuffer\n            console.log(IsEmployeeInOrgChart)\n            console.log(findEmployeeBuffer)\n            console.log(ElementToSetEmployeeInDialog)\n\n            GenerateSaveOrgChart()\n          \n            /*\n            if (HierarchyLevelToSetEmployee.length > 1) {\n                for (let i = 1; i < HierarchyLevelToSetEmployee.length; i++) {\n                    HierarchyLevel = HierarchyLevelToSetEmployee[i]\n                    var HierarchyKey = getEnumNameFromValue(i)\n                    TargetedFinalOrgChartBuffer = findByClassName(TargetedFinalOrgChartBuffer, HierarchyLevel)\n                    var DatabaseData = `${HierarchyKey}${ListOfEmployeeData[ListCounter][capitalizeFirstLetter(HierarchyKey) + 'Id']} Class`\n                    if (DatabaseData != TargetedFinalOrgChartBuffer.className) {\n                        var correctDepartment = GetLookupValueFromId(capitalizeFirstLetter(getEnumNameFromValue(CardType.DEPARTMENT)), ListOfEmployeeData[ListCounter][capitalizeFirstLetter(getEnumNameFromValue(CardType.DEPARTMENT)) + 'Id'])\n                        var correctDivision = GetLookupValueFromId(capitalizeFirstLetter(getEnumNameFromValue(CardType.DIVISION)), ListOfEmployeeData[ListCounter][capitalizeFirstLetter(getEnumNameFromValue(CardType.DIVISION)) + 'Id'])\n                        var correctSection = GetLookupValueFromId(capitalizeFirstLetter(getEnumNameFromValue(CardType.SECTION)), ListOfEmployeeData[ListCounter][capitalizeFirstLetter(getEnumNameFromValue(CardType.SECTION)) + 'Id'])\n                        var string = `${ListOfEmployeeData[ListCounter][\"EmployeeName\"]} should be in `;\n                        if (!isEmptyOrNull(correctSection))\n                            string += `${correctSection} ${capitalizeFirstLetter(getEnumNameFromValue(CardType.SECTION))}, under `\n                        if (!isEmptyOrNull(correctDepartment))\n                            string += `${correctDepartment} ${capitalizeFirstLetter(getEnumNameFromValue(CardType.DEPARTMENT))}, under `\n                        if (!isEmptyOrNull(correctDivision))\n                            string += `${correctDivision} ${capitalizeFirstLetter(getEnumNameFromValue(CardType.DIVISION))}`\n                        alertDialog(string)\n                        break\n                    }\n                }\n            }\n            */\n            //HierarchyLevel = HierarchyLevelToSetEmployee[HierarchyLevelToSetEmployee.length - 1]\n            //SetEmployeeByClassName(TargetedFinalOrgChartBuffer, HierarchyLevel, parseInt($(EmployeeIdInput).val()))\n\n\n\n\n            addedClass = `EMPLOYEE${parseInt($(EmployeeIdInput).val())}`\n            addedIndex = HierarchyLevelToSetEmployee.length\n\n\n\n            //GenerateSaveOrgChart()\n\n            //GenerateOrgChartData()\n           // setCallbacks()\n\n            CustomDialog.close();\n        });\n        var CustomTable = document.createElement('table');\n        CustomTable.id = \"EmployeeSelectionTable\"\n        var CustomTableRow = document.createElement('tr');\n        var CustomTableRow2 = document.createElement('DIV');\n        var fragment = document.createElement(\"img\");\n        fragment.setAttribute(\"id\", \"employeeImg\");\n        fragment.width = 63;\n        fragment.height = 112.5;\n        fragment.style.display = 'block';\n        fragment.style.margin = '0 auto';\n        CustomTableRow2.appendChild(fragment)\n        var EmployeeIdTextNode = document.createElement('span');\n        EmployeeIdTextNode.textContent = \"ID\"\n        EmployeeIdTextNode.style.display = 'block'; // Ensure it's a block-level element\n        EmployeeIdTextNode.style.whiteSpace = 'nowrap'; // Prevent text from wrapping\n        var EmployeeIdTextNodeContainer = document.createElement('TD');\n        EmployeeIdTextNodeContainer.appendChild(EmployeeIdTextNode);\n        var EmployeeNameTextNode = document.createElement('span');\n        EmployeeNameTextNode.textContent = \"Name\"\n        EmployeeNameTextNode.style.display = 'block'; // Ensure it's a block-level element\n        EmployeeNameTextNode.style.whiteSpace = 'nowrap'; // Prevent text from wrapping\n        var EmployeeNameTextNodeContainer = document.createElement('TD');;\n        EmployeeNameTextNodeContainer.appendChild(EmployeeNameTextNode);\n\n        var EmployeeIdSelector = document.createElement('TD');\n        var EmployeeIdInput = document.createElement('input');\n        EmployeeIdInput.id = \"EmployeeIdInput\"\n        EmployeeIdSelector.appendChild(EmployeeIdInput)\n\n        var EmployeeNameSelector = document.createElement('TD');\n        var EmployeeNameInput = document.createElement('input');\n        EmployeeNameInput.id = \"EmployeeNameInput\"\n        EmployeeNameSelector.appendChild(EmployeeNameInput)\n\n        CustomTableRow.appendChild(EmployeeIdTextNodeContainer)\n        CustomTableRow.appendChild(EmployeeIdSelector)\n        CustomTableRow.appendChild(EmployeeNameTextNodeContainer)\n        CustomTableRow.appendChild(EmployeeNameSelector)\n        CustomTable.appendChild(CustomTableRow)\n        CustomDialog.appendChild(CustomTableRow2)\n        CustomDialog.appendChild(CustomTable)\n        document.body.appendChild(CustomDialog);\n\n        return CustomDialog\n    }\n    document.addEventListener('keydown', (e) => {\n        if (e.key === 'Escape') {\n            pdfDialog.close();\n            var dlg = document.getElementById('EmployeeSelection')\n            dlg.close();\n        }\n    });\n    function GeneratePdfDialog() {\n        var pdfDialog = document.createElement('dialog')\n        pdfDialog.id = 'pdfDialog'\n        pdfDialog.innerHTML = `\n    <button id=\"closePdf\" type=\"button\" style=\"position: absolute; top: 10px; right: 10px; background-color: #ffcccc; border: none; font-size: 20px; cursor: pointer;\">\n        &times;\n    </button>\n     <div id=\"pdfTitle\" style=\"margin: 20px 0; font-size: 20px;\"></div>\n\n     <div style=\"margin-top: 10px;\">\n        <button id=\"prevPdf\" class=\"pdf-nav-btn btn btn-light btn-rounded\">&lt;</button>\n        <button id=\"nextPdf\" class=\"pdf-nav-btn btn btn-light btn-rounded\">&gt;</button>\n    </div>\n`;\n\n        pdfDialog.style.border = \"none\"; // Optional: remove border for aesthetics\n        pdfDialog.style.width = \"80%\"; // Set a width for the dialog\n        pdfDialog.style.height = \"80%\"; // Set a height for the dialog\n        pdfDialog.style.transform = \"translate(-50%, -50%)\"; // Offset for centering\n        pdfDialog.style.position = \"fixed\"; // Fixed positioning\n        pdfDialog.style.top = \"50%\"; // Center vertically\n        pdfDialog.style.left = \"50%\"; // Center horizontally\n\n        const CustomDialogCloseButton = pdfDialog.querySelector(\"#closePdf\") as HTMLButtonElement;\n        CustomDialogCloseButton.addEventListener(\"click\", () => {\n            pdfDialog.close();\n        });\n        //img.src = `/upload/${imgPath}`;\n        var pdf = document.createElement('iframe')\n        //pdf.src = `/upload/EmployeeProfile/00000/00000034_ug53pfwxuh2sk.pdf`;\n        pdf.type = `application/pdf`\n        pdf.style.width = \"100%\"; // Full width of the dialog\n        pdf.style.height = \"calc(100% - 40px)\"; // Full height minus button height (adjust as needed)\n        pdf.id = 'pdf'\n        pdfDialog.appendChild(pdf)\n        document.body.appendChild(pdfDialog);\n        document.getElementById(\"prevPdf\").addEventListener(\"click\", () => {\n            currentPdfIndex = (currentPdfIndex - 1 + pdfSources.length) % pdfSources.length; // Loop to the end\n            updatePdf();\n        });\n\n        document.getElementById(\"nextPdf\").addEventListener(\"click\", () => {\n            currentPdfIndex = (currentPdfIndex + 1) % pdfSources.length; // Loop to the beginning\n            updatePdf();\n        });\n\n    }\n    function updatePdf() {\n        const pdfEmbed = document.getElementById(\"pdf\");\n        pdfEmbed.src = pdfSources[currentPdfIndex];\n        const pdfTitle = document.getElementById(\"pdfTitle\");\n        pdfTitle.textContent = pdfOriginalName[currentPdfIndex]; // Assuming you have access to the original name\n\n        document.getElementById(\"prevPdf\").disabled = currentPdfIndex === 0; // Disable if first PDF\n        document.getElementById(\"nextPdf\").disabled = currentPdfIndex === pdfSources.length - 1; // Disable if last PDF\n    }\n    GeneratePdfDialog()\n    var Style = null;\n    var DataPanStart = null;\n    const sortedValues = Object.values(CardType)\n        .filter(value => typeof value == 'number') // Ensure we are working with numbers\n        .sort((a, b) => b - a); // Sort in descending order\n    const numbers: number[] = [];\n    var ElementToSetEmployeeInDialog = '';\n    for (const key of Object.keys(CardType)) {\n        // Skip numeric keys which are reverse mappings\n        if (isNaN(Number(key))) {\n            const value = CardType[key as keyof typeof CardType];\n            numbers.push(value)\n        }\n    }\n    const minimmumVal = Math.min(...numbers);\n    const maximumVal: number = findMax(numbers);\n    const EmployeeEnum = maximumVal + 1\n    let EmployeeChoosingDialog = GenerateEmployeeChoosingDialog()\n    var StyleLink = appendStyle()\n    document.head.appendChild(StyleLink)\n    var container = document.createElement('div')\n    container.id = \"chart-container\"\n    container.className = \"BigTab\"\n    var DepartmentPanel = document.createElement('div')\n    DepartmentPanel.id = \"DepartmentPanel\"\n    DepartmentPanel.className = \"tabcontent\"\n    var DivisionPanel = document.createElement('div')\n    DivisionPanel.id = \"DivisionPanel\"\n    DivisionPanel.className = \"tabcontent\"\n    var SectionPanel = document.createElement('div')\n    SectionPanel.id = \"SectionPanel\"\n    SectionPanel.className = \"tabcontent\"\n    interface Node {\n        id: string;\n        name: string;   // The name of the person\n        title: string;  // The job title of the person\n        className: string;\n        children?: Node[];\n        hierarchyLevel: number;\n        hierarchyId: number;\n        childrenIndex?: number;\n        EmployeeRowId: number;\n        Rights?: EmployeeAdminRights;\n        extension?:number;\n    }\n    interface NodeRow {\n        rowId?: number\n        id: string;\n        EmployeeRowId: number;\n        name: string;\n        title: string;\n        className: string;\n        hierarchyLevel: number;\n        parentId: string | null; // Added parentId to track relationships\n        Rights?: EmployeeAdminRights;\n        children?: NodeRow[];\n        childrenIndex?: number;\n        hierarchyId?: number;\n        extension?:number;\n\n    }\n    interface NodeRights {\n        id: string;\n        Rights: EmployeeAdminRights;\n        EmployeeRowId: number;\n        nodeHierarchy: number;\n    }\n    interface Employee {\n        id: number;\n        Rights?: EmployeeAdminRights;\n        ImgPath: string;\n        JobDescPath?: string;\n        EmployeeId: string;\n        OccupationId: number;\n        EmployeeName: string;\n        DepartmentId: number;\n        DivisionId: number;\n        SectionId: number;\n        JobGradeId: number;\n        SalaryDetails: number;\n    }\n\n    interface EmployeeAdminRights {\n        LeaveApproval: boolean;\n        OtApproval: boolean;\n        MoneyClaiming: boolean;\n        Appraisal: boolean;\n        Training: boolean;\n    }\n\n    interface OrganisationHierarchy {\n        Id: number;\n        Name: string;\n    }\n    var ListOfDivision: OrganisationHierarchy[] = []\n    var ListOfDepartment: OrganisationHierarchy[] = []\n    var ListOfSection: OrganisationHierarchy[] = []\n    let SplitOrgChartList: NodeRow[] = []\n\n    var ListOfEmployeeData: Employee[] = []\n    var EmployeeFilter: any[] = [] //list for employee that has retired, terminated or resigned\n    //{'nodeTitlePro': hierarchy , 'id':'{Department/Division/Section Id}', 'name': '{EmployeeName}', 'title': 'Department/Division/Section Name', 'className': \"Hierarchy\" }\n    // node content pro is employee row id\n    let datascource\n    let datascource2\n    let FinalDatascource\n    let FinalDatascource2\n    var OccupationTable = getLookup(\"Occupation.Occupation\")\n    var JobGradeTable = getLookup(\"JobGrade.JobGrade\")\n    var criteria: any;\n    let ListOfEmployeeInEmployeeProfile: number[] = [];\n\n    let SectionList: number[] = [];\n    let DepartmentList: number[] = [];\n    let DivisionList: number[] = [];\n    var spareOrgStructJson = null;\n    var spareOrgChartJson = null;\n\n\n    let SplitOrgStructList: NodeRow[] = []\n\n    FullProfileService.List({\n\n    }, response => {\n        for (var index in response.Entities) {\n            if (response.Entities[index].Resigned == 1 ||\n                response.Entities[index].Terminated == 1 ||\n                response.Entities[index].Retired == 1\n                || response.Entities[index].IsActive == -1\n            ) {\n                EmployeeFilter.push(response.Entities[index].Id) // these are the employees to remove\n                continue\n            }\n            ListOfEmployeeInEmployeeProfile.push(response.Entities[index].Id)\n            ListOfEmployeeData.push({\n                'id': response.Entities[index].Id, 'ImgPath': response.Entities[index].EmployeeImg, 'OccupationId': response.Entities[index].OccupationId,\n                'EmployeeName': response.Entities[index].EmployeeName, 'EmployeeId': response.Entities[index].EmployeeId,\n                'DivisionId': response.Entities[index].DivisionId,\n                'DepartmentId': response.Entities[index].DepartmentId, \"SectionId\": response.Entities[index].SectionId,\n                'JobDescPath': response.Entities[index].JobDescription, \"JobGradeId\": response.Entities[index].JobGradeId,\n                'SalaryDetails': response.Entities[index].BasicSalary\n            })\n        }\n\n\n        OrganisationChartService.List({\n        }, response => {\n            if (response.Entities.length > 0)\n                spareOrgStructJson = response.Entities[0].OrgChart\n            GenerateOrgStructure()\n\n        })\n\n        FinalOrganisationChartService.List({\n        }, response => {\n            if (response.Entities.length > 0)\n                spareOrgChartJson = response.Entities[0].FinalOrgChart\n            GenerateOrgChart()\n        })\n\n\n        if (Authorization.userDefinition.Permissions[PermissionKeys.HumanResources])//is HR\n        {\n            DivisionService.List({}, response => {\n                var DivisionContent = document.createElement('div')\n                DivisionContent.className = 'side-div'\n                var DivisionTable = document.createElement('div')\n                DivisionTable.id = \"DivisionTable\"\n                DivisionTable.className = \"wrapper\"\n                DivisionContent.appendChild(DivisionTable)\n                var DivisionRow = document.createElement('div')\n                DivisionRow.className = \"wrapper\"\n\n                for (var index in response.Entities) {\n                    var ElementId = response.Entities[index].Id\n                    var CardText = response.Entities[index].Name\n                    ListOfDivision.push({\n                        Id: ElementId,\n                        Name: CardText\n                    })\n                    var EmployeeCard = GenerateCard(ElementId, CardText, CardType.DIVISION)\n                    EmployeeCard.className = \"item\"\n                    if (!isEmptyOrNull(EmployeeCard))\n                        DivisionRow.appendChild(EmployeeCard)\n                }\n                DivisionTable.appendChild(DivisionRow)\n                DivisionPanel.appendChild(DivisionContent)\n\n                DepartmentService.List({}, response => {\n                    var DepartmentContent = document.createElement('div')\n                    DepartmentContent.className = 'side-div'\n                    var DepartmentTable = document.createElement('div')\n                    DepartmentTable.id = \"DepartmentTable\"\n                    DepartmentTable.className = \"wrapper\"\n\n                    DepartmentContent.appendChild(DepartmentTable)\n                    var DepartmentRow = document.createElement('div')\n                    DepartmentRow.className = \"wrapper\"\n\n                    for (var index in response.Entities) {\n                        var ElementId = response.Entities[index].Id\n                        var CardText = response.Entities[index].Name\n                        ListOfDepartment.push({\n                            Id: ElementId,\n                            Name: CardText\n                        })\n                        var EmployeeCard = GenerateCard(ElementId, CardText, CardType.DEPARTMENT)\n                        EmployeeCard.className = \"item\"\n                        if (!isEmptyOrNull(EmployeeCard))\n                            DepartmentRow.appendChild(EmployeeCard)\n                    }\n                    DepartmentTable.appendChild(DepartmentRow)\n                    DepartmentPanel.appendChild(DepartmentContent)\n                    SectionService.List({}, response => {\n                        var SectionContent = document.createElement('div')\n                        SectionContent.className = 'side-div'\n                        var SectionTable = document.createElement('div')\n                        SectionTable.id = \"SectionTable\"\n                        SectionTable.className = \"wrapper\"\n\n                        SectionContent.appendChild(SectionTable)\n                        var SectionRow = document.createElement('div')\n                        SectionRow.className = \"wrapper\"\n\n                        for (var index in response.Entities) {\n                            var ElementId = response.Entities[index].Id\n                            var CardText = response.Entities[index].Name\n                            ListOfSection.push({\n                                Id: ElementId,\n                                Name: CardText\n                            })\n                            var EmployeeCard = GenerateCard(ElementId, CardText, CardType.SECTION)\n                            EmployeeCard.className = \"item\"\n                            if (!isEmptyOrNull(EmployeeCard))\n                                SectionRow.appendChild(EmployeeCard)\n                        }\n\n                        SectionTable.appendChild(SectionRow)\n                        SectionPanel.appendChild(SectionContent)\n                        $('#defaultOpen').click()\n                       // setCallbacks()\n                        var EmployeeIdInputElement = document.getElementById(\"EmployeeIdInput\")\n                        $(EmployeeIdInputElement).on('change', async function () {\n                            if ($(EmployeeNameInputElement).val() != $(EmployeeIdInputElement).val())\n                                $(EmployeeNameInputElement).val($(EmployeeIdInputElement).val()).trigger('change')\n                            var BufferEmployeeImage = document.createElement(\"img\");\n                            BufferEmployeeImage.width = 63;\n                            BufferEmployeeImage.height = 112.5;\n                            BufferEmployeeImage.style.display = 'block';\n                            BufferEmployeeImage.style.margin = '0 auto';\n                            var EmployeeImage = $(\"#employeeImg\")\n                            if (isEmptyOrNull($(EmployeeIdInputElement).val())) {\n                                EmployeeImage.replaceWith(BufferEmployeeImage)\n                                BufferEmployeeImage.setAttribute(\"id\", \"employeeImg\");\n                                return\n                            }\n                            let ListCounter = 0, imgPath\n                            for (ListCounter = 0; ListCounter < ListOfEmployeeData.length; ListCounter++) {\n                                if (ListOfEmployeeData[ListCounter].id == parseInt($(EmployeeNameInputElement).val())) {\n                                    imgPath = ListOfEmployeeData[ListCounter].ImgPath\n                                    break\n                                }\n                            }\n                            if (!isEmptyOrNull($(EmployeeNameInputElement).val()))\n                                BufferEmployeeImage.src = \"/upload/\" + imgPath\n                            EmployeeImage.replaceWith(BufferEmployeeImage)\n                            BufferEmployeeImage.setAttribute(\"id\", \"employeeImg\");\n                        })\n                        var EmployeeNameInputElement = document.getElementById(\"EmployeeNameInput\")\n                        $(EmployeeNameInputElement).on('change', async function () {\n                            if ($(EmployeeNameInputElement).val() != $(EmployeeIdInputElement).val())\n                                $(EmployeeIdInputElement).val($(EmployeeNameInputElement).val()).trigger('change')\n\n                            var BufferEmployeeImage = document.createElement(\"img\");\n                            BufferEmployeeImage.width = 63;\n                            BufferEmployeeImage.height = 112.5;\n                            BufferEmployeeImage.style.display = 'block';\n                            BufferEmployeeImage.style.margin = '0 auto';\n                            var EmployeeImage = $(\"#employeeImg\")\n                            if (isEmptyOrNull($(EmployeeNameInputElement).val())) {\n                                EmployeeImage.replaceWith(BufferEmployeeImage)\n                                BufferEmployeeImage.setAttribute(\"id\", \"employeeImg\");\n                                return\n                            }\n                            let ListCounter = 0, imgPath\n                            for (ListCounter = 0; ListCounter < ListOfEmployeeData.length; ListCounter++) {\n                                if (ListOfEmployeeData[ListCounter].id == parseInt($(EmployeeNameInputElement).val())) {\n                                    imgPath = ListOfEmployeeData[ListCounter].ImgPath\n                                    break\n                                }\n                            }\n                            if (!isEmptyOrNull($(EmployeeNameInputElement).val()))\n                                BufferEmployeeImage.src = \"/upload/\" + imgPath\n                            EmployeeImage.replaceWith(BufferEmployeeImage)\n                            BufferEmployeeImage.setAttribute(\"id\", \"employeeImg\");\n                        })\n\n                        $('#searcher').on('input', async function () {\n                            var searcherInput = $('#searcher').val()\n                            var tabcontent = document.getElementsByClassName('tabcontent')\n                            let i\n                            for (i = 0; i < tabcontent.length; i++) {\n                                if (tabcontent[i].style.display == 'block')\n                                    break\n                            }\n                            var ChildrenList = tabcontent[i].children[0].querySelector('.wrapper').querySelector('.wrapper').children\n                            const regex = new RegExp(searcherInput, 'gi');\n                            for (i = 0; i < ChildrenList.length; i++) {\n                                if (!regex.test(ChildrenList[i].textContent))\n                                    ChildrenList[i].style.display = 'none'\n                                else\n                                    ChildrenList[i].style.display = ''\n\n                            }\n\n                        })\n                        var counter = 0\n                        var ListLength = ListOfEmployeeData.length\n                        let EmployeeIdInputEditor = new Select2Editor($(\"#EmployeeIdInput\"))\n                        let EmployeeNameInputEditor = new Select2Editor($(\"#EmployeeNameInput\"))\n                        ListOfEmployeeData.forEach(option => {\n                            counter += 1\n                            EmployeeIdInputEditor.addItem({ id: (option.id).toString(), text: (option.EmployeeId).toString(), }); // 8am - 6pm , will consider lates\n                            EmployeeNameInputEditor.addItem({ id: (option.id).toString(), text: (option.EmployeeName).toString(), }); // 8am - 6pm , will consider lates\n                            if (counter == ListLength) {\n                                $('#EmployeeIdInput').trigger('change')\n                                $('#EmployeeNameInput').trigger('change')\n                            }\n                        });\n\n\n                    })\n\n                })\n            })\n\n        }\n\n        var ContentRow = document.createElement(\"div\")\n        ContentRow.setAttribute(\"class\", \"row div2\")\n        ContentRow.setAttribute(\"id\", \"ElementsTab\")\n\n\n\n        var TabRowNode = document.createElement('div');\n        TabRowNode.setAttribute(\"class\", \"tab\");\n        var naviBar = document.createElement('nav')\n        var naviBarContent = document.createElement('div')\n        naviBarContent.innerHTML = `<div class=\"nav nav-tabs nav-fill\" id=\"nav-tab\" role=\"tablist\">\n                          <a class=\"tab-nav-item nav-link \" id=\"nav-home-tab\" data-toggle=\"tab\" href=\"#nav-home\" role=\"tab\" aria-controls=\"nav-home\" aria-selected=\"false\">Organisation Structure</a>\n                          <a class=\"tab-nav-item nav-link\" id=\"nav-profile-tab\" data-toggle=\"tab\" href=\"#nav-profile\" role=\"tab\" aria-controls=\"nav-profile\" aria-selected=\"false\">Organisation Chart</a>\n                        </div>`\n        naviBar.appendChild(naviBarContent)\n\n\n        document.querySelector('#GridDiv').appendChild(naviBar);\n        document.querySelector('#GridDiv').appendChild(container);\n        var orgChartContainer = document.createElement('div')\n        orgChartContainer.id = 'orgChartContainer'\n        orgChartContainer.className = 'BigTab'\n        document.querySelector('#GridDiv').appendChild(orgChartContainer);\n        var init = 0\n        function openBig(evt, id) {\n            // Declare all variables\n            var i, tabcontent, tablinks;\n            if (id == OrgStructId) {\n                $('.tab').show()\n                const activeTabLink = document.querySelector('.tablinks.active');\n                if (activeTabLink) {\n                    var idBuffer = activeTabLink.textContent + \"Panel\"\n                    if (document.getElementById(idBuffer) != null)\n                        document.getElementById(idBuffer).style.display = \"block\";\n                }\n            }\n            else if (id == OrgChartId) {\n                $('.tab').hide()\n                $('.tabcontent').hide()\n            }\n            // Get all elements with class=\"tabcontent\" and hide them\n            tabcontent = document.getElementsByClassName(\"BigTab\");\n            for (i = 0; i < tabcontent.length; i++)\n                tabcontent[i].style.display = \"none\";\n            // Get all elements with class=\"tablinks\" and remove the class \"active\"\n            tablinks = document.getElementsByClassName(\"tab-nav-item\");\n            for (i = 0; i < tablinks.length; i++)\n                tablinks[i].className = tablinks[i].className.replace(\" active\", \"\");\n            // Show the current tab, and add an \"active\" class to the button that opened the tab\n            if (document.getElementById(id) != null)\n                document.getElementById(id).style.display = \"block\";\n            evt.currentTarget.className += \" active\";\n            var OrgChart = document.getElementById('orgChartContainer')\n            if (OrgChart.children.length == 0 &&\n                !isEmptyOrNull(FinalDatascource2)) {\n                GenerateOrgChart()\n                DisableOrgChartMovement()\n            }\n\n            if (init <= 1) {\n                init += 1\n                scrollToParent()\n            }\n        }\n        function open(evt, id) {\n            // Declare all variables\n            var i, tabcontent, tablinks;\n            // Get all elements with class=\"tabcontent\" and hide them\n            tabcontent = document.getElementsByClassName(\"tabcontent\");\n            for (i = 0; i < tabcontent.length; i++)\n                tabcontent[i].style.display = \"none\";\n            // Get all elements with class=\"tablinks\" and remove the class \"active\"\n            tablinks = document.getElementsByClassName(\"tablinks\");\n            for (i = 0; i < tablinks.length; i++)\n                tablinks[i].className = tablinks[i].className.replace(\"active\", \"\");\n            // Show the current tab, and add an \"active\" class to the button that opened the tab\n            if (document.getElementById(id) != null)\n                document.getElementById(id).style.display = \"block\";\n            var cards = document.getElementById(id).children[0].querySelector('.wrapper').querySelector('.wrapper').children\n            for (let i = 0; i < cards.length; i++)\n                cards[i].style.display = ''\n            evt.currentTarget.className += \" active\";\n        }\n        var OrgStructId = 'chart-container'\n        var OrgChartId = 'orgChartContainer'\n        var OrgStructButton = document.getElementById('nav-home-tab')\n        OrgStructButton.addEventListener('click', function () { openBig(event, OrgStructId); }, false);\n        var OrgChartButton = document.getElementById('nav-profile-tab')\n        OrgChartButton.addEventListener('click', function () { openBig(event, OrgChartId); }, false);\n        OrgStructButton.click();\n        if (Authorization.userDefinition.Permissions[PermissionKeys.HumanResources]) {\n            ContentRow.appendChild(TabRowNode)\n            ContentRow.appendChild(DivisionPanel)\n            ContentRow.appendChild(SectionPanel)\n            ContentRow.appendChild(DepartmentPanel)\n            document.querySelector('.content').appendChild(ContentRow);\n        }\n        var ButtonHolder = document.createElement('div')\n        var DepartmentTableButton = document.createElement('button');\n        DepartmentTableButton.addEventListener('click', function () { open(event, 'DepartmentPanel'); }, false);\n        DepartmentTableButton.setAttribute(\"class\", \"tablinks\");\n        DepartmentTableButton.innerText = 'Department'\n        DepartmentTableButton.setAttribute(\"id\", \"defaultOpen\");\n        var DivisionTableButton = document.createElement('button');\n        DivisionTableButton.addEventListener('click', function () { open(event, 'DivisionPanel'); }, false);\n        DivisionTableButton.setAttribute(\"class\", \"tablinks\");\n        DivisionTableButton.innerText = 'Division'\n        var SectionTableButton = document.createElement('button');\n        SectionTableButton.addEventListener('click', function () { open(event, 'SectionPanel'); }, false);\n        SectionTableButton.setAttribute(\"class\", \"tablinks\");\n        SectionTableButton.innerText = 'Section'\n        ButtonHolder.appendChild(DivisionTableButton)\n        ButtonHolder.appendChild(DepartmentTableButton)\n        ButtonHolder.appendChild(SectionTableButton)\n\n        var TextInputHolder = document.createElement('div')\n        TextInputHolder.innerHTML = `    <input id=\"searcher\" type=\"text\" placeholder=\"Search...\" style=\"margin-left: 10px;\">`\n        TabRowNode.appendChild(ButtonHolder)\n        TabRowNode.appendChild(TextInputHolder)\n\n        let orgchart = null\n\n    })\n    function stripClassSuffix(str: string): string {\n        return str.endsWith(\"Class\") ? str.slice(0, -5) : str;\n    }\n    function addChildren(root, TargetClassName: string, newNode: Node | NodeRow): boolean {\n        // If the current node's name matches the target name, add the new node\n        if (root.className.includes(TargetClassName)) {\n            if (!root.children) {\n                newNode.id = `${root.id}${EncodeString(stripClassSuffix(newNode.className), 0x88, 0x99)}`\n                root.children = [newNode];\n            }\n            else {\n                const checkId = (id: string): boolean => root.children.some((item) => item.id === id);\n                if (checkId(newNode.id))//repeated children\n                    return false\n                newNode.id = `${root.id}${EncodeString(stripClassSuffix(newNode.className),0x88,0x99)}`\n                root.children.push(newNode);\n            }\n            return true; // Node found and new node added\n        }\n        if (root.children)\n            for (const child of root.children)\n                if (addChildren(child, TargetClassName, newNode)) {\n                    return false; // Stop recursion after adding the node\n                }\n        return false; // Target node not found\n    }\n\n    function hasChild(root, newNode) {\n        if (root.children) {\n            for (const child of root.children) {\n                if (child.className === newNode.className)\n                    return true; // Duplicate found\n\n            }\n        }\n        return false; // No duplicate found\n    }\n\n    function checkRepeatedChildren(root, TargetClassName: string, newNode: Node): boolean {\n        // If the current node's name matches the target name, add the new node\n        //   console.log(root)\n        if (!TargetClassName.endsWith(\"Class\"))\n            TargetClassName = TargetClassName + \" Class\"\n        if (root.className === TargetClassName) {\n            var result = hasChild(root, newNode)\n            return result\n        }\n        if (root.children)\n            for (const child of root.children)\n                if (checkRepeatedChildren(child, TargetClassName, newNode))\n                    return true; // Stop recursion after adding the node\n        return false; // Target node not found\n    }\n    function listChildrenId(data: { id: string; parentId: string | null }[], parentId: string): string[] {\n        const children = data.filter(item => item.parentId === parentId);\n        const childIds = children.map(child => child.id);\n\n        // Recursively find children of these children\n        for (const child of children) {\n            childIds.push(...listChildrenId(data, child.id));\n        }\n\n        return childIds;\n    }\n    function findTitleByClassName(data, className) {\n        // Check if current node has the className\n        if (data.className === className)\n            return data.title;\n        // If there are children, search them recursively\n        if (data.children) {\n            for (const child of data.children) {\n                const result = findTitleByClassName(child, className);\n                if (result)\n                    return result;\n            }\n        }\n        // Return null if className is not found\n        return null;\n    }\n    function findIdByClassName(data, className) {\n\n        if (data.className === className)\n            return data.id;\n        // If there are children, search them recursively\n        if (data.children) {\n            for (const child of data.children) {\n                const result = findIdByClassName(child, className);\n                if (result)\n                    return result;\n            }\n        }\n        // Return null if className is not found\n        return null;\n    }\n\n    \n    function deleteNodeById(data, id, returnOnDelete?) {\n        if (Array.isArray(data)) {\n            // Process each item in the array\n            for (let i = 0; i < data.length; i++) {\n                const child = data[i];\n                // Recursively check and modify children\n                deleteNodeById(child,id);\n                // Remove the node if it matches the criteria\n                if (child.id == id) {\n                    data.splice(i, 1); // Remove the node from the array\n                    i--; // Adjust the index after removal\n                }\n            }\n        } else if (data.children) {\n            // Process children nodes\n            deleteNodeById(data.children, id);\n            if (data.id == id) {\n                console.log(id)\n                return null;\n            }\n            // Indicate deletion for parent array processing\n            \n        }\n    }\n    \n    function removeEmptyChildren(obj) {\n        if (isEmptyOrNull(obj))\n            return\n        if (obj.children) {\n            // Recursively process each child\n            obj.children.forEach(child => removeEmptyChildren(child));\n            // Remove the 'children' property if it is empty\n            if (obj.children.length === 0)\n                delete obj.children;\n        }\n    }\n    function findChildrenById(root, id) {\n        // If the current node matches the className, return its children\n        if (!isEmptyOrNull(root.id)) {\n            if (root.id.trim() === id.trim())\n                return root.children || [];\n        }\n        if (root.children && Array.isArray(root.children)) {\n            for (let child of root.children) {\n                let result = findChildrenById(child, id);\n                if (result)\n                    return result;\n            }\n        }\n        return null;\n    }\n    function DisableOrgChartMovement() { //callback for node on orgchart\n        const observer = new MutationObserver((mutationsList) => {\n            for (const mutation of mutationsList) {\n                if (mutation.type === 'childList') {\n\n                    var orgChartElement = document.getElementById(\"orgChartContainer\")\n                    if (!isEmptyOrNull(orgChartElement)) {\n                        var orgDiv = orgChartElement.querySelector(\".orgchart\");\n                        if (!isEmptyOrNull(orgDiv)) {\n                            var nodes = orgDiv.getElementsByClassName('node')\n                            for (let i = 0; i < nodes.length; i++) {\n                                var jsonObject = JSON.parse(nodes[i].getAttribute('data-source'));\n                                if (jsonObject.hierarchyLevel != EmployeeEnum)\n                                    nodes[i].draggable = false\n                            }\n                        }\n                    }\n\n\n                     orgChartElement = document.getElementById(\"chart-container\")\n\n                    if (!isEmptyOrNull(orgChartElement)) {\n                         orgDiv = orgChartElement.querySelector(\".orgchart\");\n\n                        if (!isEmptyOrNull(orgDiv)) {\n                             nodes = orgDiv.getElementsByClassName('node')\n                            for (let i = 0; i < nodes.length; i++) {\n                                var jsonObject = JSON.parse(nodes[i].getAttribute('data-source'));\n                                if (jsonObject.children.length>0)\n                                    nodes[i].draggable = false\n                            }\n                        }\n                    }\n\n                }\n            }\n        });\n        observer.observe(document.body, { childList: true, subtree: true });\n    }\n    var pdfSources = [];\n    var pdfOriginalName = [];\n    let currentPdfIndex = 0;\n  \n    function setCallbacks() { //callback for node on orgchart\n        const observer = new MutationObserver((mutationsList) => {\n            var CheckChart = document.querySelector('#orgChartContainer').querySelector('.orgchart')\n            var OrgStruct = document.querySelector('#chart-container').querySelector('.orgchart')\n            if (isEmptyOrNull(CheckChart) || isEmptyOrNull(OrgStruct))\n                return\n            function scroll(id) {\r\n                const orgChartContainer = document.getElementById(id) as HTMLElement;\r\n                const parentNode = orgChartContainer.querySelector('.orgchart ') as HTMLElement;\r\n                parentNode.style.transform = \"matrix(1, 0, 0, 1, 0, 0)\"; // Reset position\r\n\r\n            }\r\n            function isAnyNodeVisible(id) {\r\n                const orgChart = document.querySelector(`${id} .orgchart`);\r\n\r\n                const nodes = orgChart.querySelectorAll(\".node\");\r\n                for (let node of nodes) {\r\n                    const rect = node.getBoundingClientRect();\r\n                    if (\r\n                        rect.bottom > 0 && // Not fully above viewport\r\n                        rect.top < window.innerHeight && // Not fully below viewport\r\n                        rect.right > 0 && // Not fully left\r\n                        rect.left < window.innerWidth // Not fully right\r\n                    ) {\r\n                        return true; // At least one node is visible\r\n                    }\r\n                }\r\n                return false; // No nodes are visible\r\n            }\n            //for (const mutation of mutationsList) {\n                console.log('muuu')\n            //if (mutation.type === 'childList') {\n            if ($('.tab-nav-item.nav-link.active').text() == 'Organisation Chart') {\r\n                if (isAnyNodeVisible(`#orgChartContainer`) == false)//cannot see any node\r\n                    scroll(`orgChartContainer`)\r\n            }\r\n            else if ($('.tab-nav-item.nav-link.active').text() == 'Organisation Structure') {\r\n                if (isAnyNodeVisible(`#chart-container`) == false)//cannot see any node\r\n                    scroll(`chart-container`)\r\n            }\n                    var nodes = document.getElementsByClassName(\"node\");\n                    if (nodes.length > 0) {\n                        let ElementArray: any[] = []\n                        for (let j = 0; j < nodes.length; j++) {\n                            var TargetElement = nodes[j] as HTMLDivElement\n                            //console.log(TargetElement.className)\n\n                            ElementArray.push(TargetElement)\n                            ElementArray[j].addEventListener(\"dragover\", function (event) {\n                                const dragEvent = event as DragEvent;\n                                if (dragEvent.dataTransfer) {\n                                    event.preventDefault()\n                                    dragEvent.dataTransfer.dropEffect = 'move';  // Indicate the drop action\n                                    event.stopImmediatePropagation();\n                                }\n                            })\n                            var jsonObject = JSON.parse(ElementArray[j].getAttribute('data-source'));\n                            var relation = jsonObject.relationship\n                            if (relation != '001' || nodes.length == 1)\n                                if (Authorization.userDefinition.Permissions[PermissionKeys.HumanResources])//is HR\n                                    ElementArray[j].draggable = true\n                            if (relation == '111')\n                                ElementArray[j].draggable = false\n\n                            ElementArray[j].addEventListener(\"drop\", function (event) {\n                                event.stopImmediatePropagation();\n                                var StartPointData = event.dataTransfer.getData('text/plain'); // oobtain the data of the dropped element\n                                if (isEmptyOrNull(StartPointData))\n                                    return\n                                var StartPointJson = JSON.parse(StartPointData);\n                                var EventTargetElement = $(event.target)\n                                if (!isEmptyOrNull(EventTargetElement.attr('class'))) {\n                                    if (EventTargetElement.attr('class').includes('avatar'))\n                                        EventTargetElement = EventTargetElement.parent()\n                                }\n                                if (isEmptyOrNull(EventTargetElement.parent().attr('data-source'))) {\n                                    while (isEmptyOrNull(EventTargetElement.parent().attr('data-source')))\n                                        EventTargetElement = EventTargetElement.parent()\n                                }\n\n                                if (isEmptyOrNull(StartPointJson.external))\n                                    return\n                                var destinationJson = JSON.parse(EventTargetElement.parent().attr('data-source'));\n                                var EventTargetHierarchy = destinationJson.hierarchyLevel\n                                var destinationClassName = destinationJson.className\n                                var destinationId = destinationJson.id\n                                var HierarchyLevelToSearch: any[] = DecomposeStringToList(destinationId, 0x88, 0x99)\n                                if (!isEmptyOrNull(StartPointData)) {\n                                    var StartPointTitle = null\n                                    var StartPointName = null\n                                    var StartPointId = null\n                                    var StartPointHierarchyId = null\n                                    var StartPointHierarchy = null\n                                    if (StartPointJson.external) { // externla move\n                                        StartPointId = StartPointJson.id\n                                        StartPointHierarchyId = StartPointJson.hierarchyId\n                                        StartPointTitle = StartPointJson.title\n                                        StartPointName = StartPointJson.name\n                                        StartPointHierarchy = StartPointJson.hierarchyLevel\n                                        if (EventTargetHierarchy > StartPointHierarchy && !isEmptyOrNull(destinationJson.parentId)) {\n                                            var StringToShow = capitalizeFirstLetter(getEnumNameFromValue(EventTargetHierarchy)) + ' cannot be above ' +\n                                                capitalizeFirstLetter(getEnumNameFromValue(StartPointHierarchy))\n                                            notifyError(StringToShow)\n                                            event.stopImmediatePropagation();\n                                            return\n                                        }\n                                    }\n                                    var targetElementId = parseInt(EventTargetElement.parent().attr('class').replace('node', '').replace('Class', '').trim())\n                                    if (targetElementId == parseInt(StartPointJson.parentId) &&\n                                        StartPointJson.parentId !== undefined && targetElementId !== undefined)\n                                        return\n                                    if (isEmptyOrNull(StartPointJson.parentId) && isEmptyOrNull(StartPointJson.external))\n                                        return\n                                    if (isEmptyOrNull(EventTargetElement.parent().attr('class')))\n                                        return\n                                    var ClassName = StartPointJson.className\n                                    if (StartPointHierarchy == null)\n                                        StartPointHierarchy = StartPointJson.hierarchyLevel\n                                    var DestinationNode = EventTargetElement.parent().attr('class').replace('node', '').trim().replace('focused', '')\n                                    if (DestinationNode == ClassName)\n                                        return\n                                    if (StartPointHierarchy == EmployeeEnum) {\n                                        if (EventTargetHierarchy == StartPointHierarchy)\n                                            return\n                                        console.log('haha')\n                                        let i = 0\n                                        var EmployeeRowId = parseInt(StartPointJson.EmployeeRowId)\n                                        for (i = 0; i < ListOfEmployeeData.length; i++) {\n                                            if (ListOfEmployeeData[i][\"id\"] == EmployeeRowId)\n                                                break\n                                        }\n                                        var FinalOrgChartBuffer = JSON.parse(JSON.stringify(datascource2))\n                                        var TargetedFinalOrgChartBuffer = FinalOrgChartBuffer\n                                        /*\n                                        var Counter = 1\n                                        for (const key of Object.keys(CardType)) {\n                                            if (isNaN(Number(key))) {\n                                                var id = ListOfEmployeeData[i][`${capitalizeFirstLetter(key)}Id`]\n                                                if (isEmptyOrNull(id))\n                                                    continue\n                                                var TargetedClassName = `${key}${id}`\n                                                if (HierarchyLevelToSearch[Counter] != TargetedClassName) {\n                                                    var correctDepartment = GetLookupValueFromId(capitalizeFirstLetter(getEnumNameFromValue(CardType.DEPARTMENT)), ListOfEmployeeData[i][capitalizeFirstLetter(getEnumNameFromValue(CardType.DEPARTMENT)) + 'Id'])\n                                                    var correctDivision = GetLookupValueFromId(capitalizeFirstLetter(getEnumNameFromValue(CardType.DIVISION)), ListOfEmployeeData[i][capitalizeFirstLetter(getEnumNameFromValue(CardType.DIVISION)) + 'Id'])\n                                                    var correctSection = GetLookupValueFromId(capitalizeFirstLetter(getEnumNameFromValue(CardType.SECTION)), ListOfEmployeeData[i][capitalizeFirstLetter(getEnumNameFromValue(CardType.SECTION)) + 'Id'])\n                                                    var string = `${ListOfEmployeeData[i][\"EmployeeName\"]} should be in `;\n\n                                                    if (!isEmptyOrNull(correctSection))\n                                                        string += `${correctSection} ${capitalizeFirstLetter(getEnumNameFromValue(CardType.SECTION))}, under `\n                                                    if (!isEmptyOrNull(correctDepartment))\n                                                        string += `${correctDepartment} ${capitalizeFirstLetter(getEnumNameFromValue(CardType.DEPARTMENT))}, under `\n                                                    if (!isEmptyOrNull(correctDivision))\n                                                        string += `${correctDivision} ${capitalizeFirstLetter(getEnumNameFromValue(CardType.DIVISION))}`\n                                                    alertDialog(string)\n                                                    break\n                                                    //return\n                                                }\n                                                Counter+=1\n                                            }\n                                        }\n                                        */\n                                    }\n                                    if (StartPointJson.external == null) {\n                                        if (StartPointHierarchy == EmployeeEnum)\n                                            StartPointTitle = findTitleByClassName(FinalDatascource2, ClassName);\n                                        else\n                                            StartPointTitle = findTitleByClassName(datascource2, ClassName);\n                                    }\n                                    if (StartPointId == null) {\n                                        if (StartPointHierarchy == EmployeeEnum)\n                                            StartPointId = findIdByClassName(FinalDatascource2, ClassName);\n                                        else\n                                            StartPointId = findIdByClassName(datascource2, ClassName);\n                                    }\n                                    if (StartPointName == null)\n                                        StartPointName = ClassName.replace('Class', '').trim()\n                                    StartPointName = StartPointName.replace('focused', '')\n                                    //  console.log(StartPointHierarchy)\n                                    //  console.log(EventTargetElement.parent().attr('data-source'))\n                                    //   console.log(destinationJson)\n                                    //   console.log('from ' + StartPointJson.className)\n                                    //    console.log('to ' + EventTargetElement.parent().attr('class'))\n                                    var child_list;\n                                    // console.log(datascource2)\n                                    // console.log(StartPointId)\n\n                                    if (StartPointHierarchy == EmployeeEnum)\n                                        child_list = findChildrenById(FinalDatascource2, StartPointId);\n                                    else\n                                        child_list = findChildrenById(datascource2, StartPointId);\n                                    for (var index in child_list) {\n                                        if (child_list[index].id == StartPointJson.id)\n                                            return\n                                    }\n                                    var StartPointParentId = StartPointJson.parentId\n                                    var HierarchyValue = parseInt(StartPointJson.hierarchyLevel)\n                                    var EmployeeRowId = parseInt(StartPointJson.EmployeeRowId)\n                                    var bufferNode: Node = {\n                                        'EmployeeRowId': null,\n                                        'hierarchyLevel': HierarchyValue,\n                                        'id': StartPointId, 'name': StartPointTitle,\n                                        'title': StartPointTitle, 'className': `${StartPointId} Class`,\n                                        'hierarchyId': StartPointHierarchyId\n                                    };\n                                    if (StartPointHierarchy == EmployeeEnum) {\n                                        bufferNode.EmployeeRowId = EmployeeRowId\n                                        bufferNode.className = `EMPLOYEE${EmployeeRowId} Class`\n                                    }\n                                    if (StartPointHierarchy == EmployeeEnum) {\n                                        var TargetedFinalOrgChartBuffer = FinalDatascource2\n                                        TargetedFinalOrgChartBuffer = SearchById(TargetedFinalOrgChartBuffer, destinationId)\n                                        if (!isEmptyOrNull(TargetedFinalOrgChartBuffer)) {\n                                            if (checkRepeatedChildren(TargetedFinalOrgChartBuffer, destinationClassName, bufferNode))//check repeated children\n                                                return\n                                        }\n                                    }\n                                    else {\n                                        var TargetedFinalOrgChartBuffer = datascource2\n                                        TargetedFinalOrgChartBuffer = SearchById(TargetedFinalOrgChartBuffer, destinationId)\n                                        if (checkRepeatedChildren(TargetedFinalOrgChartBuffer, destinationClassName, bufferNode))//check repeated children\n                                            return\n                                    }\n                                    if (StartPointHierarchy == EmployeeEnum) {\n                                        var FinalOrgChartBuffer = JSON.parse(JSON.stringify(FinalDatascource2))\n                                        var TargetedFinalOrgChartBuffer = FinalOrgChartBuffer\n                                        TargetedFinalOrgChartBuffer = SearchById(TargetedFinalOrgChartBuffer, StartPointParentId)\n                                        TargetedFinalOrgChartBuffer.children\n                                            = TargetedFinalOrgChartBuffer.children.filter(child => child.EmployeeRowId !== StartPointJson.EmployeeRowId);\n                                        for (var index in child_list)\n                                            TargetedFinalOrgChartBuffer.children.push(child_list[index])\n                                        FinalDatascource2 = FinalOrgChartBuffer\n                                        TargetedFinalOrgChartBuffer = FinalDatascource2\n                                        TargetedFinalOrgChartBuffer = SearchById(TargetedFinalOrgChartBuffer, destinationId)\n                                        if (!isEmptyOrNull(TargetedFinalOrgChartBuffer.children)) {\n                                            if (TargetedFinalOrgChartBuffer.children.length == 1 && isEmptyOrNull(TargetedFinalOrgChartBuffer.EmployeeRowId)) {//go down\n                                                if (TargetedFinalOrgChartBuffer.children[0].hierarchyLevel == TargetedFinalOrgChartBuffer.hierarchyLevel) {\n                                                    if (!isEmptyOrNull(TargetedFinalOrgChartBuffer.children[0].EmployeeRowId)) {\n                                                        console.log(TargetedFinalOrgChartBuffer.children[0])\n                                                       // if (TargetedFinalOrgChartBuffer.children[0].Extension == 1) {\n\n                                                            destinationId = TargetedFinalOrgChartBuffer.children[0].id\n                                                            DestinationNode = TargetedFinalOrgChartBuffer.children[0].className\n                                                            TargetedFinalOrgChartBuffer = TargetedFinalOrgChartBuffer.children[0]\n                                                       // }\n                                                    }\n                                                }\n                                                \n                                            }\n                                        }\n                                        console.log('haha')\n                                        var EncodingBuffer = EncodeString(`EMPLOYEE${parseInt(StartPointJson.EmployeeRowId)}`, 0x88, 0x99)\n                                        bufferNode.id = `${destinationId}${EncodingBuffer}`\n                                        addChildren(TargetedFinalOrgChartBuffer, DestinationNode, bufferNode)\n                                        removeEmptyChildren(FinalDatascource2)\n\n                                        //var orgChartElement = document.getElementById(\"orgChartContainer\")\n                                        //var orgDiv = orgChartElement.querySelector(\".orgchart\");\n                                        //Style = orgDiv.getAttribute('style')\n                                        //DataPanStart = orgDiv.getAttribute('data-pan-start')\n                                        //orgChartElement.innerHTML = ''\n\n                                        if (!isEmptyOrNull(FinalDatascource2))\n                                            GenerateSaveOrgChart()\n\n                                        //orgDiv = orgChartElement.querySelector(\".orgchart\");\n                                        //orgDiv.setAttribute('style', Style)\n                                        //orgDiv.setAttribute('data-pan-start', DataPanStart)\n\n                                    }\n                                    else {\n                                        var bufferId = EncodeString(StartPointId, 0x88, 0x99)\n                                        if (!isEmptyOrNull(destinationId))\n                                            bufferId = destinationId + bufferId\n                                        var bufferNode: Node = {\n                                            'EmployeeRowId': null,\n                                            'hierarchyId': StartPointHierarchyId,\n                                            'hierarchyLevel': HierarchyValue,\n                                            'id': bufferId, 'name': StartPointTitle,\n                                            'title': StartPointTitle, 'className': `${StartPointId} Class`\n                                        };\n                                        var TargetedFinalOrgChartBuffer = datascource2\n                                        if (isEmptyOrNull(StartPointJson.external)) {\n                                            TargetedFinalOrgChartBuffer = SearchById(TargetedFinalOrgChartBuffer, StartPointParentId)\n                                            if (!isEmptyOrNull(TargetedFinalOrgChartBuffer.children)) {\n                                                TargetedFinalOrgChartBuffer.children\n                                                    = TargetedFinalOrgChartBuffer.children.filter(child => child.id !== StartPointJson.id);\n                                                for (var index in child_list)\n                                                    TargetedFinalOrgChartBuffer.children.push(child_list[index])\n                                            }\n                                        }\n                                        TargetedFinalOrgChartBuffer = datascource2\n                                        if (!isEmptyOrNull(HierarchyLevelToSearch))\n                                            TargetedFinalOrgChartBuffer = SearchById(TargetedFinalOrgChartBuffer, destinationId)\n                                        console.log(bufferNode)\n                                        addChildren(TargetedFinalOrgChartBuffer, DestinationNode, bufferNode)\n                                        removeEmptyChildren(datascource2)\n                                        addListItem(destinationId, bufferId, bufferNode.name)\n                                        if (!isEmptyOrNull(datascource2))\n                                            GenerateSaveOrgStructure()\n                                        console.log(destinationId)\n                                        console.log(bufferId)\n                                        console.log(bufferNode)\n                                        console.log(DestinationNode)\n                                        /*\n                                          var FinalOrgChartBuffer = JSON.parse(JSON.stringify(FinalDatascource2))\n                                            var TargetedFinalOrgChartBuffer = FinalOrgChartBuffer\n                                            TargetedFinalOrgChartBuffer = SearchById(TargetedFinalOrgChartBuffer, ElementToSetEmployee)\n                                            TargetedFinalOrgChartBuffer.Rights[this.name] = isChecked\n                                            FinalDatascource2 = FinalOrgChartBuffer\n                                        */\n                                        var PathList = DecomposeStringToList(destinationId, 0x88, 0x99)\n                                        var FinalOrgChartBuffer = JSON.parse(JSON.stringify(FinalDatascource2))\n                                        var TargetedFinalOrgChartBuffer = FinalOrgChartBuffer\n                                        let i=0\n                                        for ( i = 0; i < PathList.length; i++) \n                                            TargetedFinalOrgChartBuffer = findByClassName(TargetedFinalOrgChartBuffer, PathList[i])\n                                        deleteNodeById\n\n                                        var TargetedClassName = PathList[PathList.length - 1]\n                                        if (!isEmptyOrNull(TargetedFinalOrgChartBuffer)) {\n                                            if (!isEmptyOrNull(TargetedFinalOrgChartBuffer.children)) {\n                                                if (TargetedFinalOrgChartBuffer.children.length == 1 && isEmptyOrNull(TargetedFinalOrgChartBuffer.EmployeeRowId)) {\n                                                    if (TargetedFinalOrgChartBuffer.children[0].hierarchyLevel == TargetedFinalOrgChartBuffer.hierarchyLevel) {\n                                                        if (!isEmptyOrNull(TargetedFinalOrgChartBuffer.children[0].EmployeeRowId)) {\n                                                            TargetedFinalOrgChartBuffer = TargetedFinalOrgChartBuffer.children[0]\n                                                            TargetedClassName = TargetedFinalOrgChartBuffer.className\n                                                        }\n                                                    }\n                                                    \n                                                }\n                                            }\n                                            const bufferNodeCopy: Node = { ...bufferNode };\n                                            bufferNodeCopy.id = `${TargetedFinalOrgChartBuffer.id}${EncodeString(stripClassSuffix(bufferNodeCopy.className), 0x88, 0x99)}`\n                                            addChildren(TargetedFinalOrgChartBuffer, TargetedClassName, bufferNodeCopy)\n                                            FinalDatascource2 = FinalOrgChartBuffer\n                                            GenerateSaveOrgChart()\n                                        }\n                                    }\n                                    event.dataTransfer.dropEffect = 'none';\n                                }\n                            })\n                            ElementArray[j].addEventListener(\"dragstart\", function (event) {\n                                event.stopImmediatePropagation();\n                                var text = event.target.getAttribute('data-source')\n                                // console.log(text)\n                                // console.log(jsonObject.relationship)\n                                event.dataTransfer.setData('text/plain', text);\n                                event.dataTransfer.dropEffect = 'move';  // Set the drop effect\n                            })\n                        }\n                    }\n                    var AvatarNodes = document.getElementsByClassName(\"avatar\")\n                    for (let j = 0; j < AvatarNodes.length; j++) {\n                        var AvatarNode = AvatarNodes[j] as HTMLElement\n                        AvatarNode.draggable = false\n                    }\n                    var panel = document.getElementsByClassName(\"side-div\");\n                    for (let i = 0; i < panel.length; i++) {\n                        panel[i].addEventListener(\"drop\", function (event) {\n                            event.stopImmediatePropagation();\n                            var data = event.dataTransfer.getData('text/plain');\n                            var StartPointJsonObject = JSON.parse(data)\n                            var hierarchy = StartPointJsonObject.hierarchyLevel\n                            if (StartPointJsonObject.external)\n                                return\n                            var destinationHierarchy = StartPointJsonObject.hierarchyLevel\n                            var id = StartPointJsonObject.id\n                            var StartPointHierarchyId = StartPointJsonObject.hierarchyId\n                            var title = StartPointJsonObject.title\n                            var name = StartPointJsonObject.name\n                            var ClassName = StartPointJsonObject.className\n                            var StartPointParentId = StartPointJsonObject.parentId\n                            if (ClassName == null)\n                                ClassName = StartPointJsonObject.id\n                            var child_list = findChildrenById(datascource2, id)\n                            if (destinationHierarchy != EmployeeEnum) {\n                                // removeListItem(id)\n                                var FinalOrgChartBuffer = JSON.parse(JSON.stringify(datascource2))\n                                var TargetedFinalOrgChartBuffer = FinalOrgChartBuffer\n                                TargetedFinalOrgChartBuffer = SearchById(TargetedFinalOrgChartBuffer, StartPointParentId)\n                                deleteNodeById(TargetedFinalOrgChartBuffer, id)\n                                TargetedFinalOrgChartBuffer = FinalOrgChartBuffer\n                                var targetedIdList: any[] = DecomposeStringToList(StartPointParentId, 0x88, 0x99)\n                                var targetedClass = `${targetedIdList[targetedIdList.length - 1]}`\n                                var targetedId = `${targetedClass} Class`\n                                TargetedFinalOrgChartBuffer = SearchById(TargetedFinalOrgChartBuffer, StartPointParentId)\n                                for (var index in child_list) {\n                                    var bufferIdSuffix = EncodeString(child_list[index].className, 0x88, 0x99)\n                                    var bufferId = `${StartPointParentId}${bufferIdSuffix}`\n                                    var bufferNode: Node = {\n                                        'hierarchyId': StartPointHierarchyId,\n                                        'EmployeeRowId': null,\n                                        'hierarchyLevel': child_list[index].hierarchyLevel,\n                                        'id': bufferId, 'name': child_list[index].name,\n                                        'title': child_list[index].title, 'className': child_list[index].className\n                                    };\n\n                                    addChildren(TargetedFinalOrgChartBuffer, targetedId, bufferNode)\n                                }\n                                datascource2 = FinalOrgChartBuffer\n                                removeEmptyChildren(datascource2)\n                                datascource = JSON.parse(JSON.stringify(datascource2))\n                                GenerateSaveOrgStructure()\n                                var key = getEnumNameFromValue(hierarchy)\n                                id = id.replace(key, \"\")\n\n                                var PathList = DecomposeStringToList(StartPointJsonObject.id, 0x88, 0x99)\n                                console.log(PathList)\n                                var FinalOrgChartBuffer = JSON.parse(JSON.stringify(FinalDatascource2))\n                                var TargetedFinalOrgChartBuffer = FinalOrgChartBuffer\n                                var TargetedFinalOrgChartParentBuffer = FinalOrgChartBuffer\n                                let i = 0\n                                for (i = 0; i < PathList.length-1; i++)\n                                    TargetedFinalOrgChartParentBuffer = findByClassName(TargetedFinalOrgChartParentBuffer, PathList[i])\n                                TargetedFinalOrgChartBuffer = findByClassName(TargetedFinalOrgChartParentBuffer, PathList[i])\n                                if (!isEmptyOrNull(TargetedFinalOrgChartBuffer)) {\n                                    //FinalOrgChartBuffer = JSON.parse(JSON.stringify(FinalDatascource2))\n                                  \n                                    /*\n                                    if (!isEmptyOrNull(TargetedFinalOrgChartBuffer.children)) {\n                                        if (TargetedFinalOrgChartBuffer.children.length == 1 && isEmptyOrNull(TargetedFinalOrgChartBuffer.EmployeeRowId)) {\n                    \n                                            if (!isEmptyOrNull(TargetedFinalOrgChartBuffer.children[0].EmployeeRowId)) {\n                                                //deleteNodeById(TargetedFinalOrgChartBuffer, TargetedFinalOrgChartBuffer.children[0].id)\n                                                TargetedFinalOrgChartBuffer = TargetedFinalOrgChartParentBuffer.children[0]\n                                            }\n                                            \n                                        }\n                                    }\n                                    */\n                                    var ListOfPath = DecomposeStringToList(TargetedFinalOrgChartBuffer.id, 0x88, 0x99)\n                                    var newId = ''\n                                    for (let i = 0; i < ListOfPath.length - 1; i++)\n                                        newId = `${newId}${EncodeString(ListOfPath[i],0x88,0x99)}`\n                                    \n                                    var parentOfElementToRemove = SearchById(TargetedFinalOrgChartParentBuffer, newId)\n                                    console.log(newId)\n                                    console.log(parentOfElementToRemove)\n                                    var childrenToAppend = TargetedFinalOrgChartBuffer.children\n                                    if (!isEmptyOrNull(TargetedFinalOrgChartBuffer.children)) {\n                                        if (TargetedFinalOrgChartBuffer.children.length == 1 && isEmptyOrNull(TargetedFinalOrgChartBuffer.EmployeeRowId)) {\n                                            if (TargetedFinalOrgChartBuffer.children[0].hierarchyLevel == TargetedFinalOrgChartBuffer.hierarchyLevel) {\n                                                if (!isEmptyOrNull(TargetedFinalOrgChartBuffer.children[0].EmployeeRowId)) { // go down\n                                                    console.log(TargetedFinalOrgChartBuffer.children[0])\n                                                   // if (TargetedFinalOrgChartBuffer.children[0].Extension == 1) {\n                                                        childrenToAppend = TargetedFinalOrgChartBuffer.children[0].children\n                                                        deleteNodeById(TargetedFinalOrgChartBuffer, TargetedFinalOrgChartBuffer.children[0].id)\n\n                                                   // }\n                                                }\n                                            }\n                                        }\n                                    }\n                                    deleteNodeById(parentOfElementToRemove, TargetedFinalOrgChartBuffer.id)\n\n                                    console.log(TargetedFinalOrgChartParentBuffer)\n                                    console.log(TargetedFinalOrgChartBuffer)\n                                    //deleteNodeById(FinalOrgChartBuffer, TargetedFinalOrgChartBuffer.id)\n                                    // deleteNodeById(FinalOrgChartBuffer, TargetedFinalOrgChartParentBuffer.id)\n                                    if (!isEmptyOrNull(childrenToAppend)) {\n                                        for (let i = 0; i < childrenToAppend.length; i++) {\n                                            childrenToAppend[i].id = `${parentOfElementToRemove.id}${EncodeString(stripClassSuffix(childrenToAppend[i].className), 0x88, 0x99)\n                                        }`\n                                            addChildren(parentOfElementToRemove, parentOfElementToRemove.className, childrenToAppend[i])\n\n                                        }\n                                    }\n                                    FinalDatascource2 = FinalOrgChartBuffer\n                                    GenerateSaveOrgChart()\n                                }\n                            }\n\n                        })\n                        panel[i].addEventListener(\"dragover\", function (event) {\n                            event.stopImmediatePropagation();\n                            event.preventDefault()\n                        })\n                    }\n\n                    var CheckBoxes = document.getElementsByClassName(\"CheckBox\");\n                    for (let i = 0; i < CheckBoxes.length; i++) {\n                        CheckBoxes[i].addEventListener('change', function handleCheckboxChange(this) {\n                            event.stopImmediatePropagation();\n                            const isChecked = this.checked;\n                            var targetJson = JSON.parse(this.parentElement.parentElement.getAttribute('data-source'))\n                            var targetEmployeeRowId = targetJson.EmployeeRowId\n                            for (let ListCounter = 0; ListCounter < ListOfEmployeeData.length; ListCounter++) {\n                                if (ListOfEmployeeData[ListCounter].id == targetEmployeeRowId) {\n                                    break\n                                }\n                            }\n                            var ElementToSetEmployee = targetJson.id\n                            var FinalOrgChartBuffer = JSON.parse(JSON.stringify(FinalDatascource2))\n                            var TargetedFinalOrgChartBuffer = FinalOrgChartBuffer\n                            TargetedFinalOrgChartBuffer = SearchById(TargetedFinalOrgChartBuffer, ElementToSetEmployee)\n\n\n\n\n\n\n                            console.log(isEmptyOrNull(TargetedFinalOrgChartBuffer))\n\n\n\n\n\n\n                            if (isEmptyOrNull(TargetedFinalOrgChartBuffer.Rights))\n                                TargetedFinalOrgChartBuffer.Rights = {\n                                \"Appraisal\": false,\n                                    \"LeaveApproval\": false,\n                                    \"OtApproval\": false,\n                                    \"Training\": false,\n                                    \"MoneyClaiming\": false,\n                                }\n\n                            TargetedFinalOrgChartBuffer.Rights[this.name] = isChecked\n                            FinalDatascource2 = FinalOrgChartBuffer\n                            var ListOfRights: NodeRights[] = extractRights(FinalOrgChartBuffer)\n                            EmployeeRightsService.ClearOldAdminRightRecord({\n                            }, response => {\n                                for (let i = 0; i < ListOfRights.length; i++) {\n\n                                    if (ListOfRights[i].nodeHierarchy != EmployeeEnum && !isEmptyOrNull(ListOfRights[i].EmployeeRowId)) {\n                                        if (ListOfRights[i].nodeHierarchy != CardType.DIRECTOR) {\n                                            EmployeeRightsService.Create({\n                                                Entity: {\n                                                    \"EmployeeRowId\": ListOfRights[i].EmployeeRowId,\n                                                    \"NodeId\": ListOfRights[i].id,\n                                                    \"Appraisal\": ListOfRights[i].Rights.Appraisal,\n                                                    \"LeaveApproval\": ListOfRights[i].Rights.LeaveApproval,\n                                                    \"OtApproval\": ListOfRights[i].Rights.OtApproval,\n                                                    \"Training\": ListOfRights[i].Rights.Training,\n                                                    \"MoneyClaiming\": ListOfRights[i].Rights.MoneyClaiming,\n                                                }\n                                            })\n                                        }\n                                        else {\n                                            EmployeeRightsService.Create({\n                                                Entity: {\n                                                    \"EmployeeRowId\": ListOfRights[i].EmployeeRowId,\n                                                    \"NodeId\": ListOfRights[i].id,\n                                                    \"Appraisal\": true,\n                                                    \"LeaveApproval\": true,\n                                                    \"OtApproval\": true,\n                                                    \"Training\": true,\n                                                    \"MoneyClaiming\": true,\n                                                }\n                                            })\n\n                                        }\n\n\n                                    }\n\n                                }\n\n\n\n                            })\n                        })\n                    }\n                    let SelectEmployee = $(\".SelectEmployee\")\n                    SelectEmployee.on('click', function (event) {\n                        event.stopImmediatePropagation();\n                        let target = $(this)\n                        let targetJson = JSON.parse(target.parent().attr('data-source'))\n                        console.log(targetJson)\n\n                        var targetId = targetJson.id\n                        var ElementToSet = target.parent().attr('class')\n                        ElementToSetEmployeeInDialog = targetId\n                        var ElementToSetEmployeeClassName = ElementToSet.replace('node', '').trim()\n                        var TargetElementSpan = document.getElementById('TargetElementSpan')\n                        TargetElementSpan.textContent = findTitleByClassName(datascource2, ElementToSetEmployeeClassName)\n                        findTitleByClassName(datascource2, ElementToSetEmployeeClassName)\n                        EmployeeChoosingDialog.show()\n                    })\n                    var filterCheckBox = document.getElementsByClassName(\"filterCheckBox\");\n                    for (let i = 0; i < filterCheckBox.length; i++) {\n                        filterCheckBox[i].addEventListener('change', function handleCheckboxChange(this) {\n                            event.stopImmediatePropagation();\n                            GenerateOrgStructure()\n                        })\n                    }\n                    var OrgChartFilterCheckBox = document.getElementsByClassName(\"OrgChartFilterCheckBox\");\n                    for (let i = 0; i < OrgChartFilterCheckBox.length; i++) {\n                        OrgChartFilterCheckBox[i].addEventListener('change', function handleCheckboxChange(this) {\n                            event.stopImmediatePropagation();\n                            GenerateOrgChart()\n                        })\n                    }\n                    $('.clickable-icon').on('click', async function (e) { // remove PIC\n                        e.stopImmediatePropagation();\n                        var target = $(e.target)\n                        var targetData = null\n                        while (isEmptyOrNull(targetData)) {\n                            targetData = target.attr('data-source')\n                            target = target.parent()\n                        }\n                        var targetJson = JSON.parse(targetData)\n                        var targetId = removedNodeId = targetJson.id\n                        removedNodeId = `${removedNodeId}${EncodeString(`EMPLOYEE${targetJson.EmployeeRowId}`, 0x88, 0x99)}`\n                        indexToRemove = DecomposeStringToList(removedNodeId,0x88,0x99).length - 1\n\n                        var targetClassName = targetJson.className\n                        var FinalOrgChartBuffer = JSON.parse(JSON.stringify(datascource2))\n                        var TargetedFinalOrgChartBuffer = FinalOrgChartBuffer\n                        TargetedFinalOrgChartBuffer = SearchById(TargetedFinalOrgChartBuffer, targetId)\n                        SetEmployeeByClassName(TargetedFinalOrgChartBuffer, targetClassName, null)\n                        datascource2 = FinalOrgChartBuffer\n                        await GenerateSaveOrgStructure()\n\n\n                        var pathList = DecomposeStringToList(TargetedFinalOrgChartBuffer.id, 0x88, 0x99)\n                        var FinalOrgChartBuffer = JSON.parse(JSON.stringify(FinalDatascource2))\n                        var TargetedFinalOrgChartBuffer = FinalOrgChartBuffer\n                        var ChildrenList;\n                        for (let i = 0; i < pathList.length; i++) \n                            TargetedFinalOrgChartBuffer = findByClassName(TargetedFinalOrgChartBuffer, pathList[i])\n                        if (!isEmptyOrNull(TargetedFinalOrgChartBuffer.children)) {\n                            if (!isEmptyOrNull(TargetedFinalOrgChartBuffer.children[0].children))\n                                ChildrenList = TargetedFinalOrgChartBuffer.children[0].children\n                            deleteNodeById(TargetedFinalOrgChartBuffer, TargetedFinalOrgChartBuffer.children[0].id)\n                            if (!isEmptyOrNull(ChildrenList))\n                                for (let i = 0; i < ChildrenList.length; i++)\n                                    addChildren(TargetedFinalOrgChartBuffer, TargetedFinalOrgChartBuffer.className, ChildrenList[i])\r\n                        }                        \n                        FinalDatascource2 = FinalOrgChartBuffer\n                        \n\n\n                        var EmployeeInOrgStruct = countEmployee(SplitOrgStructList, targetJson.EmployeeRowId)\n                        console.log(EmployeeInOrgStruct)\n                        console.log(SplitOrgStructList)\n\n                        if (EmployeeInOrgStruct == 0) //if employee not in org struct, add it back to the org chart\n                        {\n                            var FinalOrgChartBuffer = JSON.parse(JSON.stringify(FinalDatascource2))\n                            var TargetedFinalOrgChartBuffer = FinalOrgChartBuffer\n                            var EmployeeData = ListOfEmployeeData.filter(Employee => Employee.id == targetJson.EmployeeRowId)\n                            var DivisionClass = `DIVISION${EmployeeData[0].DivisionId}`\n                            var DepartmentClass = `DEPARTMENT${EmployeeData[0].DepartmentId}`\n                            var SectionClass = `SECTION${EmployeeData[0].SectionId}`\n                            if (!isEmptyOrNull(EmployeeData)) {\n                                if (!isEmptyOrNull(EmployeeData[0].DivisionId))\n                                    TargetedFinalOrgChartBuffer = findByClassName(TargetedFinalOrgChartBuffer, DivisionClass)\n                                if (!isEmptyOrNull(EmployeeData[0].DepartmentId))\n                                    TargetedFinalOrgChartBuffer = findByClassName(TargetedFinalOrgChartBuffer, DepartmentClass)\n                                if (!isEmptyOrNull(EmployeeData[0].SectionId))\n                                    TargetedFinalOrgChartBuffer = findByClassName(TargetedFinalOrgChartBuffer, SectionClass)\n                                console.log(TargetedFinalOrgChartBuffer)\n                                console.log(EmployeeData)\n                                var id = EncodeString(`EMPLOYEE${EmployeeData[0][\"id\"]}`, 0x88, 0x99)\n                                var bufferNode: Node = {\n                                    'hierarchyId': EmployeeData[0][\"id\"],\n                                    'EmployeeRowId': EmployeeData[0][\"id\"],\n                                    'hierarchyLevel': EmployeeEnum,\n                                    'id': id, 'name': EmployeeData[0].EmployeeName,\n                                    'title': EmployeeData[0].EmployeeName, 'className': `EMPLOYEE${EmployeeData[0].id} Class`\n                                };\n                                if (!isEmptyOrNull(TargetedFinalOrgChartBuffer.children)) {\n                                    if (TargetedFinalOrgChartBuffer.children.length == 1 && isEmptyOrNull(TargetedFinalOrgChartBuffer.EmployeeRowId)) {//go down\n                                        if (TargetedFinalOrgChartBuffer.children[0].hierarchyLevel == TargetedFinalOrgChartBuffer.hierarchyLevel) {\n                                            if (!isEmptyOrNull(TargetedFinalOrgChartBuffer.children[0].EmployeeRowId)) {\n                                                console.log(TargetedFinalOrgChartBuffer.children[0])\n                                               // if (TargetedFinalOrgChartBuffer.children[0].Extension == 1)\n                                                    TargetedFinalOrgChartBuffer = TargetedFinalOrgChartBuffer.children[0]\n                                            }\n                                        }\n\n                                    }\n                                }\n\n                                addChildren(TargetedFinalOrgChartBuffer, TargetedFinalOrgChartBuffer.className, bufferNode)\n                                FinalDatascource2 = FinalOrgChartBuffer\n\r\n                            }\n                        }\n\n\n                        GenerateSaveOrgChart()\n                   \n                    })\n                    $('#generateOrgChartButton').on('click', function (e) {\n                        e.stopImmediatePropagation();\n\n                        if (!isEmptyOrNull(FinalDatascource2)) {\n                            confirmDialog(\"Do you want to generate Organization Chart? The original chart will be override.\", () => {\n                                GenerateOrgChartData()\n                               // setCallbacks()\n                            });\n                        }\n                        else {\n                            GenerateOrgChartData()\n                            //setCallbacks()\n                        }\n                    })\n                    function clickExportButton(id) {\n                        let chartContainer = document.querySelector(id),\n                            mask = chartContainer.querySelector(':scope > .mask'),\n                            sourceChart: HTMLElement = chartContainer.querySelector('.orgchart'),\n                            flag = sourceChart.classList.contains('l2r') || sourceChart.classList.contains('r2l');\n\n                        if (!mask) {\n                            mask = document.createElement('div');\n                            mask.setAttribute('class', 'mask');\n                            mask.innerHTML = `<i class=\"fa fa-circle-o-notch fa-spin spinner\"></i>`;\n                            chartContainer.appendChild(mask);\n                        } else {\n                            mask.classList.remove('hidden');\n                        }\n                        chartContainer.classList.add('canvasContainer');\n\n                        html2canvas(sourceChart, {\n                            'width': flag ? sourceChart.clientHeight : sourceChart.clientWidth,\n                            'height': flag ? sourceChart.clientWidth : sourceChart.clientHeight,\n                            'onclone': function (cloneDoc) {\n                                let canvasContainer = cloneDoc.querySelector('.canvasContainer');\n                                canvasContainer.style.overflow = 'visible';\n                                canvasContainer.querySelector('.orgchart').transform = ''\n                            }\n                        })\n                            .then((canvas) => {\n                                let downloadBtn = chartContainer.querySelector('.oc-download-btn');\n\n                                chartContainer.querySelector('.mask').classList.add('hidden');\n                                downloadBtn.setAttribute('href', canvas.toDataURL());\n                                downloadBtn.click();\n                            })\n                            .catch((err) => {\n                                console.error('Failed to export the curent orgchart!', err);\n                            })\n                            .finally(() => {\n                                chartContainer.classList.remove('canvasContainer');\n                            });\n                    }\n                    $('#exportOrgStructButton').on('click', function (e) {\n                        e.stopImmediatePropagation();\n                        clickExportButton('#chart-container')\n                    })\n                    $('#exportOrgChartButton').on('click', function (e) {\n                        e.stopImmediatePropagation();\n                        clickExportButton('#orgChartContainer')\n                    })\n                    $('#togglePanel').on('click', function (e) {\n                        //  console.log('haha')\n                        e.stopImmediatePropagation();\n                        function isDivHidden(div) {\n                            // Get the computed style of the div\n                            const style = window.getComputedStyle(div);\n                            return style.display === 'none';\n                        }\n                        const myDiv = document.getElementById('ElementsTab');\n                        if (isDivHidden(myDiv)) {\n                            myDiv.style.display = 'block'\n                            this.textContent = 'Hide Tab'\n                        } else {\n                            myDiv.style.display = 'none'\n                            this.textContent = 'Display Tab'\n                        }\n                    })\n                    $('#toggleSidePanel').on('click', function (e) {\n                        //  console.log('haha')\n                        function isDivHidden(div) {\n                            // Get the computed style of the div\n                            const style = window.getComputedStyle(div);\n                            // Check if display is 'none'\n                            return style.display === 'none';\n                        }\n\n                        // Usage example\n                        const myDiv = document.getElementById('left-panel');\n\n                        if (isDivHidden(myDiv)) {\n                            myDiv.style.display = 'block'\n                            this.textContent = 'Hide Tab'\n                        } else {\n                            myDiv.style.display = 'none'\n                            this.textContent = 'Display Tab'\n                        }\n                        e.stopImmediatePropagation();\n\n                    })\n                    $('#toggleOrgChartSidePanel').on('click', function (e) {\n                        function isDivHidden(div) {\n                            // Get the computed style of the div\n                            const style = window.getComputedStyle(div);\n                            // Check if display is 'none'\n                            return style.display === 'none';\n                        }\n                        // Usage example\n                        const myDiv = document.getElementById('chart-left-panel');\n\n                        if (isDivHidden(myDiv)) {\n                            myDiv.style.display = 'block'\n                            this.textContent = 'Hide Tab'\n                        } else {\n                            myDiv.style.display = 'none'\n                            this.textContent = 'Display Tab'\n                        }\n                        e.stopImmediatePropagation();\n\n                    })\n\n\n                    $('.orgchart').addClass('noncollapsable'); // deactivate\n                    var orgChartElement = document.getElementById(\"orgChartContainer\")\n\n                    if (!isEmptyOrNull(orgChartElement) && Authorization.userDefinition.Permissions[PermissionKeys.HumanResources]) {\n                        var orgDiv = orgChartElement.querySelector(\".orgchart\");\n                        if (!isEmptyOrNull(orgDiv)) {\n                            var nodes = orgDiv.getElementsByClassName('node')\n                            for (let i = 0; i < nodes.length; i++) {\n                                var jsonObject = JSON.parse(nodes[i].getAttribute('data-source'));\n                                if (jsonObject.hierarchyLevel != EmployeeEnum) \n                                    nodes[i].draggable = false\n                                if (!isEmptyOrNull(jsonObject.EmployeeRowId)) {\n                                    nodes[i].addEventListener(\"click\", function (event) {\n                                        event.stopImmediatePropagation();\n                                        var target = $(event.target)\n                                        let displayPdf = false\n\n                                        if (target.hasClass('CheckBox')) {\n                                            return\n                                        }\n\n                                        else if (target.hasClass('dot'))//display pdf\n                                            displayPdf = true\n                                        var targetData = null\n                                        while (isEmptyOrNull(targetData)) {\n                                            targetData = target.attr('data-source')\n                                            target = target.parent()\n                                        }\n                                        var targetJson = JSON.parse(targetData);\n                                        var targetEmployeeRowId = targetJson.EmployeeRowId\n                                        if (displayPdf == true) {\n                                            //display pdf\n                                            //console.log(ListOfEmployeeData)\n                                            const employeeRow = ListOfEmployeeData.find(employee => employee.id === targetEmployeeRowId);\n                                            //console.log(employeeRow)\n                                            var pdf = document.getElementById('pdf')\n                                            //  console.log(pdf)\n                                            //  console.log($(pdf))\n                                            pdfSources = []\n                                            pdfOriginalName = []\n                                            try {\n                                                const result = JSON.parse(employeeRow.JobDescPath);\n                                                // console.log(result); // This line will not be executed if jsonString is invalid\n                                                for (let i = 0; i < result.length; i++) {\n                                                    pdfSources.push(`/upload/${result[i].Filename}`)\n                                                    pdfOriginalName.push(`${result[i].OriginalName}`)\n                                                }\n                                            } catch (error) {\n                                                pdf.src = `/upload/${employeeRow.JobDescPath}`\n                                            }\n                                            updatePdf(); // Load the first PDF\n                                            currentPdfIndex = 0;\n                                            pdfDialog.show()\n                                            //pdf.src = `/upload/EmployeeProfile/00000/00000034_ug53pfwxuh2sk.pdf`;\n                                            //img.src = `/upload/${imgPath}`;\n                                            return\n                                        }\n\n                                        else {//display employee profile\n                                            var dlg = new EmployeeBasicDataDialog(targetEmployeeRowId)\n                                            dlg.loadByIdAndOpenDialog(targetEmployeeRowId)\n\n                                        }\n                                    })\n                                }\n                            }\n                        }\n                    }\n                   \n                    if (firstTime == 1)\n                        scrollToParent()\n                    firstTime = 0\n                    observer.disconnect(); // Stop observing after finding the nodes\n\n               // }\n           // }\n        });\n        observer.observe(document.querySelector('#orgChartContainer'), { childList: true, subtree: true, attributes: true });\n    }\n    function extractEmployeeInOrgChart(node) {\n        let results = [];\n        if (node.EmployeeRowId !== undefined && !isEmptyOrNull(node.EmployeeRowId))\n            results.push(parseInt(node.EmployeeRowId))\n        if (node.children && Array.isArray(node.children)) {\n            for (let child of node.children)\n                results = results.concat(extractEmployeeInOrgChart(child));\n        }\n        return results;\n    }\n    function ExtendTree(children) {\n        function stripClassSuffix(str: string): string {\n            return str.endsWith(\"Class\") ? str.slice(0, -5) : str;\n        }\n\n        for (let child of children) {\n            // Check if the child has children and store them\n            const nestedChildren = child.children || [];\n            var idBuffer = `${child.id}`;\n\n            // Condition to modify child\n            if (child.EmployeeRowId != null && child.hierarchyLevel !== EmployeeEnum) {\n                child.children = [];\n                // Encode the ID\n                idBuffer = `${child.id}${EncodeString(`EMPLOYEE${child.EmployeeRowId}`, 0x88, 0x99)}`;\n                var bufferNode: NodeRow = {\n                    EmployeeRowId: child.EmployeeRowId,\n                    hierarchyLevel: child.hierarchyLevel,\n                    name: child.name,\n                    id: idBuffer,\n                    title: child.title,\n                    className: `EMPLOYEE${child.EmployeeRowId} Class`,\n                    children: nestedChildren.length ? nestedChildren : undefined, // Only add children if they exist\n                    extension: 1,\n                    parentId: child.id\n                }\n                // Push modified child information into the children array\n                child.children.push(bufferNode);\n                // Clear EmployeeRowId\n                child.EmployeeRowId = null;\n            }\n            if (nestedChildren.length > 0) {\n                for (let nestedChild of nestedChildren) {\n                    var strip = stripClassSuffix(nestedChild.className)\n                    var newId = `${idBuffer}${EncodeString(strip, 0x88, 0x99)}`;\n                    nestedChild.id = newId\n                }\n                ExtendTree(nestedChildren);\n            }\n        }\n        return children;\n    }\n    function SearchById(node, id) {\n        // Check if the current node has Rights and EmployeeRowId\n        if (node.id == id)\n            return node\n\n        if (node.children) {\n            for (const child of node.children) {\n                var result = SearchById(child, id);\n                if (result)\n                    return result\n            }\n        }\n        return null;\n    }\n    function extractRightsAndEmployeeRowId(node: Node): ExtractedData[] {\n        let result: ExtractedData[] = [];\n        // Check if the current node has Rights and EmployeeRowId\n        if (node.Rights && node.EmployeeRowId) {\n            result.push({\n                hierarchyId: node.hierarchyLevel,\n                id: node.id,\n                EmployeeRowId: node.EmployeeRowId,\n                Rights: node.Rights\n            });\n        }\n        else if (!isEmptyOrNull(node.EmployeeRowId) && node.hierarchyLevel != EmployeeEnum)\n            result.push({\n                hierarchyId: node.hierarchyLevel,\n                id: node.id,\n                EmployeeRowId: node.EmployeeRowId,\n                Rights: {\n                    OtApproval: false,\n                    LeaveApproval: false,\n                    Appraisal: false,\n                    MoneyClaiming: false,\n                    Training:false\n                }\n            });\n        // Recursively process children if they exist\n        if (node.children) {\n            for (const child of node.children)\n                result = result.concat(extractRightsAndEmployeeRowId(child));\n        }\n        return result;\n    }\n\n    function GenerateOrgChartData() {\n        \n        // Recursive function to traverse the employee structure and collect data\n        function fillInRights(node) {\n            if (node.hierarchy == CardType.DIRECTOR) {\n                var Right = {\n                    'Appraisal': true,\n                    'LeaveApproval': true,\n                    'OtApproval': true,\n                    'MoneyClaiming': true,\n                    'Training': true\n                }\n                node.Rights = Right\n            }\n            else if (isEmptyOrNull(node.Rights) && !isEmptyOrNull(node.EmployeeRowId)) {\n                var Right = {\n                    'Appraisal': false,\n                    'LeaveApproval': false,\n                    'OtApproval': false,\n                    'MoneyClaiming': false,\n                    'Training': false\n                }\n                node.Rights = Right\n            }\n            if (node.children) {\n                for (const child of node.children)\n                    fillInRights(child);\n            }\n        }\n        if (!isEmptyOrNull(FinalDatascource2))\n            var ListOfRights: ExtractedData[] = extractRightsAndEmployeeRowId(FinalDatascource2)\n        let EmployeeInOrgChart: number[] = extractEmployeeInOrgChart(datascource2)\n        //console.log(JSON.parse(JSON.stringify(datascource2)))\n        var GenerativeOrgChartBuffer = JSON.parse(JSON.stringify(datascource2))\n        var FinalOrgChartBuffer\n        /*\n        for (let i = 0; i < ListOfEmployeeData.length; i++) {\n             FinalOrgChartBuffer = JSON.parse(JSON.stringify(datascource2))\n            var TargetedFinalOrgChartBuffer = FinalOrgChartBuffer\n            for (const key of Object.keys(CardType)) {\n                if (isNaN(Number(key))) {\n                var id = ListOfEmployeeData[i][`${capitalizeFirstLetter(key)}Id`];\n                if (isEmptyOrNull(id))\n                    continue\n                var TargetedClassName = `${key}${id} Class`\n                    TargetedFinalOrgChartBuffer = findByClassName(TargetedFinalOrgChartBuffer, TargetedClassName)\n                    if (TargetedFinalOrgChartBuffer == null) {\n                        var correctDepartment = GetLookupValueFromId(capitalizeFirstLetter(getEnumNameFromValue(CardType.DEPARTMENT)), ListOfEmployeeData[i][capitalizeFirstLetter(getEnumNameFromValue(CardType.DEPARTMENT)) + 'Id'])\n                        var correctDivision = GetLookupValueFromId(capitalizeFirstLetter(getEnumNameFromValue(CardType.DIVISION)), ListOfEmployeeData[i][capitalizeFirstLetter(getEnumNameFromValue(CardType.DIVISION)) + 'Id'])\n                        var correctSection = GetLookupValueFromId(capitalizeFirstLetter(getEnumNameFromValue(CardType.SECTION)), ListOfEmployeeData[i][capitalizeFirstLetter(getEnumNameFromValue(CardType.SECTION)) + 'Id'])\n                        var string = `${ListOfEmployeeData[i][\"EmployeeName\"]} should be in `;\n                        if (!isEmptyOrNull(correctSection))\n                            string += `${correctSection} ${capitalizeFirstLetter(getEnumNameFromValue(CardType.SECTION))}, under `\n                        if (!isEmptyOrNull(correctDepartment))\n                            string += `${correctDepartment} ${capitalizeFirstLetter(getEnumNameFromValue(CardType.DEPARTMENT))}, under `\n                        if (!isEmptyOrNull(correctDivision))\n                            string += `${correctDivision} ${capitalizeFirstLetter(getEnumNameFromValue(CardType.DIVISION))}`\n                        alertDialog(string)\n                    break\n                    }\n            }\n            }\n        }\n        */\n        FinalOrgChartBuffer = JSON.parse(JSON.stringify(GenerativeOrgChartBuffer))\n\n\n        //fill in employee\n        //START\n\n        for (let i = 0; i < ListOfEmployeeData.length; i++) {\n            //if (EmployeeInOrgChart.includes(ListOfEmployeeData[i].id) || EmployeeFilter.includes(ListOfEmployeeData[i].id)) \n            //    continue\n            if (EmployeeInOrgChart.includes(ListOfEmployeeData[i].id))\n                continue\n\n            var TargetedFinalOrgChartBuffer = FinalOrgChartBuffer\n            var str\n            for (var LookupIndex in OccupationTable.items) {\n                if (OccupationTable.items[LookupIndex].Id == ListOfEmployeeData[i][\"OccupationId\"]) {\n                    str = OccupationTable.items[LookupIndex].Name\n                    break\n                }\n            }\n\n            var id = EncodeString(`EMPLOYEE${ListOfEmployeeData[i][\"id\"]}`, 0x88, 0x99)\n            var bufferNode: Node = {\n                'hierarchyId': ListOfEmployeeData[i][\"id\"],\n                'EmployeeRowId': ListOfEmployeeData[i][\"id\"],\n                'hierarchyLevel': EmployeeEnum,\n                'id': id, 'name': str,\n                'title': str, 'className': `EMPLOYEE${ListOfEmployeeData[i].id} Class`\n            };\n            var PrevDestination;\n            let counter = 0;\n            let ignore = 0;\n            for (const key of Object.keys(CardType)) {\n                if (isNaN(Number(key))) {\n                    if (isEmptyOrNull(ListOfEmployeeData[i][`${capitalizeFirstLetter(key)}Id`]))\n                        continue\n                    var DestinationNode = `${key}${ListOfEmployeeData[i][capitalizeFirstLetter(key) + 'Id']} Class`\n                    var Holder = TargetedFinalOrgChartBuffer\n                    TargetedFinalOrgChartBuffer = findByClassName(TargetedFinalOrgChartBuffer, DestinationNode)\n                    if (isEmptyOrNull(TargetedFinalOrgChartBuffer)) {\n                        if (counter > 0) {\n                            TargetedFinalOrgChartBuffer = Holder\n                            DestinationNode = PrevDestination\n                        }\n                        else {\n                            TargetedFinalOrgChartBuffer = findByClassName(FinalOrgChartBuffer, `${getEnumNameFromValue(CardType.DIRECTOR)}`) \n                            ignore = 1;\n                        }\n                        break\n                    }\n                    PrevDestination = DestinationNode\n                    counter += 1\n                }\n            }\n            /*\n            if (TargetedFinalOrgChartBuffer.children.length == 1) {\n                bufferNode.id = TargetedFinalOrgChartBuffer.children[0].id + bufferNode.id\n                ForceChildren(TargetedFinalOrgChartBuffer.children[0], bufferNode)\n            }\n            else {\n            */\n            if (!isEmptyOrNull(TargetedFinalOrgChartBuffer)) {\n                if (!EmployeeInOrgChart.includes(ListOfEmployeeData[i].id)) {\n                    bufferNode.id = TargetedFinalOrgChartBuffer.id + bufferNode.id\n                    addChildren(TargetedFinalOrgChartBuffer, DestinationNode, bufferNode)\n                }\n            }\n\n            // }\n\n        }\n        //END\n\n\n\n\n\n\n        var obj = FinalOrgChartBuffer\n        var edited = ExtendTree(obj.children)\n        obj.children = []\n        obj.children = edited\n\n\n\n\n\n\n        //THIS SECTION WILL fill in rights\n        //START\n        var ListOfUnusedRights: ExtractedData[] = []\n        if (!isEmptyOrNull(ListOfRights)) {\n            for (let i = 0; i < ListOfRights.length; i++) {\n                var TargetedFinalOrgChartBuffer = FinalOrgChartBuffer\n                var buffer: Node = SearchById(TargetedFinalOrgChartBuffer, ListOfRights[i].id)\n                //console.log(buffer)\n                if (isEmptyOrNull(buffer)) {\n                    if (ListOfRights[i].hierarchyId <= CardType.SECTION) {\n                        if (ListOfRights[i].id != removedNodeId)\n                        ListOfUnusedRights.push(ListOfRights[i])\n                    }\n                    continue\n                }\n                //if (!isEmptyOrNull(buffer))\n                 buffer.Rights = ListOfRights[i].Rights\n\n            }\n        }\n        if (!isEmptyOrNull(removedNodeId)) {\n\n            for (let i = 0; i < ListOfUnusedRights.length; i++) {\n                var newPath = DecomposeStringToList(ListOfUnusedRights[i].id, 0x88, 0x99)\n                newPath.splice(indexToRemove, 1)\n                var newId = ComposeListToString(newPath, 0x88, 0x99)\n\n                var buffer: Node = SearchById(TargetedFinalOrgChartBuffer, newId)\n                if (!isEmptyOrNull(buffer))\n                    buffer.Rights = ListOfUnusedRights[i].Rights\n            }\n\n\n            removedNodeId = ''\n        }\n        else if (!isEmptyOrNull(addedClass)) {\n            for (let i = 0; i < ListOfUnusedRights.length; i++) {\n                var newPath = DecomposeStringToList(ListOfUnusedRights[i].id, 0x88, 0x99)\n                newPath.splice(addedIndex, 0, addedClass)\n                var newId = ComposeListToString(newPath, 0x88, 0x99)\n\n                var buffer: Node = SearchById(TargetedFinalOrgChartBuffer, newId)\n                if (!isEmptyOrNull(buffer))\n                    buffer.Rights = ListOfUnusedRights[i].Rights\n            }\n            addedClass=''\n        }\n        TargetedFinalOrgChartBuffer = FinalOrgChartBuffer\n        fillInRights(TargetedFinalOrgChartBuffer)\n        // END\n\n        FinalDatascource2 = FinalOrgChartBuffer\n        //    var orgChartElement = document.getElementById(\"orgChartContainer\")\n        //    orgChartElement.innerHTML = ''\n        //   for (let i = 0; i < orgChartElement.children.length; i++)\n        //       orgChartElement.children[i].remove()\n        GenerateSaveOrgChart()\n\n    }\n    function GenerateCard(ElementId, CardText, Type) {\n        var EmployeeCol_2 = document.createElement('div')\n        EmployeeCol_2.className = \"flex-child\"\n        var EmployeeContainer = document.createElement('td')\n        var Employee = document.createElement('div')\n        EmployeeContainer.appendChild(Employee)\n        var CardClass = CardType[Type];\n        Employee.className = \"flex-container \" + CardClass;\n        Employee.style.border = '1px solid #ccc';\n        Employee.style.padding = '10px';\n        Employee.draggable = true;\n\n        var DataSource = `{ \"EmployeeRowId\":\"null\",\"hierarchyLevel\":\"${Type}\",\"hierarchyId\":\"${ElementId}\" ,\"id\":\"${CardClass + ElementId}\",\n        \"type\":\"${Type}\",\"title\":\"${CardText}\",\"external\": \"true\",\"ElementId\": \"\", \"className\":\"${CardClass + ElementId} Class\"}`;\n        Employee.setAttribute('data-source', DataSource);\n        Employee.id = CardClass + ElementId.toString();\n        var TitleContent = document.createElement('div');\n        TitleContent.textContent = CardText;\n        TitleContent.className = \"CardTitle\"\n        EmployeeCol_2.appendChild(TitleContent)\n        Employee.appendChild(EmployeeCol_2)\n        Employee.addEventListener(\"dragstart\", function (event) {\n            var dragEvent = event.target as Element\n            var StringToTransfer = dragEvent.getAttribute('data-source')\n            event.dataTransfer.setData('text/plain', StringToTransfer);\n            event.dataTransfer.dropEffect = 'move';  // Set the drop effect\n        })\n        Employee.addEventListener(\"dragend\", function (event) {\n        })\n        return EmployeeContainer\n    }\n    function SetEmployeeByClassName(root, TargetClassName, EmployeeRowId) {\n        if (!TargetClassName.endsWith(\"Class\"))\n            TargetClassName = TargetClassName + \" Class\"\n        // If the current node's name matches the target name, add the new node\n        if (root.className === TargetClassName) {\n            if (isEmptyOrNull(EmployeeRowId))\n                root.EmployeeRowId = null\n            else\n                root.EmployeeRowId = parseInt(EmployeeRowId)\n            return true; // Node found and new node added\n        }\n        if (root.children)\n            for (const child of root.children)\n                if (SetEmployeeByClassName(child, TargetClassName, EmployeeRowId))\n                    return false; // Stop recursion after adding the node\n        return false; // Target node not found\n    }\n    function SetEmployeeById(root, id, EmployeeRowId) {\n        // If the current node's name matches the target name, add the new node\n        if (root.id === id) {\n            if (isEmptyOrNull(EmployeeRowId))\n                root.EmployeeRowId = null\n            else\n                root.EmployeeRowId = parseInt(EmployeeRowId)\n            return true; // Node found and new node added\n        }\n        if (root.children)\n            for (const child of root.children)\n                if (SetEmployeeById(child, id, EmployeeRowId))\n                    return false; // Stop recursion after adding the node\n        return false; // Target node not found\n    }\n    function findEmployee(data: NodeRow[], EmployeeRowId: number): NodeRow {\n        \n        let result = null; // Variable to hold the result\n        if (isEmptyOrNull(data))\n            return result\n       // console.log(EmployeeRowId)\n        for (let i = 0; i < data.length;i++)\n        {\n            //if (data[i].hierarchyLevel == EmployeeEnum)\n            //    console.log(data[i])\n\n            if (data[i].hierarchyLevel == EmployeeEnum && data[i].EmployeeRowId == EmployeeRowId) {\n                return data[i]; // Return the found object\n            }\n        }\n\n        return null; // Return null if no match is found\n    }\n    function countEmployee(data: NodeRow[], EmployeeRowId):number {\n\n        let result = 0; // Variable to hold the result\n        if (isEmptyOrNull(data))\n            return result\n\n        for (let i = 0; i < data.length; i++) {\n            if (data[i].EmployeeRowId == EmployeeRowId) {\n                result+=1\n            }\n        }\n      \n\n        return result; // Return null if no match is found\n    }\n\n\n\n    function findByClassName(data, className) {\n        // console.log(data)\n\n        if (!className.endsWith(\"Class\"))\n            className = className + \" Class\"\n        let result = null; // Variable to hold the result\n        if (isEmptyOrNull(data))\n            return result\n\n        const queue = [data]; // Initialize a queue with the root object\n\n        while (queue.length > 0) {\n            const current = queue.shift(); // Get the first element in the queue\n\n            // Check if the current object has the className we're looking for\n            if (current.className === className) {\n                return current; // Return the found object\n            }\n\n            // Add children to the queue for later processing\n            if (current.children) {\n                queue.push(...current.children);\n            }\n        }\n\n        return result; // Return null if no match is found\n        /*\n    function search(obj) {\n        console.log(obj)\n        // Check if the current object has the className we're looking for\n        if (\"className\" in obj) {\n            if (obj.className === className) {\n                result = obj; // Store the result\n                return; // Exit the function once a match is found\n            }\n        }\n      \n        // Recursively search through children if the result is not found\n        if (obj.children) {\n            for (const child of obj.children) {\n                search(child);\n                if (result)  // If result is found, no need to continue searching\n                    return;\n            }\n        }\n    }\n    search(data);\n    return result;\n    */\n    }\n    function traceParents(item, allData) {\n        let parents = [];\n        let parent = allData.find(obj => obj.id == item);\n        while (parent) {\n            parents.push(parent);\n            parent = allData.find(obj => obj.id == parent.parentId);\n        }\n        return parents;\n    }\n    function GenerateOrgStructure() {\n\n        SplitOrganisationStructureService.List({\n        }, response => {\n            if (SplitOrgStructList.length == 0) {\n                for (let i = 0; i < response.Entities.length; i++) {\n                    var EmployeeRowId = response.Entities[i].EmployeeRowId\n                    if (EmployeeFilter.indexOf(response.Entities[i].EmployeeRowId) != -1) {\n                        EmployeeRowId = null\n                        SplitOrganisationStructureService.Update({\n                            EntityId: response.Entities[i].Id,\n                            Entity:\n                            {\n                                \"EmployeeRowId\": null\n                            }\n                        });\n                    }\n                    SplitOrgStructList.push({\n                        id: response.Entities[i].NodeId,\n                        EmployeeRowId: EmployeeRowId,\n                        name: response.Entities[i].Name,\n                        title: response.Entities[i].Title,\n                        className: response.Entities[i].ClassName,\n                        hierarchyLevel: response.Entities[i].HierarchyLevel,\n                        parentId: response.Entities[i].ParentId,\n                        hierarchyId: response.Entities[i].hierarchyId,\n                        childrenIndex: response.Entities[i].childrenIndex\n                    })\n                }\n            }\n            const checkedBoxes = Array.from(document.querySelectorAll('.filterCheckBox:checked'));\n            const checkedIds = checkedBoxes.map(box => box.getAttribute('wantedId'));\n            var Json, filterFlag = 0;\n            if (checkedIds.length > 0) {\n                filterFlag = 1;\n                let OrgStructFinalResult = [];\n                checkedIds.forEach(item => {\n                    OrgStructFinalResult.push(item);\n                    const parents = traceParents(item, SplitOrgStructList);\n                    OrgStructFinalResult.push(...parents);\n                });\n                OrgStructFinalResult = Array.from(new Set(OrgStructFinalResult.map(obj => obj.id)))\n                    .map(id => SplitOrgStructList.find(obj => obj.id === id));\n                Json = GenerateJson(OrgStructFinalResult)\n            }\n            else {\n                Json = GenerateJson(SplitOrgStructList)\n                datascource2 = JSON.parse(JSON.stringify(Json))\n            }\n\n            if (isEmptyOrNull(Json)) {\n                if (isEmptyOrNull(spareOrgStructJson))\n                    Json = GenerateDefaultOrgStruct()\n                else\n                    Json = JSON.parse(spareOrgStructJson)\n            }\n\n            if (filterFlag == 0)\n                datascource2 = JSON.parse(JSON.stringify(Json))\n\n            var orgChartElement = document.getElementById(\"chart-container\")\n            var panel = orgChartElement.querySelector(\"#left-panel\");\n            if (isEmptyOrNull(panel)) {\n                var LeftPanel = document.createElement(\"div\")\n                LeftPanel.id = \"left-panel\"\n                LeftPanel.className = \"left-panel-class\"\n                orgChartElement.append(LeftPanel)\n                var BulletList = GenerateUl(datascource2, ChartType.OrgStruct)\n                $('#left-panel').append(BulletList)\n                $('#left-panel').addClass(\"scrollable\")\n            }\n\n            GenerateStructure(Json, 'chart-container', filterFlag);\n\n            if (Authorization.userDefinition.Permissions[PermissionKeys.HumanResources]) {\n              //  console.log('haha')\n                var generateOrgChartButton = orgChartElement.querySelector(\"#chart-container .buttonGroup\");\n                if (isEmptyOrNull(generateOrgChartButton)) {\n                  //  console.log('haha')\n\n                    generateOrgChartButton = document.createElement('div')\n                    generateOrgChartButton.className = 'buttonGroup'\n                    generateOrgChartButton.innerHTML =\n                        `\n            <button id=\"generateOrgChartButton\" class=\"btn btn-light btn-rounded\" style=\"top: 50px; right: 10px; position: absolute; background-color: rgb(197, 216, 240);\">Generate Organisation Chart</button>\n            <a id=\"downloadOrgStructButton\" class=\"btn btn-light btn-rounded oc-download-btn\"  download=\"orgStruct.png\" style=\"top: 85px; right: 10px; position: absolute; background-color: rgb(197, 216, 240);\">Download Organisation Structure</a>\n            <button id=\"exportOrgStructButton\" class=\"btn btn-light btn-rounded oc-export-btn\"  style=\"top: 85px; right: 10px; position: absolute; background-color: rgb(197, 216, 240);\">Download Organisation Structure</button>\n\n            <button id=\"togglePanel\" class=\"btn btn-light btn-rounded\" style=\"bottom: 10px; right: 10px; position: absolute; background-color: rgb(197, 216, 240);\">Hide Tab</button>\n            <button id=\"toggleSidePanel\" class=\"btn btn-light btn-rounded\" style=\"bottom: 10px; left: 10px; position: absolute; background-color: rgb(197, 216, 240);\">Hide Filter Tab</button>\n            `\n                    orgChartElement.appendChild(generateOrgChartButton)\n                }\n            }\n            //setCallbacks()\n\n        })\n\n\n    }\n    let StructArray: NodeRow[]\n    async function GenerateSaveOrgStructure() {\n        function extractFirstNumber(input: string): number | null {\n            const match = input.match(/\\d+/);\n            return match ? Number(match[0]) : null;\n        }\n\n        function isEmployeeClassFormat(input: string): boolean {\n            return /^EMPLOYEE\\d+/.test(input);\n        }\n\n        // \u2705 Step 1: Ensure DeleteAll completes before proceeding\n        await new Promise<void>((resolve, reject) => {\n            SplitOrganisationStructureService.DeleteAll({}, response => resolve(), error => reject(error));\n        });\n\n        // \u2705 Step 2: Process and store data after DeleteAll completes\n        datascource = JSON.parse(JSON.stringify(datascource2));\n        StructArray = splitIntoNodes(datascource2);\n\n        // \u2705 Step 3: Create all nodes and wait for them to complete\n        const createRequests = StructArray.map(struct => {\n            return new Promise<void>((resolve, reject) => {\n                let ElementRowID;\n                const ClassList = DecomposeStringToList(struct.id, 0x88, 0x99);\n\n                if (isEmployeeClassFormat(ClassList[ClassList.length - 1])) {\n                    ElementRowID = extractFirstNumber(ClassList[ClassList.length - 2]);\n                } else {\n                    ElementRowID = extractFirstNumber(struct.className);\n                }\n\n                SplitOrganisationStructureService.Create({\n                    Entity: {\n                        \"ParentId\": struct.parentId,\n                        \"NodeId\": struct.id,\n                        \"Name\": struct.name,\n                        \"Title\": struct.title,\n                        \"ClassName\": struct.className,\n                        \"HierarchyLevel\": struct.hierarchyLevel,\n                        \"EmployeeRowId\": struct.EmployeeRowId,\n                        \"hierarchyId\": struct.hierarchyId,\n                        \"childrenIndex\": struct.childrenIndex,\n                        \"ElementRowId\": ElementRowID\n                    }\n                }, response => {\n                    if (response && response.EntityId) \n                        struct.rowId = response.EntityId; // Assign NodeRowId\n                    resolve()\n                }, error => reject(error));\n            });\n        });\n\n        // \u2705 Wait until ALL Create requests are completed before moving forward\n        await Promise.all(createRequests);\n\n        // \u2705 Step 4: Proceed with the rest of the logic after everything is completed\n        SplitOrgStructList = StructArray;\n        const checkedBoxes = Array.from(document.querySelectorAll('.filterCheckBox:checked'));\n        const checkedIds = checkedBoxes.map(box => box.getAttribute('wantedId'));\n\n        let Json;\n        let filterFlag = 0;\n        if (checkedIds.length > 0) {\n            filterFlag = 1;\n            let OrgStructFinalResult = [];\n            checkedIds.forEach(item => {\n                OrgStructFinalResult.push(item);\n                const parents = traceParents(item, SplitOrgStructList);\n                OrgStructFinalResult.push(...parents);\n            });\n            OrgStructFinalResult = Array.from(new Set(OrgStructFinalResult.map(obj => obj.id)))\n                .map(id => SplitOrgStructList.find(obj => obj.id === id));\n            Json = GenerateJson(OrgStructFinalResult);\n        } else {\n            Json = GenerateJson(SplitOrgStructList);\n        }\n\n        const BulletList = GenerateUl(datascource2, ChartType.OrgStruct);\n        $('#left-panel').html('');\n        $('#left-panel').append(BulletList);\n        $('#left-panel').addClass('scrollable');\n\n        GenerateStructure(Json, 'chart-container', filterFlag);\n    }\n\n    /*\n    function GenerateSaveOrgStructure() {\n        function extractFirstNumber(input: string): number | null {\n            const match = input.match(/\\d+/);\n            return match ? Number(match[0]) : null;\n        }\n        function isEmployeeClassFormat(input: string): boolean {\n            return /^EMPLOYEE\\d+/.test(input);\n        }\n        SplitOrganisationStructureService.DeleteAll({\n        }, response => {\n            datascource = JSON.parse(JSON.stringify(datascource2))\n            StructArray = splitIntoNodes(datascource2)\n            for (let i = 0; i < StructArray.length; i++) {\n                var ElementRowID\n                var ClassList = DecomposeStringToList(StructArray[i].id, 0x88, 0x99)\n                if (isEmployeeClassFormat(ClassList[ClassList.length - 1]))\n                    ElementRowID = extractFirstNumber(ClassList[ClassList.length - 2])\n                else\n                    ElementRowID = extractFirstNumber(StructArray[i].className)\n\n                SplitOrganisationStructureService.Create({\n                    Entity:\n                    {\n                        \"ParentId\": StructArray[i].parentId,\n                        \"NodeId\": StructArray[i].id,\n                        \"Name\": StructArray[i].name,\n                        \"Title\": StructArray[i].title,\n                        \"ClassName\": StructArray[i].className,\n                        \"HierarchyLevel\": StructArray[i].hierarchyLevel,\n                        \"EmployeeRowId\": StructArray[i].EmployeeRowId,\n                        \"hierarchyId\": StructArray[i].hierarchyId,\n                        \"childrenIndex\": StructArray[i].childrenIndex,\n                        \"ElementRowId\": ElementRowID\n                    },\n                });\n            }\n            SplitOrgStructList = StructArray\n            const checkedBoxes = Array.from(document.querySelectorAll('.filterCheckBox:checked'));\n            const checkedIds = checkedBoxes.map(box => box.getAttribute('wantedId'));\n            var Json, filterFlag = 0;\n            if (checkedIds.length > 0) {\n                filterFlag = 1\n                let OrgStructFinalResult = [];\n                checkedIds.forEach(item => {\n                    OrgStructFinalResult.push(item);\n                    const parents = traceParents(item, SplitOrgStructList);\n                    OrgStructFinalResult.push(...parents);\n                });\n                OrgStructFinalResult = Array.from(new Set(OrgStructFinalResult.map(obj => obj.id)))\n                    .map(id => SplitOrgStructList.find(obj => obj.id === id));\n                Json = GenerateJson(OrgStructFinalResult)\n            }\n            else\n                Json = GenerateJson(SplitOrgStructList)\n            var BulletList = GenerateUl(Json, ChartType.OrgStruct)\n            $('#left-panel').html('');\n            $('#left-panel').append(BulletList);\n            GenerateStructure(Json, 'chart-container', filterFlag)\n        })\n\n    }\n    */\n    function GenerateDefaultOrgStruct() {\n        var title = getEnumNameFromValue(CardType.DIRECTOR)\n        var name = title\n        var id = EncodeString(title, 0x88, 0x99)\n        var bufferNode: Node = {\n            'hierarchyId': CardType.DIRECTOR,\n            'EmployeeRowId': null,\n            'hierarchyLevel': CardType.DIRECTOR,\n            'id': id, 'name': name,\n            'title': title, 'className': title + \" Class\"\n        };\n        return bufferNode\n    }\n    function GenerateStructure(InputJson, containerId, filter) {\n        var orgChartElement = document.getElementById(containerId)\n        if (orgChartElement) {\n            var orgDiv = orgChartElement.querySelector(\".orgchart\");\n            if (orgDiv) {\n                Style = orgDiv.getAttribute('style')\n                DataPanStart = orgDiv.getAttribute('data-pan-start')\n                orgDiv.remove()\n            }\n        }\n\n        let orgchart = new OrgChart({\n            'chartContainer': `#${containerId}`,\n            'data': InputJson,\n            'nodeContent': 'title',\n            'nodeId': 'thisOrgChart',\n            'zoom': true,\n            'pan': true,\n            'renderCompleted':setCallbacks(),\n            //'renderCompleted': setCallbacks(),\n            'createNode': function (node, data) {\n                let image = \"\"\n    \n                if (node.hierarchyLevel != EmployeeEnum)\n                    node.draggable = false\n                let $jqueryObject = $(node);\n\n                if (isEmptyOrNull(data.EmployeeRowId)) { // no employee\n                    if (Authorization.userDefinition.Permissions[PermissionKeys.HumanResources]) {\n                        image = `<button type=\"button\"  class=\"btn btn-light btn-rounded SelectEmployee\" data-mdb-ripple-color=\"#ffffff\" style=\"background-color:#e4dbd8\"> <span style=\"display:block;\">Select Employee</span> </button>`\n                        $jqueryObject.append(image)\n                    }\n                }\n                else {\n                    var employeeRow = ListOfEmployeeData.find(employee => employee.id === data.EmployeeRowId);\n                    var imgPath = employeeRow.ImgPath;\n                    image = ` \n\n                    <div  style=\"display: flex; align-items: center; height: 100%;\" class=\" row\">\n                        </div>\n                <div style=\"text-align: left;height: 100%;padding-right:0;align-items: center;justify-content: center;display: flex;padding-top: 5px;padding-bottom: 5px\">\n                    <div style=\"text-align: left;height: 100%;width:100%;padding-right:0\">\n                            <div class=\"col-1\"  style=\"font-size: 10px; display: flex; justify-content: space-between; align-items: center; width: 100%; white-space: nowrap;\"> <span  style=\"display: block;white-space: nowrap;\"> ${employeeRow.EmployeeName} </span>  </div>\n                            </div>\n                    `\n                    $jqueryObject.append(image)\n                    if (data.hierarchyLevel != EmployeeEnum && Authorization.userDefinition.Permissions[PermissionKeys.HumanResources]) {\n                        let cancelButton = `<div class=\"fa fa-times btn clickable-icon\"></div>`\n                        let div = $jqueryObject.find(\".col-1\")\n                        div.append(cancelButton)\n\n                    }\n                    var imgContainer = document.createElement('div');\n\n                    var img = document.createElement('img');\n                    img.src = `/upload/${imgPath}`;\n                    img.className = 'avatar';\n                    img.crossOrigin = 'anonymous'\n                    img.draggable = false\n                    img.width = 63;\n                    img.height = 112.5;\n                    img.style.marginRight = '20px'\n                    // Add an error event listener\n\n                    img.onerror = function () {\n                        // Handle the error, e.g., set a placeholder image\n                        img.src = ''; // Replace with your placeholder path\n                    };\n\n                    imgContainer.appendChild(img)\n                    let row = $jqueryObject.find(\".row\")\n                    row.append(imgContainer)\n                }\n                let content = $jqueryObject.find(\".content\")\n                content.remove()\n            }\n        });\n        console.log(filter)\n        console.log(orgStructDisplay)\n        console.log(isOrgChartOutOfView())\n        if (filter == orgStructDisplay) \n            orgchart.chart.style = Style\n        \n        else \n            orgStructDisplay = filter\n\n        return orgchart\n    }\n    function GenerateUl(node, type) {\n        if (isEmptyOrNull(node)) return;\n\n        const checkbox = document.createElement('input');\n        checkbox.type = 'checkbox';\n        if (type === ChartType.OrgStruct)\n            checkbox.className = 'filterCheckBox';\n        else if (type === ChartType.OrgChart)\n            checkbox.className = 'OrgChartFilterCheckBox';\n\n        // Step 1: Collect the state of all checkboxes and toggle buttons before regenerating the list\n        const checkedCheckboxes = {};\n        const toggleStates = {};\n\n        const allCheckboxes = document.querySelectorAll(`input.${checkbox.className}`);\n        allCheckboxes.forEach(cb => {\n            checkedCheckboxes[cb.getAttribute('wantedId')] = cb.checked;\n        });\n\n        const allToggles = document.querySelectorAll(`.${checkbox.className}.toggle`);\n        allToggles.forEach(toggle => {\n            const nodeId = toggle.getAttribute('wantedid');\n            toggleStates[nodeId] = toggle.textContent === '-';\n        });\n\n        // Step 2: Create the main <ul> element\n        const ul = document.createElement('ul');\n        ul.classList.add('nested');\n       // ul.id = 'bulletList';\n\n        const li = document.createElement('li');\n        li.textContent = `${node.name}`;\n\n        if (!isEmptyOrNull(node.EmployeeRowId)) {\n            const employeeRow = ListOfEmployeeData.find(employee => employee.id === node.EmployeeRowId);\n            if (!isEmptyOrNull(employeeRow))\n                li.textContent = `${li.textContent} (${employeeRow.EmployeeId})`;\n        }\n\n        // Step 3: Create and restore checkbox states\n        checkbox.setAttribute('wantedId', node.id);\n        checkbox.style.marginLeft = '10px';\n\n        if (checkedCheckboxes[node.id] !== undefined && checkedCheckboxes[node.id] === true)\n            checkbox.checked = checkedCheckboxes[node.id];\n        if (node.className != 'DIRECTOR Class')\n        li.appendChild(checkbox);\n\n        // Step 4: Toggle button for parent nodes\n        if (node.children && node.children.length > 0 && node.hierarchyLevel !== CardType.DIRECTOR) {\n            const toggleSpan = document.createElement('span');\n            toggleSpan.classList.add('toggle');\n            toggleSpan.classList.add(`${checkbox.className}`);\r\n\n            toggleSpan.textContent = '+'; // Default to collapsed\n            toggleSpan.style.cursor = 'pointer';\n            toggleSpan.style.color = '#007BFF';\n            toggleSpan.style.textDecoration = 'underline';\n            toggleSpan.setAttribute('wantedId', node.id);\n\n            li.prepend(toggleSpan);\n\n            // Toggle event listener\n            toggleSpan.addEventListener('click', () => {\n                console.log('haha')\n                toggleChildNodes(li, toggleSpan);\n            });\n\n            // Restore previous toggle state\n            if (toggleStates[node.id]) toggleSpan.textContent = '-';\n        }\n\n        // Step 5: Generate child elements\n        if (node.children && node.children.length > 0) {\n            const childUl = document.createElement('ul');\n            childUl.style.display = node.hierarchyLevel === CardType.DIRECTOR ? 'block' : (toggleStates[node.id] ? 'block' : 'none');\n\n            node.children.forEach(child => {\n                childUl.appendChild(GenerateUl(child, type));\n            });\n\n            li.appendChild(childUl);\n        }\n\n        // Step 6: Ensure checking a parent also checks all children\n        checkbox.addEventListener('change', (event) => {\r\n            event.stopPropagation(); // Prevents accidental triggering of parent events\r\n            setChildCheckboxes(li, checkbox.checked);\r\n        });\n\n        ul.appendChild(li);\n        return ul;\n    }\n\n    // **Helper function to toggle all child elements and checkboxes**\n    function toggleChildNodes(parentLi: HTMLElement, toggleSpan: HTMLElement) {\n        const childUls = parentLi.querySelector('ul');\n        const isExpanding = toggleSpan.textContent === '+';\n        childUls.style.display = isExpanding ? 'block' : 'none';\n     \n\n        // Update the toggle button symbol for ALL child nodes\n        const allChildToggles = parentLi.querySelector('.toggle');\n        allChildToggles.textContent = isExpanding ? '-' : '+';\n\n\n        // Update the clicked toggle button itself\n        toggleSpan.textContent = isExpanding ? '-' : '+';\n    }\n\n    // **Helper function to check/uncheck all child checkboxes**\n    function setChildCheckboxes(parentLi: HTMLElement, isChecked: boolean) {\n        const childCheckboxes = parentLi.querySelectorAll('input[type=\"checkbox\"]');\n        childCheckboxes.forEach(childCheckbox => {\n            (childCheckbox as HTMLInputElement).checked = isChecked;\n        });\n    }\n\n    /*\n    function GenerateUl(node, type) {\n        if (isEmptyOrNull(node))\n            return\n        const checkbox = document.createElement('input');\n        checkbox.type = 'checkbox';\n        if (type === ChartType.OrgStruct) \n            checkbox.className = 'filterCheckBox';\n         else if (type === ChartType.OrgChart)\n            checkbox.className = 'OrgChartFilterCheckBox';\n        \n\n        // Step 1: Collect the state of all checkboxes with the class 'filterCheckBox' before generating the list\n        const checkedCheckboxes = {};\n        const toggleStates = {};  // To track the toggle state (expanded/collapsed)\n\n        const allCheckboxes = document.querySelectorAll(`input.${checkbox.className}`);\n        allCheckboxes.forEach(checkbox => {\n            checkedCheckboxes[checkbox.getAttribute('wantedId')] = checkbox.checked;\n        });\n\n        const allToggles = document.querySelectorAll(`.${checkbox.className}.toggle`);\n        allToggles.forEach(toggle => {\n            const nodeId = toggle.getAttribute('wantedid');\n            toggleStates[nodeId] = toggle.textContent === '-';  // If the text is '-', it's expanded\n        });\n        // Step 2: Create the main <ul> element for the current level\n        const ul = document.createElement('ul');\n        ul.classList.add('nested'); // Add class for collapsibility\n        ul.id = 'bulletList';\n        const li = document.createElement('li');\n        li.textContent = `${node.name}`;\n        if (!isEmptyOrNull(node.EmployeeRowId)) {\n            //  console.log(node)\n            const employeeRow = ListOfEmployeeData.find(employee => employee.id === node.EmployeeRowId);\n            //console.log(employeeRow)\n            if (!isEmptyOrNull(employeeRow))\n                li.textContent = `${li.textContent} (${employeeRow.EmployeeId})`;\n        }\n        // Step 3: Create the checkbox\n        checkbox.setAttribute('wantedId', node.id); // Set a custom attribute for the node ID\n        checkbox.style.marginLeft = '10px';\n        // Restore the checked state if applicable\n        if (checkedCheckboxes[node.id] !== undefined && checkedCheckboxes[node.id] === true)\n            checkbox.checked = checkedCheckboxes[node.id];\n        // Add the checkbox to the <li> element\n        li.appendChild(checkbox);\n\n        // Step 4: Only add a toggle button if the node has children (and is not of type DIRECTOR)\n        if (node.children && node.children.length > 0 && node.hierarchyLevel !== CardType.DIRECTOR) {\n            const toggleSpan = document.createElement('span');\n            toggleSpan.classList.add('toggle');\n            toggleSpan.classList.add(`${checkbox.className}`);\n\n            toggleSpan.textContent = '+'; // Default to '+' for collapsed state\n            toggleSpan.style.cursor = 'pointer';\n            toggleSpan.style.color = '#007BFF';\n            toggleSpan.style.textDecoration = 'underline';\n            toggleSpan.setAttribute('wantedId', node.id); // Set a custom attribute for the node ID\n\n            li.prepend(toggleSpan);\n\n            // Attach the toggle event listener\n            toggleSpan.addEventListener('click', () => {\n                // Toggle the visibility of the child <ul> element\n                const childUl = li.querySelector('ul');\n                if (childUl) {\n                    childUl.style.display = (childUl.style.display === 'none' || childUl.style.display === '') ? 'block' : 'none';\n                    toggleSpan.textContent = (childUl.style.display === 'none') ? '+' : '-'; // Change the toggle symbol\n                }\n            });\n\n            // Check if this node was previously expanded and set its state\n            if (toggleStates[node.id]) \n                toggleSpan.textContent = '-'; // If previously expanded, set to '-'\n            \n        }\n\n        // Step 5: If the node has children, create child <ul> elements\n        if (node.children && node.children.length > 0) {\n            const childUl = document.createElement('ul');\n\n            // For DIRECTOR level, always show children by default\n            const childUlState = node.hierarchyLevel === CardType.DIRECTOR ? 'block' : (toggleStates[node.id] ? 'block' : 'none');\n            childUl.style.display = childUlState; // Set the visibility based on the previous toggle state or default for DIRECTOR\n\n            node.children.forEach((child) => {\n                childUl.appendChild(GenerateUl(child, type)); // Recursively generate <ul> for children\n            });\n            li.appendChild(childUl);\n        }\n\n        // Append the <li> to the <ul>\n        ul.appendChild(li);\n\n        // Step 6: Return the generated <ul>\n        return ul;\n    }\n    */\n\n    function addListItem(parentId, newItemId, newItemContent, checkboxClass = 'filterCheckBox') {\n        // Find the checkbox with the matching parent ID\n        const targetCheckbox = document.querySelector(`[wantedid=\"${parentId}\"]`);\n\n        if (!targetCheckbox) {\n           // console.error(`No element found with wantedId: ${parentId}`);\n            return;\n        }\n\n        // Locate the closest parent <li> for the checkbox\n        const parentListItem = targetCheckbox.closest('li');\n\n        if (!parentListItem) {\n           // console.error(`No parent <li> found for wantedId: ${parentId}`);\n            return;\n        }\n\n        // Check if the parent <li> already has a nested <ul>\n        let nestedUl = parentListItem.querySelector('ul.nested');\n        if (!nestedUl) {\n            // If no nested <ul>, create one\n            nestedUl = document.createElement('ul');\n            nestedUl.classList.add('nested');\n            nestedUl.style.display = 'none'; // Hidden initially\n            // Add a toggle span (+/-) for collapsibility\n            const toggleSpan = document.createElement('span');\n            toggleSpan.classList.add('toggle');\n            toggleSpan.textContent = '+'; // Default collapsed state\n            toggleSpan.style.cursor = 'pointer';\n            toggleSpan.style.color = '#007BFF';\n            toggleSpan.style.textDecoration = 'underline';\n\n            // Add the toggle event listener\n            toggleSpan.addEventListener('click', () => {\n                if (nestedUl.style.display === 'none') {\n                    nestedUl.style.display = 'block';\n                    toggleSpan.textContent = '-';\n                } else {\n                    nestedUl.style.display = 'none';\n                    toggleSpan.textContent = '+';\n                }\n            });\n\n            // Prepend the toggle button to the parent <li>\n            parentListItem.prepend(toggleSpan);\n\n            // Append the nested <ul> to the parent <li>\n            parentListItem.appendChild(nestedUl);\n        }\n\n        // Check if an <li> with the same wantedId already exists\n        const existingItem = nestedUl.querySelector(`[wantedid=\"${newItemId}\"]`);\n        if (existingItem) {\n            //console.warn(`Item with wantedId \"${newItemId}\" already exists.`);\n            return;\n        }\n\n        // Create the new <li> item with a checkbox inside the nested <ul>\n        const newListItem = document.createElement('li');\n        const checkedBoxes = Array.from(document.querySelectorAll('.filterCheckBox:checked'));\n        if (checkedBoxes.length > 0)\n            newListItem.innerHTML = `\n        ${newItemContent}\n        <input type=\"checkbox\" class=\"${checkboxClass}\" wantedid=\"${newItemId}\" style=\"margin-left: 10px;\" checked>\n    `;\n        else\n            newListItem.innerHTML = `\n        ${newItemContent}\n        <input type=\"checkbox\" class=\"${checkboxClass}\" wantedid=\"${newItemId}\" style=\"margin-left: 10px;\">\n    `;\n\n        // Append the new <li> to the nested <ul>\n        nestedUl.appendChild(newListItem);\n    }\n\n    function GenerateJson(ListOfStruct) {\n        return buildHierarchy(ListOfStruct);\n    }\n\n    function GenerateOrgChart() {\n        function findParentByEmployeeRowId(children, employeeRowIdToRemove) {\n            for (let child of children) {\n                // Check if this child is the one to remove\n                if (child.EmployeeRowId === employeeRowIdToRemove)\n                    return child; // Found the child\n                // If not found, check its children recursively\n                if (child.children) {\n                    const found = findParentByEmployeeRowId(child.children, employeeRowIdToRemove);\n                    if (found)\n                        return found; // Return if found in nested children\n                }\n            }\n            return null; // Not found\n        }\n        function filterChildren(children, employeeRowIdToRemove) {\n            let wasFiltered = false; // Track if any child was removed\n\n            const filteredChildren = children\n                .filter(child => {\n                    if (child.EmployeeRowId === employeeRowIdToRemove) {\n                        wasFiltered = true; // Found a match to remove\n                        return false; // Exclude this child\n                    }\n                    return true; // Keep this child\n                })\n                .map(child => {\n                    if (child.children) {\n                        const result = filterChildren(child.children, employeeRowIdToRemove);\n                        if (result.wasFiltered) {\n                            wasFiltered = true; // Update if nested filtering removed anything\n                        }\n                        child.children = result.children; // Update child.children with the filtered children\n                    }\n                    return child;\n                });\n\n            return {\n                wasFiltered: wasFiltered,\n                children: filteredChildren\n            };\n        }\n        function removeNodeByEmployeeRowId(data, employeeRowIdToRemove) {\n            var result = false\n            if (isEmptyOrNull(data.children))\n                return\n            var parentNode = findParentByEmployeeRowId(data.children, employeeRowIdToRemove)\n            if (isEmptyOrNull(parentNode))\n                return\n            var Route: any[] = DecomposeStringToList(parentNode.id, 0x88, 0x99)\n            if (parentNode) {\n                var parent = data\n                parent = SearchById(parent, parentNode.id)\n                // Get children to move\n                const childrenToMove = parent.children || [];\n                parent = data\n                for (let i = 0; i < Route.length - 1; i++)\n                    parent = findByClassName(parent, Route[i])\n                if (parent) {\n                    if (parent.children) {\n                        const bufferOutput = filterChildren(parent.children, employeeRowIdToRemove);\n                        parent.children = bufferOutput.children\n                        if (isEmptyOrNull(parent.children))\n                            parent.children = childrenToMove\n                        else\n                            parent.children.push(...childrenToMove);\n                        result = bufferOutput.wasFiltered\n                        data = parent\n                    }\n                }\n            }\n            return result\n        }\n        var ListOfCurrentEmployeeInOrgChart: number[] = []\n\n        SplitOrganisationChartService.List({\n        }, response => {\n            var insert = 0\n            if (SplitOrgChartList.length == 0) {\n                insert = 1\n                for (let i = 0; i < response.Entities.length; i++) {\n                    var EmployeeRowId = response.Entities[i].EmployeeRowId\n                    ListOfCurrentEmployeeInOrgChart.push(EmployeeRowId)\n                    SplitOrgChartList.push({\n                        extension: response.Entities[i].Extension,\n                        rowId: response.Entities[i].Id,\n                        id: response.Entities[i].NodeId,\n                        EmployeeRowId: EmployeeRowId,\n                        name: response.Entities[i].Name,\n                        title: response.Entities[i].Title,\n                        className: response.Entities[i].ClassName,\n                        hierarchyLevel: response.Entities[i].HierarchyLevel,\n                        parentId: response.Entities[i].ParentId,\n                        childrenIndex: response.Entities[i].childrenIndex,\n                    })\n                }\n            }\n            EmployeeRightsService.List({\n            }, response => {\n                if (insert == 1) {\n                    for (let i = 0; i < response.Entities.length; i++) {\n                        var ObjToInsertRghts = SplitOrgChartList.find(obj => obj.id === response.Entities[i].NodeId);\n                        if (ObjToInsertRghts) {\n                            var EmployeeRightBuffer: EmployeeAdminRights = {\n                                Appraisal: response.Entities[i].Appraisal,\n                                LeaveApproval: response.Entities[i].LeaveApproval,\n                                OtApproval: response.Entities[i].OtApproval,\n                                Training: response.Entities[i].Training,\n                                MoneyClaiming: response.Entities[i].MoneyClaiming\n                            }\n                            ObjToInsertRghts.Rights = EmployeeRightBuffer\n                        }\n                    }\n                }\n                const checkedBoxes = Array.from(document.querySelectorAll('.OrgChartFilterCheckBox:checked'));\n                const checkedIds = checkedBoxes.map(box => box.getAttribute('wantedId'));\n                var Json,filter = 0\n                if (checkedIds.length > 0) {\n                    filter = 1\n                    let OrgChartFinalResult = [];\n                    checkedIds.forEach(item => {\n                        OrgChartFinalResult.push(item);\n                        const parents = traceParents(item, SplitOrgChartList);\n                        OrgChartFinalResult.push(...parents);\n                    });\n                    // Remove duplicates\n                    OrgChartFinalResult = Array.from(new Set(OrgChartFinalResult.map(obj => obj.id)))\n                        .map(id => SplitOrgChartList.find(obj => obj.id === id));\n                    Json = GenerateJson(OrgChartFinalResult)\n                }\n                else {\n                    Json = GenerateJson(SplitOrgChartList)\n                    FinalDatascource2 = JSON.parse(JSON.stringify(Json))\n                }\n                if (isEmptyOrNull(Json)) {\n                    if (isEmptyOrNull(spareOrgStructJson))\n                        return\n                    else {\n                        Json = JSON.parse(spareOrgChartJson)\n                        FinalDatascource2 = JSON.parse(JSON.stringify(Json))\n                    }\n                }\n\n                var orgChartElement = document.getElementById(\"orgChartContainer\")\n                var panel = orgChartElement.querySelector(\"#chart-left-panel\");\n                //console.log(Json)\n                var GenerateSave = false\n                if (checkedIds.length == 0) {\n                    for (let i = 0; i < EmployeeFilter.length; i++) {\n                        //  console.log(EmployeeFilter[i])\n                        var result = removeNodeByEmployeeRowId(FinalDatascource2, EmployeeFilter[i])\n                        if (result == true && GenerateSave == false)\n                            GenerateSave = result\n                    }\n                }\n                 // console.log('here')\n                //  console.log(GenerateSave)\n                //  console.log(FinalDatascource2)\n                if (GenerateSave == true) {\n                    GenerateSaveOrgChart()\n                    return\n                }\n                if (isEmptyOrNull(panel)) {\n                    var LeftPanel = document.createElement(\"div\")\n                    LeftPanel.id = \"chart-left-panel\"\n                    LeftPanel.className = \"left-panel-class\"\n                    orgChartElement.append(LeftPanel)\n                    var BulletList = GenerateUl(FinalDatascource2, ChartType.OrgChart)\n                    $('#chart-left-panel').append(BulletList)\n                    $('#chart-left-panel').addClass('scrollable');\n\n                }\n                var orgChartElement = document.getElementById(\"orgChartContainer\")\n                if (orgChartElement) {\n                    var orgDiv = orgChartElement.querySelector(\".orgchart\");\n                    if (orgDiv) {\n                        Style = orgDiv.getAttribute('style')\n                        orgDiv.remove()\n                    }\n                }\n                if (filter == 1)\n                    FinalDatascource = JSON.parse(JSON.stringify(Json))\n                else\n                    FinalDatascource = JSON.parse(JSON.stringify(FinalDatascource2))\n                let orgchart = new OrgChart({\n                    'chartContainer': '#orgChartContainer',\n                    'data': FinalDatascource,\n                    'nodeContent': 'title',\n                    'zoom': true,\n                    'pan': true,\n                    'renderCompleted': setCallbacks(), // Delay to allow rendering\n                    'createNode': function (node, data) {\n                        let image = \"\"\n                        if (data.hierarchyLevel > CardType.SECTION)\n                            node.draggable = true\n\n                        let $jqueryObject = $(node);\n                        if (!isEmptyOrNull(data.EmployeeRowId)) {\n                            var employeeRow = ListOfEmployeeData.find(employee => employee.id === data.EmployeeRowId);\n                            var JobGradeName = '-';\n                            // console.log(employeeRow)\n                            if (!isEmptyOrNull(employeeRow.JobGradeId)) {\n                                if (!isEmptyOrNull(JobGradeTable.itemById[employeeRow.JobGradeId].Name))\n                                    JobGradeName = JobGradeTable.itemById[employeeRow.JobGradeId].Name;\n                            }\n                            var basicPay = Authorization.userDefinition.Permissions[PermissionKeys.HumanResources] == true ? employeeRow.SalaryDetails : ''\n                            if (!isEmptyOrNull(basicPay))\n                             basicPay = `Salary Details : ${basicPay}`\n                            var imgPath = employeeRow.ImgPath;\n                            image = ` \n                    <div  style=\" display: flex; align-items: center; height: 100%; flex-direction: column;\" class=\" rowData\">\n                        </div>\n                    <div style=\" text-align: left;height: 100%;padding-right:0;align-items: center;justify-content: center;display: flex;padding-top: 5px;padding-bottom: 5px\">\n                    <div style=\"text-align: left;height: 100%;width:100%;padding-right:0\">\n                            <div class=\"col-1\"  style=\"font-size: 10px; display: flex; justify-content: space-between; align-items: center; width: 100%; white-space: nowrap;\"> <span  style=\"display: block;white-space: nowrap;\"> Name : ${employeeRow.EmployeeName} <br> Job Grade : ${JobGradeName} <br> ${basicPay} </span>  </div>\n                            </div>\n                    `;\n                            if (Authorization.userDefinition.Permissions[PermissionKeys.HumanResources])//is HR\n                            {\n                                if (data.hierarchyLevel != EmployeeEnum && data.hierarchyLevel != CardType.DIRECTOR) {\n                                    var button\n                                    if (!isEmptyOrNull(data.Rights)) {\n                                        button = `\n                                <div>\n                                    <i class=\"fas fa-band-aid\" title=\"Approve Leave Requests\"></i>\n                                    <i class=\"fa fa-wrench\" title=\"Approve Overtime Requests\"></i>\n                                   <i class=\"fa fa-money-bill\" title=\"Approve Money Claiming Requests\"></i>\n                                    <i class=\"fa fa-check\" title=\"Evaluate Employee Requests\"></i>\n                                    <i class=\"far fa-clock\" title=\"Manage Training Requests\"></i>\n                                </div>\n                                <div>\n                            `;\n                                        var desiredOrder: (keyof EmployeeAdminRights)[] = [\n                                            'LeaveApproval',\n                                            'OtApproval',\n                                            'MoneyClaiming',\n                                            'Appraisal',\n                                            'Training'\n                                        ];\n                                        // Loop through the rights object to create the checkbox elements\n\n                                        for (const key of desiredOrder) {\n                                            var value = data.Rights[key]\n                                            // Determine the checked attribute based on the value\n                                            const checkedAttribute = value ? 'checked' : '';\n                                            button += `\n                    <input class=\"CheckBox\" name=\"${key}\" type=\"checkbox\"  title=\"${key.replace(/([A-Z])/g, ' $1')}\" ${checkedAttribute}>\n                `;\n                                        }\n                                        button += '</div>';\n                                    }\n                                    else {\n                                        button = `\n                    <div>\n                    <i class=\"fas fa-band-aid\" title=\"Approve Leave Requests\" ></i>\n                    <i class=\"fa fa-wrench\" title=\"Approve Overtime Requests\"></i>\n                    <i class=\"fa fa-money-bill\" title=\"Approve Money Claiming Requests\"></i>\n                    <i class=\"fa fa-check\"  title=\"Evaluate Employee Requests\"></i>\n                    <i class=\"far fa-clock\" title=\"Manage Training Requests\"></i>\n                    </div>\n                    <div>\n                    <input class = \"CheckBox\"  name=\"LeaveApproval\" type=\"checkbox\"  title=\"Approve Leave Requests\">\n                    <input  class = \"CheckBox\" name=\"OtApproval\" type=\"checkbox\" title=\"Approve Overtime Requests\">\n                    <input class = \"CheckBox\"  name=\"MoneyClaiming\" type=\"checkbox\" title=\"Approve Money Claiming Requests\" >\n                    <input class = \"CheckBox\"  name=\"Appraisal\" type=\"checkbox\" title=\"Evaluate Employee Requests\" >\n                    <input class = \"CheckBox\"  name=\"Training\" type=\"checkbox\" title=\"Manage Training Requests\" >\n\n                    </div>    \n`\n                                    }\n                                    image = button + image\n                                }\n\n                            }\n                            $jqueryObject.append(image)\n                            var img = document.createElement('img');\n                            img.src = `/upload/${imgPath}`;\n                            img.className = 'avatar';\n                            img.crossOrigin = 'anonymous'\n                            img.draggable = false\n                            img.width = 63;\n                            img.height = 112.5;\n                            img.style.marginRight = '20px'\n                            img.onerror = function () {\n                                // Handle the error, e.g., set a placeholder image\n                                img.src = ''; // Replace with your placeholder path\n                            };\n                            let row = $jqueryObject.find(\".rowData\")\n                            row.append(img)\n                            var ViewButton = document.createElement('span');\n                            ViewButton.className = 'dot';\n                            if (Authorization.userDefinition.Permissions[PermissionKeys.HumanResources])//is HR\n                                row.append(ViewButton)\n                        }\n                        let content = $jqueryObject.find(\".content\")\n                        content.remove()\n                    }\n                });\n               // setCallbacks()\n                $(\"#orgChartContainer\").on(\"change\", \".CheckBox\", function () {\n                    const isChecked = this.checked;\n                    var targetJson = JSON.parse(this.parentElement.parentElement.getAttribute('data-source'))\n                    var targetEmployeeRowId = targetJson.EmployeeRowId\n                    for (let ListCounter = 0; ListCounter < ListOfEmployeeData.length; ListCounter++) {\n                        if (ListOfEmployeeData[ListCounter].id == targetEmployeeRowId) {\n                            break\n                        }\n                    }\n                    var ElementToSetEmployee = targetJson.id\n                    var FinalOrgChartBuffer = JSON.parse(JSON.stringify(FinalDatascource2))\n                    var TargetedFinalOrgChartBuffer = FinalOrgChartBuffer\n                    TargetedFinalOrgChartBuffer = SearchById(TargetedFinalOrgChartBuffer, ElementToSetEmployee)\n                    TargetedFinalOrgChartBuffer.Rights[this.name] = isChecked\n                    FinalDatascource2 = FinalOrgChartBuffer\n                    var ListOfRights: NodeRights[] = extractRights(FinalOrgChartBuffer)\n                    //console.log(ListOfRights)\n                    EmployeeRightsService.ClearOldAdminRightRecord({\n                    }, response => {\n                        for (let i = 0; i < ListOfRights.length; i++) {\n                            if (ListOfRights[i].nodeHierarchy != EmployeeEnum && !isEmptyOrNull(ListOfRights[i].EmployeeRowId)) {\n                                if (ListOfRights[i].nodeHierarchy != CardType.DIRECTOR) {\n                                    EmployeeRightsService.Create({\n                                        Entity: {\n                                            \"EmployeeRowId\": ListOfRights[i].EmployeeRowId,\n                                            \"NodeId\": ListOfRights[i].id,\n                                            \"Appraisal\": ListOfRights[i].Rights.Appraisal,\n                                            \"LeaveApproval\": ListOfRights[i].Rights.LeaveApproval,\n                                            \"OtApproval\": ListOfRights[i].Rights.OtApproval,\n                                            \"Training\": ListOfRights[i].Rights.Training,\n                                            \"MoneyClaiming\": ListOfRights[i].Rights.MoneyClaiming,\n                                        }\n                                    })\n                                }\n                                else {\n                                    EmployeeRightsService.Create({\n                                        Entity: {\n                                            \"EmployeeRowId\": ListOfRights[i].EmployeeRowId,\n                                            \"NodeId\": ListOfRights[i].id,\n                                            \"Appraisal\":true,\n                                            \"LeaveApproval\": true,\n                                            \"OtApproval\": true,\n                                            \"Training\": true,\n                                            \"MoneyClaiming\": true,\n                                        }\n                                    })\n\n                                }\n                            }\n\n                        }\n\n\n\n                    })\n                })\n                if (filter == orgChartDisplay) {\n                    orgchart.chart.style = Style\n                }\n                else\n                    orgChartDisplay = filter\n\n                if (Authorization.userDefinition.Permissions[PermissionKeys.HumanResources]) {\n                    var generateOrgChartButton = orgChartElement.querySelector(\".buttonGroup\");\n                    if (isEmptyOrNull(generateOrgChartButton)) {\n                        generateOrgChartButton = document.createElement('div')\n                        generateOrgChartButton.className = 'buttonGroup'\n                        generateOrgChartButton.innerHTML =\n                            `\n            <a id=\"downloadOrgChartButton\" class=\"btn btn-light btn-rounded oc-download-btn\"  download=\"orgChart.png\" style=\"top: 50px; right: 10px; position: absolute; background-color: rgb(197, 216, 240);\">Download Organisation Chart</a>\n            <button id=\"exportOrgChartButton\" class=\"btn btn-light btn-rounded oc-export-btn\"  style=\"top: 50px; right: 10px; position: absolute; background-color: rgb(197, 216, 240);\">Download Organisation Chart</button>\n\n            <button id=\"toggleOrgChartSidePanel\" class=\"btn btn-light btn-rounded\" style=\"bottom: 10px; left: 10px; position: absolute; background-color: rgb(197, 216, 240);\">Hide Filter Tab</button>\n            `\n                        orgChartElement.appendChild(generateOrgChartButton)\n                    }\n                }\n\n\n            })\n        })\n\n    }\n    function GenerateSaveOrgChart() {\n        function extractFirstNumber(input: string): number | null {\n            const match = input.match(/\\d+/);\n            return match ? Number(match[0]) : null;\n        }\n        function isEmployeeClassFormat(input: string): boolean {\n            return /^EMPLOYEE\\d+/.test(input);\n        }\n        SplitOrganisationChartService.DeleteAll({\n        }, response => {\n            console.log(FinalDatascource2)\n            SplitOrgChartList = splitIntoNodes(FinalDatascource2);\n            for (let i = 0; i < SplitOrgChartList.length; i++) {\n                var ElementRowID\n                var ClassList = DecomposeStringToList(SplitOrgChartList[i].id, 0x88, 0x99)\n                if (isEmployeeClassFormat(ClassList[ClassList.length - 1]))\n                    ElementRowID = extractFirstNumber(ClassList[ClassList.length - 2])\n                else\n                    ElementRowID = extractFirstNumber(SplitOrgChartList[i].className)\n                var title = SplitOrgChartList[i].title\n                var name = SplitOrgChartList[i].name\n                if (isEmptyOrNull(title))\n                    title = '-'\n                if (isEmptyOrNull(name))\n                    name = '-'\n\n                SplitOrganisationChartService.Create({\n                    Entity:\n                    {\n                        \"ParentId\": SplitOrgChartList[i].parentId,\n                        \"NodeId\": SplitOrgChartList[i].id,\n                        \"Name\": name,\n                        \"Title\": title,\n                        \"ClassName\": SplitOrgChartList[i].className,\n                        \"HierarchyLevel\": SplitOrgChartList[i].hierarchyLevel,\n                        \"EmployeeRowId\": SplitOrgChartList[i].EmployeeRowId,\n                        \"childrenIndex\": SplitOrgChartList[i].childrenIndex,\n                        \"ElementRowId\": ElementRowID\n                    },\n                }, response => {\n                    SplitOrgChartList[i].rowId = response.EntityId\n                });\n            }\n            var ListOfRights: ExtractedData[] = extractRightsAndEmployeeRowId(FinalDatascource2)\n            var ListOfUnusedRights: ExtractedData[] = []\n            var FinalOrgChartBuffer = JSON.parse(JSON.stringify(FinalDatascource2))\n            if (!isEmptyOrNull(ListOfRights)) {\n                for (let i = 0; i < ListOfRights.length; i++) {\n                    var TargetedFinalOrgChartBuffer = FinalOrgChartBuffer\n                    var buffer: Node = SearchById(TargetedFinalOrgChartBuffer, ListOfRights[i].id)\n                    //console.log(buffer)\n                    if (isEmptyOrNull(buffer)) {\n                        if (ListOfRights[i].hierarchyId <= CardType.SECTION) {\n                            if (ListOfRights[i].id != removedNodeId)\n                                ListOfUnusedRights.push(ListOfRights[i])\n                        }\n                        continue\n                    }\n                    buffer.Rights = ListOfRights[i].Rights\n\n                }\n            }\n            if (!isEmptyOrNull(removedNodeId)) {\n                for (let i = 0; i < ListOfUnusedRights.length; i++) {\n                    var newPath = DecomposeStringToList(ListOfUnusedRights[i].id, 0x88, 0x99)\n                    newPath.splice(indexToRemove, 1)\n                    var newId = ComposeListToString(newPath, 0x88, 0x99)\n                    var buffer: Node = SearchById(FinalOrgChartBuffer, newId)\n                    if (!isEmptyOrNull(buffer))\n                        buffer.Rights = ListOfUnusedRights[i].Rights\n                }\n                removedNodeId = ''\n            }\n            else if (!isEmptyOrNull(addedClass)) {\n                for (let i = 0; i < ListOfUnusedRights.length; i++) {\n                    var newPath = DecomposeStringToList(ListOfUnusedRights[i].id, 0x88, 0x99)\n                    newPath.splice(addedIndex, 0, addedClass)\n                    var newId = ComposeListToString(newPath, 0x88, 0x99)\n                    var buffer: Node = SearchById(FinalOrgChartBuffer, newId)\n                    if (!isEmptyOrNull(buffer))\n                        buffer.Rights = ListOfUnusedRights[i].Rights\n                }\n                addedClass = ''\n            }\n\n            EmployeeRightsService.ClearOldAdminRightRecord({\n            }, response => {\n                for (let i = 0; i < ListOfRights.length; i++) {\n                    if (ListOfRights[i].hierarchyId != EmployeeEnum && !isEmptyOrNull(ListOfRights[i].EmployeeRowId)) {\n                        if (ListOfRights[i].hierarchyId != CardType.DIRECTOR) {\n                            EmployeeRightsService.Create({\n                                Entity: {\n                                    \"EmployeeRowId\": ListOfRights[i].EmployeeRowId,\n                                    \"NodeId\": ListOfRights[i].id,\n                                    \"Appraisal\": ListOfRights[i].Rights.Appraisal,\n                                    \"LeaveApproval\": ListOfRights[i].Rights.LeaveApproval,\n                                    \"OtApproval\": ListOfRights[i].Rights.OtApproval,\n                                    \"Training\": ListOfRights[i].Rights.Training,\n                                    \"MoneyClaiming\": ListOfRights[i].Rights.MoneyClaiming,\n                                }\n                            })\n                        }\n                        else {\n                            EmployeeRightsService.Create({\n                                Entity: {\n                                    \"EmployeeRowId\": ListOfRights[i].EmployeeRowId,\n                                    \"NodeId\": ListOfRights[i].id,\n                                    \"Appraisal\": true,\n                                    \"LeaveApproval\": true,\n                                    \"OtApproval\": true,\n                                    \"Training\": true,\n                                    \"MoneyClaiming\": true,\n                                }\n                            })\n\n                        }\n\n                    }\n                }\n            })\n\n\n            var orgChartElement = document.getElementById(\"orgChartContainer\")\n            if (orgChartElement) {\n                var orgDiv = orgChartElement.querySelector(\".orgchart\");\n                if (orgDiv) {\n                    Style = orgDiv.getAttribute('style')\n                    DataPanStart = orgDiv.getAttribute('data-pan-start')\n                    orgDiv.remove()\n                }\n            }\n\n            var BulletList = GenerateUl(FinalDatascource2, ChartType.OrgChart)\n            $('#chart-left-panel').html('');\n            $('#chart-left-panel').append(BulletList);\n            $('#chart-left-panel').addClass('scrollable');\n\n            removeEmptyChildren(FinalDatascource2)\n\n            FinalDatascource = JSON.parse(JSON.stringify(FinalDatascource2))\n            let orgchart = new OrgChart({\n                'chartContainer': '#orgChartContainer',\n                'data': FinalDatascource,\n                'nodeContent': 'title',\n                'nodeId': 'thisOrgChart',\n                'zoom': true,\n                'pan': true,\n                'id': 'orgChart',\n                'renderCompleted':  setCallbacks(),\n                'createNode': function (node, data) {\n                    let image = \"\"\n                    let $jqueryObject = $(node);\n                    if (!isEmptyOrNull(data.EmployeeRowId)) {\n                        var employeeRow = ListOfEmployeeData.find(employee => employee.id === data.EmployeeRowId);\n                        //   console.log(JobGradeTable.itemById)\n                        //  console.log(employeeRow.JobGradeId)\n                        var JobGradeName = '-'\n                        if (!isEmptyOrNull(employeeRow.JobGradeId)) {\n                            if (!isEmptyOrNull(JobGradeTable.itemById[employeeRow.JobGradeId].Name))\n                                JobGradeName = JobGradeTable.itemById[employeeRow.JobGradeId].Name;\n                        }\n                        var basicPay = Authorization.userDefinition.Permissions[PermissionKeys.HumanResources] == true ? employeeRow.SalaryDetails : ''\n                        if (!isEmptyOrNull(basicPay))\n                            basicPay = `Salary Details : ${basicPay}`\n                        var imgPath = employeeRow.ImgPath;\n                        image = ` \n                    <div  style=\"display: flex; align-items: center; height: 100%; flex-direction: column;\" class=\" rowData\">\n                        </div>\n                <div style=\"text-align: left;height: 100%;padding-right:0;align-items: center;justify-content: center;display: flex;padding-top: 5px;padding-bottom: 5px\">\n                    <div style=\"text-align: left;height: 100%;width:100%;padding-right:0\">\n                            <div class=\"col-1\"  style=\"font-size: 10px; display: flex; justify-content: space-between; align-items: center; width: 100%; white-space: nowrap;\"> <span  style=\"display: block;white-space: nowrap;\"> Name : ${employeeRow.EmployeeName} <br> Job Grade : ${JobGradeName} <br> ${basicPay} </span>  </div>\n                            </div>`\n                        if (data.hierarchyLevel != EmployeeEnum && data.hierarchyLevel != CardType.DIRECTOR) {\n                            var button\n                            if (!isEmptyOrNull(data.Rights)) {\n                                button = `\n                <div>\n                     <i class=\"fas fa-band-aid\" title=\"Approve Leave Requests\"></i>\n                    <i class=\"fa fa-wrench\" title=\"Approve Overtime Requests\"></i>\n                   <i class=\"fa fa-money-bill\" title=\"Approve Money Claiming Requests\"></i>\n                    <i class=\"fa fa-check\" title=\"Evaluate Employee Requests\"></i>\n                    <i class=\"far fa-clock\" title=\"Manage Training Requests\"></i>\n                </div>\n                <div>`;\n                                var desiredOrder: (keyof EmployeeAdminRights)[] = [\n                                    'LeaveApproval',\n                                    'OtApproval',\n                                    'MoneyClaiming',\n                                    'Appraisal',\n                                    'Training'\n                                ];\n\n\n                                // Loop through the rights object to create the checkbox elements\n                                for (const key of desiredOrder) {\n                                    var value = data.Rights[key]\n\n                                    // Determine the checked attribute based on the value\n                                    const checkedAttribute = value ? 'checked' : '';\n                                    //  console.log(value)\n                                    //  console.log(key)\n\n                                    button += `\n                    <input class=\"CheckBox\" name=\"${key}\" type=\"checkbox\" title=\"${key.replace(/([A-Z])/g, ' $1')}\" ${checkedAttribute}>\n                `;\n                                }\n\n                                // Close the div tag\n                                button += '</div>';\n                            }\n                            else {\n                                button = `\n                    <div>\n                 <i class=\"fas fa-band-aid\" title=\"Approve Leave Requests\"></i>\n                    <i class=\"fa fa-wrench\" title=\"Approve Overtime Requests\"></i>\n                   <i class=\"fa fa-money-bill\" title=\"Approve Money Claiming Requests\"></i>\n                    <i class=\"fa fa-check\" title=\"Evaluate Employee Requests\"></i>\n                    <i class=\"far fa-clock\" title=\"Manage Training Requests\"></i>\n                    </div>\n                    <div>\n                    <input class = \"CheckBox\"  name=\"LeaveApproval\" type=\"checkbox\"  title=\"Approve Leave Requests\">\n                    <input  class = \"CheckBox\" name=\"OtApproval\" type=\"checkbox\" title=\"Approve Overtime Requests\">\n                    <input class = \"CheckBox\"  name=\"MoneyClaiming\" type=\"checkbox\" title=\"Approve Money Claiming Requests\" >\n                    <input class = \"CheckBox\"  name=\"Appraisal\" type=\"checkbox\" title=\"Evaluate Employee Requests\" >\n                    <input class = \"CheckBox\"  name=\"Training\" type=\"checkbox\" title=\"Manage Training Requests\" >\n\n                    </div>    \n`\n\n                            }\n                            image = button + image\n                        }\n                        $jqueryObject.append(image)\n\n                        var img = document.createElement('img');\n                        img.src = `/upload/${imgPath}`;\n                        img.className = 'avatar';\n                        img.crossOrigin = 'anonymous'\n                        img.draggable = false\n                        img.width = 63;\n                        img.height = 112.5;\n                        img.style.marginRight = '20px'\n\n                        img.onerror = function () {\n                            // Handle the error, e.g., set a placeholder image\n                            img.src = ''; // Replace with your placeholder path\n                        };\n\n                        let row = $jqueryObject.find(\".rowData\")\n                        row.append(img)\n                        var ViewButton = document.createElement('span');\n                        ViewButton.className = 'dot';\n                        if (Authorization.userDefinition.Permissions[PermissionKeys.HumanResources])//is HR\n                            row.append(ViewButton)\n\n\n                    }\n                    let content = $jqueryObject.find(\".content\")\n                    content.remove()\n                }\n\n            });\n\n            console.log(isOrgChartOutOfView())\n\n            if (!isEmptyOrNull(Style))\n                orgchart.chart.style = Style\n\n            const jsonString = JSON.stringify(FinalDatascource2);\n            FinalOrganisationChartService.Create({\n                Entity:\n                {\n                    \"FinalOrgChart\": jsonString,\n                },\n            });\n           // setCallbacks()\n\n        })\n\n\n\n    }\n    function GetLookupValueFromId(destinationHierarchy, destinationHierarchyId) {\n        var str\n\n        var table = getLookup(`${capitalizeFirstLetter(destinationHierarchy)}.${capitalizeFirstLetter(destinationHierarchy)}`)\n        for (var LookupIndex in table.items) {\n            if (table.items[LookupIndex].Id == destinationHierarchyId) {\n                str = table.items[LookupIndex].Name.replace(/\\s/g, \"\")\n                break\n            }\n        }\n        return str\n    }\n\n    function DecomposeStringToList(StringToDecompose: String, Starter, Ender) {\n        var buffer = '', start = false\n        var bufferList: any[] = []\n        for (let i = 0; i < StringToDecompose.length; i++) {\n            var charCode = StringToDecompose.charCodeAt(i)\n            if (charCode == Starter || (start == true && charCode != Ender))//start\n            {\n                if (start == true)\n                    buffer += StringToDecompose[i].toString()\n                start = true\n            }\n            else if (charCode == Ender) // end\n            {\n                bufferList.push(buffer)\n                start = false\n                buffer = ''\n            }\n        }\n        return bufferList\n    }\n    function ComposeListToString(List: string[], Starter, Ender) {\n        var result: string = '';\n        for (let i = 0; i < List.length; i++) {\n            result = `${result}${EncodeString(List[i], Starter, Ender)}`\n        }\n        return result\n    }\n    function EncodeString(OriginalString, Starter, Ender) {\n        if (OriginalString.endsWith('Class'))\n            OriginalString = OriginalString.slice(0, -5); // Remove the last 5 characters\n        var buffer = String.fromCharCode(Starter) + OriginalString + String.fromCharCode(Ender)\n        return buffer.replace(/\\s+/g, ''); // Removes all spaces\n    }\n    var counter = 0\n    function splitIntoNodes(root) {\n        const nodes: NodeRow[] = [];\n        function processNode(node: Node, parentId: string | null, childIndex: number | null = 0) {\n            // Add current node to the nodes table\n            counter+=1\n            nodes.push({\n                id: node.id,\n                EmployeeRowId: node.EmployeeRowId,\n                name: node.name,\n                title: node.title,\n                className: node.className,\n                hierarchyLevel: node.hierarchyLevel,\n                parentId: parentId,\n                hierarchyId: node.hierarchyId,\n                childrenIndex: childIndex // Store the index of this child in its parent's children array\n            });\n            // Recursively process children\n            if (node.children)\n                node.children.forEach((child, index) => processNode(child, node.id, index));\n        }\n\n        processNode(root, null, null);\n\n        return nodes;\n    }\n    function extractRights(node) {\n        const ListOfRights: NodeRights[] = [];\n        function processRights(node: Node) {\n            // Add current node to the nodes table\n            if (node.Rights) {\n                ListOfRights.push(\n                    {\n                        id: node.id,\n                        Rights: node.Rights,\n                        EmployeeRowId: node.EmployeeRowId,\n                        nodeHierarchy: node.hierarchyLevel\n                    }\n                );\n\n            }\n\n            // Recursively process children\n            if (node.children)\n                node.children.forEach((child) => processRights(child));\n        }\n\n        processRights(node)\n        return ListOfRights\n\n    }\n    function buildHierarchy(data: NodeRow[]) {\n        const map = {};\n        let root = null;\n        // Step 1: Create a map of the items by their id\n        data.forEach(item => {\n            if (!isEmptyOrNull(item))\n                map[item.id] = { ...item }; // Create a copy of the item to avoid direct mutation\n\n        });\n\n        // Step 2: Build the hierarchy by assigning children to their respective parent nodes\n        data.forEach(item => {\n            if (!isEmptyOrNull(item)) {\n                if (item.parentId) {\n                    const parent = map[item.parentId];\n                    if (parent) { // Ensure the parent exists in the map\n                        if (!parent.children)\n                            parent.children = [];\n                        parent.children[item.childrenIndex] = map[item.id]; // Place the child at the correct index\n                    }\n                } else\n                    root = map[item.id]; // Assuming there's only one root node\n\n\n            }\n        });\n\n        // Step 3: Remove empty 'children' properties recursively\n        function cleanChildrenArray(node) {\n            if (node.children) {\n                node.children = node.children.filter(child => child !== undefined); // Remove gaps\n                node.children.forEach(cleanChildrenArray); // Recursively clean children\n                if (node.children.length === 0) {\n                    delete node.children;\n                }\n            }\n            return node;\n        }\n\n        return root ? cleanChildrenArray(root) : null; // Clean up and return the root node\n    }\n}"],
  "mappings": "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;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA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",
  "names": ["extendStatics", "__name", "d", "b", "p", "__extends", "__", "__assign", "t", "s", "i", "__awaiter", "thisArg", "_arguments", "P", "generator", "adopt", "value", "resolve", "reject", "fulfilled", "step", "e", "rejected", "result", "__generator", "body", "_", "f", "y", "g", "verb", "n", "v", "op", "__spreadArray", "to", "from", "pack", "l", "ar", "Bounds", "left", "top", "width", "height", "x", "w", "h", "context", "clientRect", "domRectList", "domRect", "rect", "parseBounds", "node", "parseDocumentSize", "document", "documentElement", "toCodePoints", "str", "codePoints", "length", "extra", "fromCodePoint", "_i", "codeUnits", "index", "codePoint", "chars", "lookup", "decode", "base64", "bufferLength", "len", "encoded1", "encoded2", "encoded3", "encoded4", "buffer", "bytes", "polyUint16Array", "polyUint32Array", "UTRIE2_SHIFT_2", "UTRIE2_SHIFT_1", "UTRIE2_INDEX_SHIFT", "UTRIE2_SHIFT_1_2", "UTRIE2_LSCP_INDEX_2_OFFSET", "UTRIE2_DATA_BLOCK_LENGTH", "UTRIE2_DATA_MASK", "UTRIE2_LSCP_INDEX_2_LENGTH", "UTRIE2_INDEX_2_BMP_LENGTH", "UTRIE2_UTF8_2B_INDEX_2_OFFSET", "UTRIE2_UTF8_2B_INDEX_2_LENGTH", "UTRIE2_INDEX_1_OFFSET", "UTRIE2_OMITTED_BMP_INDEX_1_LENGTH", "UTRIE2_INDEX_2_BLOCK_LENGTH", "UTRIE2_INDEX_2_MASK", "slice16", "view", "start", "end", "slice32", "createTrieFromBase64", "_byteLength", "view32", "view16", "headerLength", "data", "Trie", "initialValue", "errorValue", "highStart", "highValueIndex", "ix", "LETTER_NUMBER_MODIFIER", "BK", "CR", "LF", "CM", "NL", "WJ", "ZW", "GL", "SP", "ZWJ", "B2", "BA", "BB", "HY", "CB", "CL", "CP", "EX", "IN", "NS", "OP", "QU", "IS", "NU", "PO", "PR", "SY", "AI", "AL", "CJ", "EB", "EM", "H2", "H3", "HL", "ID", "JL", "JV", "JT", "RI", "SA", "XX", "ea_OP", "BREAK_MANDATORY", "BREAK_NOT_ALLOWED", "BREAK_ALLOWED", "UnicodeTrie", "ALPHABETICS", "HARD_LINE_BREAKS", "SPACE", "PREFIX_POSTFIX", "LINE_BREAKS", "KOREAN_SYLLABLE_BLOCK", "HYPHEN", "codePointsToCharacterClasses", "lineBreak", "types", "indices", "categories", "classType", "prev", "isAdjacentWithSpaceIgnored", "a", "currentIndex", "classTypes", "current", "next", "previousNonSpaceClassType", "type", "_lineBreakAtIndex", "indicies", "forbiddenBreaks", "beforeIndex", "afterIndex", "before", "prevIndex", "count", "cssFormattedClasses", "options", "_a", "isLetterNumber", "forbiddenBreakpoints", "letterNumber", "Break", "LineBreaker", "lastEnd", "nextIndex", "FLAG_UNRESTRICTED", "FLAG_ID", "FLAG_INTEGER", "FLAG_NUMBER", "LINE_FEED", "SOLIDUS", "REVERSE_SOLIDUS", "CHARACTER_TABULATION", "QUOTATION_MARK", "EQUALS_SIGN", "NUMBER_SIGN", "DOLLAR_SIGN", "PERCENTAGE_SIGN", "APOSTROPHE", "LEFT_PARENTHESIS", "RIGHT_PARENTHESIS", "LOW_LINE", "HYPHEN_MINUS", "EXCLAMATION_MARK", "LESS_THAN_SIGN", "GREATER_THAN_SIGN", "COMMERCIAL_AT", "LEFT_SQUARE_BRACKET", "RIGHT_SQUARE_BRACKET", "CIRCUMFLEX_ACCENT", "LEFT_CURLY_BRACKET", "QUESTION_MARK", "RIGHT_CURLY_BRACKET", "VERTICAL_LINE", "TILDE", "CONTROL", "REPLACEMENT_CHARACTER", "ASTERISK", "PLUS_SIGN", "COMMA", "COLON", "SEMICOLON", "FULL_STOP", "NULL", "BACKSPACE", "LINE_TABULATION", "SHIFT_OUT", "INFORMATION_SEPARATOR_ONE", "DELETE", "EOF", "ZERO", "u", "z", "A", "E", "F", "U", "Z", "isDigit", "isSurrogateCodePoint", "isHex", "isLowerCaseLetter", "isUpperCaseLetter", "isLetter", "isNonASCIICodePoint", "isWhiteSpace", "isNameStartCodePoint", "isNameCodePoint", "isNonPrintableCodePoint", "isValidEscape", "c1", "c2", "isIdentifierStart", "c3", "isNumberStart", "stringToNumber", "c", "sign", "integers", "int", "fraction", "fracd", "frac", "expsign", "exponent", "exp", "LEFT_PARENTHESIS_TOKEN", "RIGHT_PARENTHESIS_TOKEN", "COMMA_TOKEN", "SUFFIX_MATCH_TOKEN", "PREFIX_MATCH_TOKEN", "COLUMN_TOKEN", "DASH_MATCH_TOKEN", "INCLUDE_MATCH_TOKEN", "LEFT_CURLY_BRACKET_TOKEN", "RIGHT_CURLY_BRACKET_TOKEN", "SUBSTRING_MATCH_TOKEN", "BAD_URL_TOKEN", "BAD_STRING_TOKEN", "CDO_TOKEN", "CDC_TOKEN", "COLON_TOKEN", "SEMICOLON_TOKEN", "LEFT_SQUARE_BRACKET_TOKEN", "RIGHT_SQUARE_BRACKET_TOKEN", "WHITESPACE_TOKEN", "EOF_TOKEN", "Tokenizer", "chunk", "tokens", "token", "flags", "e1", "e2", "e3", "a1", "a2", "a3", "u1", "u2", "delta", "digits", "questionMarks", "start_1", "digit", "endDigits", "stringToken", "SLICE_STACK_SIZE", "amount", "endingCodePoint", "repr", "number", "unit", "hex", "hexCodePoint", "Parser", "tokenizer", "values", "block", "isEndingTokenFor", "functionToken", "cssFunction", "isDimensionToken", "isNumberToken", "isIdentToken", "isStringToken", "isIdentWithValue", "nonWhiteSpace", "nonFunctionArgSeparator", "parseFunctionArgs", "args", "arg", "isLength", "isLengthPercentage", "parseLengthPercentageTuple", "ZERO_LENGTH", "FIFTY_PERCENT", "HUNDRED_PERCENT", "getAbsoluteValueForTuple", "tuple", "getAbsoluteValue", "parent", "DEG", "GRAD", "RAD", "TURN", "angle", "_context", "isAngle", "parseNamedSide", "sideOrCorner", "ident", "deg", "color", "colorFunction", "SUPPORTED_COLOR_FUNCTIONS", "r", "namedColor", "COLORS", "isTransparent", "asString", "alpha", "blue", "green", "red", "getTokenColorValue", "max", "rgb", "_b", "hue2rgb", "t1", "t2", "hue", "hsl", "saturation", "lightness", "parseColor", "backgroundClip", "backgroundColor", "parseColorStop", "colorType", "stop", "processColorStops", "stops", "lineLength", "first", "last", "processStops", "previous", "stop_1", "absoluteValue", "gapBegin", "stop_2", "gapLength", "beforeGap", "gapValue", "getAngleFromCorner", "corner", "centerX", "centerY", "calculateGradientDirection", "radian", "halfWidth", "halfHeight", "halfLineLength", "yDiff", "xDiff", "distance", "findCorner", "closest", "corners", "stat", "cx", "cy", "calculateRadius", "gradient", "rx", "ry", "linearGradient", "firstToken", "angleType", "colorStop", "angle$1", "prefixLinearGradient", "webkitGradient", "shape", "size", "position", "CLOSEST_SIDE", "FARTHEST_SIDE", "CLOSEST_CORNER", "FARTHEST_CORNER", "CIRCLE", "ELLIPSE", "COVER", "CONTAIN", "radialGradient", "isColorStop", "isAtPosition_1", "acc", "prefixRadialGradient", "isLinearGradient", "background", "isRadialGradient", "image", "image_1", "imageFunction", "SUPPORTED_IMAGE_FUNCTIONS", "isSupportedImage", "backgroundImage", "backgroundOrigin", "backgroundPosition", "backgroundRepeat", "parseBackgroundRepeat", "BACKGROUND_SIZE", "backgroundSize", "isBackgroundSizeInfoToken", "borderColorForSide", "side", "borderTopColor", "borderRightColor", "borderBottomColor", "borderLeftColor", "borderRadiusForSide", "borderTopLeftRadius", "borderTopRightRadius", "borderBottomRightRadius", "borderBottomLeftRadius", "borderStyleForSide", "style", "borderTopStyle", "borderRightStyle", "borderBottomStyle", "borderLeftStyle", "borderWidthForSide", "borderTopWidth", "borderRightWidth", "borderBottomWidth", "borderLeftWidth", "direction", "display", "bit", "parseDisplayValue", "float", "letterSpacing", "LINE_BREAK", "lineHeight", "computeLineHeight", "fontSize", "listStyleImage", "listStylePosition", "listStyleType", "marginForSide", "marginTop", "marginRight", "marginBottom", "marginLeft", "overflow", "overflowWrap", "paddingForSide", "paddingTop", "paddingRight", "paddingBottom", "paddingLeft", "textAlign", "textShadow", "shadow", "textTransform", "transform", "transformFunction", "SUPPORTED_TRANSFORM_FUNCTIONS", "matrix", "matrix3d", "b1", "b2", "a4", "b4", "DEFAULT_VALUE", "DEFAULT", "transformOrigin", "origins", "visibility", "WORD_BREAK", "wordBreak", "zIndex", "time", "opacity", "textDecorationColor", "textDecorationLine", "line", "fontFamily", "accumulator", "results", "fontWeight", "fontVariant", "fontStyle", "contains", "content", "counterIncrement", "increments", "filtered", "counter", "increment", "counterReset", "resets", "reset", "duration", "quotes", "open_1", "close_1", "getQuote", "depth", "open", "quote", "boxShadow", "paintOrder", "layers", "webkitTextStrokeColor", "webkitTextStrokeWidth", "CSSParsedDeclaration", "declaration", "parse", "overflowTuple", "CSSParsedPseudoDeclaration", "CSSParsedCounterDeclaration", "descriptor", "parser", "length_1", "value_1", "elementDebuggerAttribute", "getElementDebugType", "element", "attribute", "isDebugging", "elementType", "ElementContainer", "isHTMLElementNode", "Prepend", "Control", "Extend", "SpacingMark", "L", "V", "T", "LV", "LVT", "Extended_Pictographic", "codePointToClass", "_graphemeBreakAtIndex", "_codePoints", "countRI", "GraphemeBreaker", "graphemeBreak", "splitGraphemes", "breaker", "graphemes", "bk", "testRangeBounds", "TEST_HEIGHT", "range", "testElement", "rangeBounds", "rangeHeight", "testIOSLineBreak", "textList", "offset", "supports", "text", "boundAhead", "testCORS", "testResponseType", "testSVG", "img", "canvas", "ctx", "isGreenPixel", "testForeignObject", "greenImageSrc", "svg", "createForeignObjectSVG", "loadSerializedSVG", "xmlns", "foreignObject", "FEATURES", "TextBounds", "bounds", "parseTextBounds", "styles", "breakText", "textBounds", "clientRects", "createRange", "subSegments", "segmentGraphemes", "subOffset_1", "subSegment", "replacementNode", "getWrapperBounds", "ownerDocument", "wrapper", "parentNode", "segmenter", "segment", "segmentWords", "breakWords", "wordSeparators", "words", "word_1", "TextContainer", "CAPITALIZE", "capitalize", "m", "p1", "p2", "ImageElementContainer", "_super", "_this", "CanvasElementContainer", "SVGElementContainer", "LIElementContainer", "OLElementContainer", "CHECKBOX_BORDER_RADIUS", "RADIO_BORDER_RADIUS", "reformatInputBounds", "getInputValue", "PASSWORD", "CHECKBOX", "RADIO", "INPUT_COLOR", "InputElementContainer", "input", "SelectElementContainer", "option", "TextareaElementContainer", "IFrameElementContainer", "iframe", "parseTree", "documentBackgroundColor", "bodyBackgroundColor", "LIST_OWNERS", "parseNodeTree", "root", "childNode", "nextNode", "isTextNode", "isElementNode", "isSlotElement", "container", "createContainer", "createsRealStackingContext", "createsStackingContext", "isTextareaElement", "isSVGElement", "isSelectElement", "isImageElement", "isCanvasElement", "isLIElement", "isOLElement", "isInputElement", "isIFrameElement", "isBodyElement", "isSVGElementNode", "isHTMLElement", "isVideoElement", "isStyleElement", "isScriptElement", "isCustomElement", "CounterState", "name", "counters", "canReset", "entry", "counterNames", "ROMAN_UPPER", "ARMENIAN", "HEBREW", "GEORGIAN", "createAdditiveCounter", "min", "symbols", "fallback", "suffix", "createCounterText", "string", "integer", "createCounterStyleWithSymbolResolver", "codePointRangeLength", "isNumeric", "resolver", "createCounterStyleFromRange", "codePointRangeStart", "codePointRangeEnd", "createCounterStyleFromSymbols", "CJK_ZEROS", "CJK_TEN_COEFFICIENTS", "CJK_TEN_HIGH_COEFFICIENTS", "CJK_HUNDRED_COEFFICIENTS", "createCJKCounter", "numbers", "multipliers", "negativeSign", "tmp", "coefficient", "CHINESE_INFORMAL_MULTIPLIERS", "CHINESE_FORMAL_MULTIPLIERS", "JAPANESE_NEGATIVE", "KOREAN_NEGATIVE", "appendSuffix", "defaultSuffix", "cjkSuffix", "koreanSuffix", "spaceSuffix", "IGNORE_ATTRIBUTE", "DocumentCloner", "windowSize", "createIFrameContainer", "scrollX", "scrollY", "cloneWindow", "documentClone", "iframeLoad", "iframeLoader", "restoreNodeScroll", "onclone", "referenceElement", "imagesReady", "serializeDoctype", "restoreOwnerScroll", "clone", "copyCSSStyles", "sheet", "css", "rule", "clonedCanvas", "clonedCtx", "gl", "attribs", "video", "blankCanvas", "child", "copyStyles", "assignedNodes", "assignedNode", "window", "styleBefore", "styleAfter", "createPseudoHideStyles", "PseudoElementType", "after", "pseudoElt", "anonymousReplacedElement", "attr", "counterStyle", "counterState", "counterType", "delim", "counterStates", "counterType_1", "separator", "PSEUDO_HIDE_ELEMENT_CLASS_BEFORE", "PSEUDO_HIDE_ELEMENT_CLASS_AFTER", "newClassName", "cloneIframeContainer", "imageReady", "interval", "ignoredStyleProperties", "target", "property", "doctype", "PSEUDO_BEFORE", "PSEUDO_AFTER", "PSEUDO_HIDE_ELEMENT_STYLE", "createStyles", "CacheStorage", "url", "link", "src", "Cache", "_options", "isBlobImage", "isRenderable", "key", "isSameOrigin", "useCORS", "isInlineImage", "useProxy", "isInlineBase64Image", "proxy", "responseType", "xhr", "reader_1", "queryString", "timeout_1", "INLINE_SVG", "INLINE_BASE64", "INLINE_IMG", "isSVG", "Vector", "deltaX", "deltaY", "lerp", "BezierCurve", "startControl", "endControl", "firstHalf", "ab", "bc", "cd", "abbc", "bccd", "dest", "isBezierCurve", "path", "BoundCurves", "tlh", "tlv", "trh", "trv", "_c", "brh", "brv", "_d", "blh", "blv", "factors", "maxFactor", "topWidth", "rightHeight", "bottomWidth", "leftHeight", "getCurvePoints", "CORNER", "r1", "r2", "kappa", "ox", "oy", "xm", "ym", "calculateBorderBoxPath", "curves", "calculateContentBoxPath", "calculatePaddingBoxPath", "TransformEffect", "offsetX", "offsetY", "ClipEffect", "OpacityEffect", "isTransformEffect", "effect", "isClipEffect", "isOpacityEffect", "equalPath", "transformPath", "deltaW", "deltaH", "point", "StackingContext", "ElementPaint", "borderBox", "paddingBox", "inFlow", "effects", "croplessEffects", "parseStackTree", "stackingContext", "realStackingContext", "listItems", "treatAsRealStackingContext", "paintContainer", "listOwnerItems", "parentStack", "stack", "order_1", "index_1", "index_2", "processListItems", "owner", "elements", "numbering", "reversed", "item", "parseStackingContexts", "parsePathForBorder", "borderSide", "createPathFromCurves", "parsePathForBorderDoubleOuter", "parsePathForBorderDoubleInner", "parsePathForBorderStroke", "createStrokePathFromCurves", "outer1", "outer2", "inner1", "inner2", "contentBox", "calculateBackgroundPositioningArea", "calculateBackgroundPaintingArea", "calculateBackgroundRendering", "intrinsicSize", "backgroundPositioningArea", "getBackgroundValueForIndex", "backgroundPaintingArea", "backgroundImageSize", "calculateBackgroundSize", "sizeWidth", "sizeHeight", "calculateBackgroundRepeatPath", "isAuto", "hasIntrinsicValue", "intrinsicWidth", "intrinsicHeight", "intrinsicProportion", "second", "hasIntrinsicProportion", "targetRatio", "hasIntrinsicWidth", "hasIntrinsicHeight", "hasIntrinsicDimensions", "width_1", "height_1", "width_2", "height_2", "width_3", "height_3", "repeat", "SMALL_IMAGE", "SAMPLE_TEXT", "FontMetrics", "span", "baseline", "middle", "Renderer", "MASK_OFFSET", "CanvasRenderer", "paint", "letters", "letter", "variant", "fixIOSSystemFonts", "font", "paintOrderLayer", "textShadows", "box", "iframeRenderer", "isTextInputElement", "canvasTextAlign", "_p", "_e", "_g", "_f", "_j", "_h", "_l", "_k", "_o", "_m", "paths", "pattern", "this_1", "x0", "x1", "y0", "y1", "gradient_1", "top_1", "radialGradient_1", "midX", "midY", "invF", "curvePoints", "outerPaths", "innerPaths", "hasBackground", "borders", "calculateBackgroundCurvedPaintingArea", "borderBoxArea", "maskOffset", "shadowPaintingArea", "borders_1", "border", "strokePaths", "boxPaths", "startX", "startY", "endX", "endY", "dashLength", "spaceLength", "useLineDash", "multiplier", "numberOfDashes", "minSpace", "maxSpace", "path1", "path2", "clip", "iOSBrokenFonts", "fontFamilies", "ForeignObjectRenderer", "Logger", "id", "enabled", "Context", "windowBounds", "html2canvas", "renderElement", "opts", "defaultView", "resourceOptions", "contextOptions", "windowOptions", "foreignObjectRendering", "cloneOptions", "documentCloner", "clonedElement", "_u", "parseBackgroundColor", "renderOptions", "_q", "_r", "_s", "renderer", "_t", "backgroundColorOverride", "defaultBackgroundColor", "OrgChart", "options", "callback", "P", "value", "reason", "that", "defaultOptions", "opts", "data", "chart", "chartContainer", "spinner", "resp", "err", "exportBtn", "downloadBtn", "el", "fn", "expr", "child", "sibs", "prevSib", "nextSib", "elements", "classNames", "className", "prop", "val", "attr", "type", "listener", "self", "one", "__name", "event", "ancestors", "selector", "results", "url", "resolve", "reject", "xhr", "handler", "li", "subObj", "flags", "item", "node", "relation", "criteria", "state", "leftEdge", "rightEdge", "temp", "sibsVisible", "flag", "topEdge", "bottomEdge", "clickedNode", "focusedNode", "currentRoot", "nodeData", "table", "nodeDiv", "parentTr", "superiorLine", "inferiorLine", "childrenTr", "arrow", "parent", "direction", "siblings", "upperLevel", "sib", "nodeContainer", "animatedNodes", "lines", "line", "someLines", "grandfatherVisible", "parentState", "nodeId", "lastItem", "descendants", "isVerticalDesc", "desc", "appendTo", "count", "symbol", "childrenState", "oneSibling", "siblingCount", "existingSibligCount", "i", "rightLine", "leftLine", "nodeChart", "newSiblingCount", "insertPostion", "childCount", "siblingTds", "nodeCount", "td", "temp2", "temp3", "hEdge", "siblingsState", "toggleBtn", "descWrapper", "children", "subTBs", "classList", "isFirefox", "ghostNode", "nodeCover", "transValues", "scale", "xOffset", "yOffset", "ghostNodeWrapper", "dragged", "dragZone", "dragHier", "dropZone", "dropColspan", "leftline", "rightline", "dropSibs", "upperTr", "lowerTr", "nodeTr", "draggedTd", "dragColSpan", "dragSibs", "tr", "customE", "level", "inEdit", "isHidden", "icon", "title", "nodeWrapper", "childNodes", "isVerticalNode", "isVerticalLayer", "lineLayer", "nodeLayer", "nodeCell", "mask", "sourceChart", "cloneDoc", "canvasContainer", "canvas", "lastX", "lastY", "lastTf", "startX", "startY", "newX", "newY", "panStart", "matrix", "newScale", "dist", "diff", "appendStyle", "Linkx", "__name", "import_q", "import_q", "import_corelib", "import_html2canvas", "pageInit", "firstTime", "addedClass", "addedIndex", "removedNodeId", "indexToRemove", "CardType", "isOrgChartOutOfView", "orgChart", "rect", "__name", "DisplayMode", "orgStructDisplay", "orgChartDisplay", "ChartType", "scrollToParent", "chartToShift", "i", "orgChartContainer", "parentNode", "capitalizeFirstLetter", "string", "getEnumNameFromValue", "value", "findMax", "numbers", "GenerateEmployeeChoosingDialog", "CustomDialog", "e", "__async", "EmployeeIdInput", "ListCounter", "OccupationId", "ListOfEmployeeData", "str", "LookupIndex", "OccupationTable", "FinalOrgChartBuffer", "datascource2", "TargetedFinalOrgChartBuffer", "ElementToSetEmployeeInDialog", "SearchById", "SetEmployeeById", "GenerateSaveOrgStructure", "findEmployeeBuffer", "FinalDatascource2", "IsEmployeeInOrgChart", "findEmployee", "SplitOrgChartList", "deleteNodeById", "HierarchyLevelToSetEmployee", "DecomposeStringToList", "childrenHolder", "findByClassName", "__spreadValues", "insertNode", "EncodeString", "addChildren", "res", "GenerateSaveOrgChart", "CustomTable", "CustomTableRow", "CustomTableRow2", "fragment", "EmployeeIdTextNode", "EmployeeIdTextNodeContainer", "EmployeeNameTextNode", "EmployeeNameTextNodeContainer", "EmployeeIdSelector", "EmployeeNameSelector", "EmployeeNameInput", "dlg", "GeneratePdfDialog", "pdfDialog", "pdf", "currentPdfIndex", "pdfSources", "updatePdf", "pdfEmbed", "pdfTitle", "pdfOriginalName", "Style", "DataPanStart", "sortedValues", "a", "b", "key", "minimmumVal", "EmployeeEnum", "EmployeeChoosingDialog", "StyleLink", "appendStyle", "container", "DepartmentPanel", "DivisionPanel", "SectionPanel", "ListOfDivision", "ListOfDepartment", "ListOfSection", "EmployeeFilter", "datascource", "FinalDatascource", "JobGradeTable", "criteria", "ListOfEmployeeInEmployeeProfile", "SectionList", "DepartmentList", "DivisionList", "spareOrgStructJson", "spareOrgChartJson", "SplitOrgStructList", "FullProfileService", "response", "index", "OrganisationChartService", "GenerateOrgStructure", "FinalOrganisationChartService", "GenerateOrgChart", "PermissionKeys", "DivisionService", "DivisionContent", "DivisionTable", "DivisionRow", "ElementId", "CardText", "EmployeeCard", "GenerateCard", "DepartmentService", "DepartmentContent", "DepartmentTable", "DepartmentRow", "SectionService", "SectionContent", "SectionTable", "SectionRow", "EmployeeIdInputElement", "EmployeeNameInputElement", "BufferEmployeeImage", "EmployeeImage", "imgPath", "searcherInput", "tabcontent", "ChildrenList", "regex", "counter", "ListLength", "EmployeeIdInputEditor", "EmployeeNameInputEditor", "option", "ContentRow", "TabRowNode", "naviBar", "naviBarContent", "init", "openBig", "evt", "id", "tablinks", "OrgStructId", "activeTabLink", "idBuffer", "OrgChartId", "OrgChart", "DisableOrgChartMovement", "open", "cards", "OrgStructButton", "OrgChartButton", "ButtonHolder", "DepartmentTableButton", "DivisionTableButton", "SectionTableButton", "TextInputHolder", "orgchart", "stripClassSuffix", "root", "TargetClassName", "newNode", "item", "child", "hasChild", "checkRepeatedChildren", "result", "listChildrenId", "data", "parentId", "children", "childIds", "findTitleByClassName", "className", "findIdByClassName", "returnOnDelete", "removeEmptyChildren", "obj", "findChildrenById", "mutationsList", "mutation", "orgChartElement", "orgDiv", "nodes", "jsonObject", "setCallbacks", "observer", "CheckChart", "OrgStruct", "scroll", "isAnyNodeVisible", "node", "ElementArray", "j", "TargetElement", "event", "dragEvent", "relation", "StartPointData", "StartPointJson", "EventTargetElement", "destinationJson", "EventTargetHierarchy", "destinationClassName", "destinationId", "HierarchyLevelToSearch", "StartPointTitle", "StartPointName", "StartPointId", "StartPointHierarchyId", "StartPointHierarchy", "StringToShow", "targetElementId", "ClassName", "DestinationNode", "EmployeeRowId", "child_list", "StartPointParentId", "HierarchyValue", "bufferNode", "EncodingBuffer", "bufferId", "addListItem", "PathList", "TargetedClassName", "bufferNodeCopy", "text", "AvatarNodes", "AvatarNode", "panel", "StartPointJsonObject", "hierarchy", "destinationHierarchy", "title", "name", "targetedIdList", "targetedClass", "targetedId", "bufferIdSuffix", "TargetedFinalOrgChartParentBuffer", "ListOfPath", "newId", "parentOfElementToRemove", "childrenToAppend", "CheckBoxes", "isChecked", "targetJson", "targetEmployeeRowId", "ElementToSetEmployee", "ListOfRights", "extractRights", "EmployeeRightsService", "target", "targetId", "ElementToSet", "ElementToSetEmployeeClassName", "TargetElementSpan", "filterCheckBox", "OrgChartFilterCheckBox", "targetData", "targetClassName", "SetEmployeeByClassName", "pathList", "EmployeeInOrgStruct", "countEmployee", "EmployeeData", "Employee", "DivisionClass", "DepartmentClass", "SectionClass", "GenerateOrgChartData", "clickExportButton", "chartContainer", "mask", "sourceChart", "flag", "html2canvas", "cloneDoc", "canvasContainer", "canvas", "downloadBtn", "err", "isDivHidden", "div", "myDiv", "displayPdf", "employeeRow", "employee", "error", "EmployeeBasicDataDialog", "extractEmployeeInOrgChart", "results", "ExtendTree", "nestedChildren", "nestedChild", "strip", "extractRightsAndEmployeeRowId", "fillInRights", "Right", "EmployeeInOrgChart", "GenerativeOrgChartBuffer", "PrevDestination", "ignore", "Holder", "edited", "ListOfUnusedRights", "buffer", "newPath", "ComposeListToString", "Type", "EmployeeCol_2", "EmployeeContainer", "CardClass", "DataSource", "TitleContent", "StringToTransfer", "queue", "current", "traceParents", "allData", "parents", "parent", "SplitOrganisationStructureService", "checkedIds", "box", "Json", "filterFlag", "OrgStructFinalResult", "GenerateJson", "GenerateDefaultOrgStruct", "LeftPanel", "BulletList", "GenerateUl", "GenerateStructure", "generateOrgChartButton", "StructArray", "extractFirstNumber", "input", "match", "isEmployeeClassFormat", "resolve", "reject", "splitIntoNodes", "createRequests", "struct", "ElementRowID", "ClassList", "InputJson", "containerId", "filter", "image", "$jqueryObject", "cancelButton", "imgContainer", "img", "type", "checkbox", "checkedCheckboxes", "toggleStates", "cb", "toggle", "nodeId", "ul", "li", "toggleSpan", "toggleChildNodes", "childUl", "setChildCheckboxes", "parentLi", "childUls", "isExpanding", "allChildToggles", "childCheckbox", "newItemId", "newItemContent", "checkboxClass", "targetCheckbox", "parentListItem", "nestedUl", "newListItem", "ListOfStruct", "buildHierarchy", "findParentByEmployeeRowId", "employeeRowIdToRemove", "found", "filterChildren", "wasFiltered", "filteredChildren", "removeNodeByEmployeeRowId", "Route", "childrenToMove", "bufferOutput", "ListOfCurrentEmployeeInOrgChart", "SplitOrganisationChartService", "insert", "ObjToInsertRghts", "EmployeeRightBuffer", "OrgChartFinalResult", "GenerateSave", "JobGradeName", "basicPay", "button", "desiredOrder", "checkedAttribute", "row", "ViewButton", "jsonString", "GetLookupValueFromId", "destinationHierarchyId", "table", "StringToDecompose", "Starter", "Ender", "start", "bufferList", "charCode", "List", "OriginalString", "processNode", "childIndex", "processRights", "map", "cleanChildrenArray"]
}
