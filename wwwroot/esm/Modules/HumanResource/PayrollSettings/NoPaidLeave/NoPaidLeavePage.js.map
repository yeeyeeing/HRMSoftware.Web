{
  "version": 3,
  "sources": ["../../../../../../Modules/HumanResource/PayrollSettings/NoPaidLeave/NoPaidLeavePage.ts", "../../../../../../Modules/HumanResource/PayrollSettings/NoPaidLeave/NoPaidLeaveGrid.ts", "../../../../../../Modules/HumanResource/PayrollSettings/NoPaidLeave/NoPaidLeaveDialog.ts"],
  "sourcesContent": ["\uFEFFimport { initFullHeightGridPage } from '@serenity-is/corelib/q';\nimport { NoPaidLeaveGrid } from './NoPaidLeaveGrid';\n\nexport default function pageInit() {\n    initFullHeightGridPage(new NoPaidLeaveGrid($('#GridDiv')).element);\n}", "import { Decorators, EntityGrid, ListResponse } from '@serenity-is/corelib';\nimport { NoPaidLeaveColumns, NoPaidLeaveRow, NoPaidLeaveService } from '../../../ServerTypes/PayrollSettings';\nimport { NoPaidLeaveDialog } from './NoPaidLeaveDialog';\nimport { OccupationService } from '../../../ServerTypes/OrganisationHierarchy';\nimport { JobGradeService } from '../../../ServerTypes/OrganisationHierarchy';\nimport { DepartmentService } from '../../../ServerTypes/OrganisationHierarchy';\nimport { DivisionService } from '../../../ServerTypes/OrganisationHierarchy';\nimport { PermissionKeys } from '../../../ServerTypes/Administration';\nimport { Authorization } from '@serenity-is/corelib/q';\nimport { Select2Editor, QuickFilter, Widget } from '@serenity-is/corelib';\nimport { EmployeeProfileService } from '../../../ServerTypes/EmployeeProfile';\n\n@Decorators.registerClass('HRMSoftware.PayrollSettings.NoPaidLeaveGrid')\nexport class NoPaidLeaveGrid extends EntityGrid<NoPaidLeaveRow, any> {\n    protected getColumnsKey() { return NoPaidLeaveColumns.columnsKey; }\n    protected getDialogType() { return NoPaidLeaveDialog; }\n    protected getRowDefinition() { return NoPaidLeaveRow; }\n    protected getService() { return NoPaidLeaveService.baseUrl; }\n\n    constructor(container: JQuery) {\n        super(container);\n    }\n    protected onViewProcessData(response: ListResponse<NoPaidLeaveRow>) {\n        response = super.onViewProcessData(response);\n        this.toolbar.findButton(\"column-picker-button\").toggle(false);\n        return response;\n\n    }\n    protected getQuickFilters(): QuickFilter<Widget<any>, any>[] {\n        //Gets the Filters defined in the Columns or in parent grids.\n        let filters = super.getQuickFilters();\n        var thisrow = NoPaidLeaveRow\n        // console.log(filters[3].type = Select2Editor)\n        if (Authorization.hasPermission(PermissionKeys.HumanResources)) {\n\n            filters.push({\n                cssClass: \"hidden-xs\",\n                field: thisrow.Fields.OccupationName,\n                type: Select2Editor,\n                title: \"Occupation\",\n\n            });\n            filters.push({\n                cssClass: \"hidden-xs\",\n                field: thisrow.Fields.JobGradeName,\n                type: Select2Editor,\n                title: \"Job Grade\",\n\n            });\n            filters.push({\n                cssClass: \"hidden-xs\",\n                field: thisrow.Fields.DivisionName,\n                type: Select2Editor,\n                title: \"Division\",\n\n            });\n\n            filters.push({\n                cssClass: \"hidden-xs\",\n                field: thisrow.Fields.DepartmentName,\n                type: Select2Editor,\n                title: \"Department\",\n\n            });\n            filters.push({\n                cssClass: \"hidden-xs\",\n                field: thisrow.Fields.EmployeeName,\n                type: Select2Editor,\n                title: \"Name\",\n            });\n            filters.push({\n                cssClass: \"hidden-xs\",\n                field: thisrow.Fields.EmployeeId,\n                type: Select2Editor,\n                title: \"Employee ID\",\n            });\n            filters.reverse()\n\n        }\n        return filters;\n    }\n    protected createQuickFilters(): void {\n        // let base class to create quick filters first\n        const months: string[] = [\n            'January',   // 0\n            'February',  // 1\n            'March',     // 2\n            'April',     // 3\n            'May',       // 4\n            'June',      // 5\n            'July',      // 6\n            'August',    // 7\n            'September', // 8\n            'October',   // 9\n            'November',  // 10\n            'December'   // 11\n        ];\n\n        super.createQuickFilters();\n        var thisrow = NoPaidLeaveRow\n        if (Authorization.hasPermission(PermissionKeys.HumanResources)) {\n\n            OccupationService.List({\n            }, response => {\n                for (var index in response.Entities)\n                    this.findQuickFilter(Select2Editor, thisrow.Fields.OccupationName).items.push({ id: (response.Entities[index].Name).toString(), text: (response.Entities[index].Name).toString(), })\n            })\n            JobGradeService.List({\n            }, response => {\n                for (var index in response.Entities)\n                    this.findQuickFilter(Select2Editor, thisrow.Fields.JobGradeName).items.push({ id: (response.Entities[index].Name).toString(), text: (response.Entities[index].Name).toString(), })\n            })\n            DepartmentService.List({\n            }, response => {\n                for (var index in response.Entities)\n                    this.findQuickFilter(Select2Editor, thisrow.Fields.DepartmentName).items.push({ id: (response.Entities[index].Name).toString(), text: (response.Entities[index].Name).toString(), })\n            })\n            DivisionService.List({\n            }, response => {\n                for (var index in response.Entities)\n                    this.findQuickFilter(Select2Editor, thisrow.Fields.DivisionName).items.push({ id: (response.Entities[index].Name).toString(), text: (response.Entities[index].Name).toString(), })\n\n            })\n            EmployeeProfileService.List({\n            }, response => {\n                for (var index in response.Entities) {\n                    this.findQuickFilter(Select2Editor, thisrow.Fields.EmployeeName).items.push({ id: (response.Entities[index].EmployeeName).toString(), text: (response.Entities[index].EmployeeName).toString(), })\n                    this.findQuickFilter(Select2Editor, thisrow.Fields.EmployeeId).items.push({ id: (response.Entities[index].EmployeeID).toString(), text: (response.Entities[index].EmployeeID).toString(), })\n\n                }\n            })\n        }\n        else\n            this.toolbar.findButton(\"add-button\").toggle(false);\n\n    }\n\n\n}", "import { NoPaidLeaveForm, NoPaidLeaveRow, NoPaidLeaveService } from '../../../ServerTypes/PayrollSettings';\nimport { Decorators, EditorUtils, EntityDialog, Select2Editor } from '@serenity-is/corelib';\nimport { EmployeeProfileService } from '../../../ServerTypes/EmployeeProfile';\n\n@Decorators.registerClass('HRMSoftware.PayrollSettings.NoPaidLeaveDialog')\nexport class NoPaidLeaveDialog extends EntityDialog<NoPaidLeaveRow, any> {\n    protected getFormKey() { return NoPaidLeaveForm.formKey; }\n    protected getRowDefinition() { return NoPaidLeaveRow; }\n    protected getService() { return NoPaidLeaveService.baseUrl; }\n\n    protected form = new NoPaidLeaveForm(this.idPrefix);\n\n    public dialogOpen(asPanel?: boolean): void {\n\n\n\n        super.dialogOpen(asPanel);\n        var EmployeeRowIdValue = this.form.EmployeeRowId.value\n        EditorUtils.setReadonly(this.form.EmployeeName.element, true);\n\n        EmployeeProfileService.List({\n        }, response => {\n\n            var EmployeeRowIdElement = document.getElementById(this.idPrefix + 'EmployeeRowId')\n            let EmployeeRowIdEditor = new Select2Editor($(EmployeeRowIdElement))\n\n            var PersonNameElement = document.getElementById(this.idPrefix + 'EmployeeName')\n            interface Item {\n                id: number;\n                name: string;\n            }\n            let listOfDicts: Item[] = [];\n\n            for (var index in response.Entities) {\n                EmployeeRowIdEditor.addItem({ id: (response.Entities[index].Id).toString(), text: (response.Entities[index].EmployeeID).toString(), }); // 8am - 6pm , will consider lates\n                listOfDicts.push({ id: response.Entities[index].Id, name: response.Entities[index].EmployeeName });\n            }\n\n            $(EmployeeRowIdElement).on('change', async function () {\n\n\n                for (var index in listOfDicts) {\n                    if (listOfDicts[index].id == $(EmployeeRowIdElement).val())\n                        $(PersonNameElement).val(listOfDicts[index].name)\n                }\n            })\n            if (EmployeeRowIdValue != null)\n                $(EmployeeRowIdElement).val(EmployeeRowIdValue.toString()).trigger('change');\n\n        });\n\n\n    }\n\n}"],
  "mappings": "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",
  "names": ["import_q", "import_corelib", "import_corelib", "NoPaidLeaveDialog", "NoPaidLeaveForm", "NoPaidLeaveRow", "NoPaidLeaveService", "asPanel", "EmployeeRowIdValue", "EmployeeProfileService", "response", "EmployeeRowIdElement", "EmployeeRowIdEditor", "PersonNameElement", "listOfDicts", "index", "__async", "__name", "__decorateClass", "import_q", "import_corelib", "NoPaidLeaveGrid", "NoPaidLeaveColumns", "NoPaidLeaveDialog", "NoPaidLeaveRow", "NoPaidLeaveService", "container", "response", "filters", "thisrow", "PermissionKeys", "months", "OccupationService", "index", "JobGradeService", "DepartmentService", "DivisionService", "EmployeeProfileService", "__name", "__decorateClass", "pageInit", "NoPaidLeaveGrid", "__name"]
}
